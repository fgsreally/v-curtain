var gl=Object.defineProperty;var Rn=Object.getOwnPropertySymbols;var ml=Object.prototype.hasOwnProperty,xl=Object.prototype.propertyIsEnumerable;var Sn=(s,e,t)=>e in s?gl(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,Cn=(s,e)=>{for(var t in e||(e={}))ml.call(e,t)&&Sn(s,t,e[t]);if(Rn)for(var t of Rn(e))xl.call(e,t)&&Sn(s,t,e[t]);return s};const yl=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}};yl();function Nr(s,e){const t=Object.create(null),i=s.split(",");for(let r=0;r<i.length;r++)t[i[r]]=!0;return e?r=>!!t[r.toLowerCase()]:r=>!!t[r]}const bl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",vl=Nr(bl);function Ta(s){return!!s||s===""}function Vr(s){if(q(s)){const e={};for(let t=0;t<s.length;t++){const i=s[t],r=we(i)?Pl(i):Vr(i);if(r)for(const n in r)e[n]=r[n]}return e}else{if(we(s))return s;if(Se(s))return s}}const wl=/;(?![^(]*\))/g,Tl=/:(.+)/;function Pl(s){const e={};return s.split(wl).forEach(t=>{if(t){const i=t.split(Tl);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function Br(s){let e="";if(we(s))e=s;else if(q(s))for(let t=0;t<s.length;t++){const i=Br(s[t]);i&&(e+=i+" ")}else if(Se(s))for(const t in s)s[t]&&(e+=t+" ");return e.trim()}const ne={},gi=[],tt=()=>{},Rl=()=>!1,Sl=/^on[^a-z]/,Ms=s=>Sl.test(s),Wr=s=>s.startsWith("onUpdate:"),ve=Object.assign,jr=(s,e)=>{const t=s.indexOf(e);t>-1&&s.splice(t,1)},Cl=Object.prototype.hasOwnProperty,Z=(s,e)=>Cl.call(s,e),q=Array.isArray,zi=s=>As(s)==="[object Map]",El=s=>As(s)==="[object Set]",Y=s=>typeof s=="function",we=s=>typeof s=="string",Hr=s=>typeof s=="symbol",Se=s=>s!==null&&typeof s=="object",Pa=s=>Se(s)&&Y(s.then)&&Y(s.catch),Ml=Object.prototype.toString,As=s=>Ml.call(s),Al=s=>As(s).slice(8,-1),Ol=s=>As(s)==="[object Object]",Xr=s=>we(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,hs=Nr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Os=s=>{const e=Object.create(null);return t=>e[t]||(e[t]=s(t))},Fl=/-(\w)/g,dt=Os(s=>s.replace(Fl,(e,t)=>t?t.toUpperCase():"")),kl=/\B([A-Z])/g,Ci=Os(s=>s.replace(kl,"-$1").toLowerCase()),Fs=Os(s=>s.charAt(0).toUpperCase()+s.slice(1)),qs=Os(s=>s?`on${Fs(s)}`:""),ps=(s,e)=>!Object.is(s,e),$s=(s,e)=>{for(let t=0;t<s.length;t++)s[t](e)},gs=(s,e,t)=>{Object.defineProperty(s,e,{configurable:!0,enumerable:!1,value:t})},Dl=s=>{const e=parseFloat(s);return isNaN(e)?s:e};let En;const Ll=()=>En||(En=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let ot;class Il{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&ot&&(this.parent=ot,this.index=(ot.scopes||(ot.scopes=[])).push(this)-1)}run(e){if(this.active){const t=ot;try{return ot=this,e()}finally{ot=t}}}on(){ot=this}off(){ot=this.parent}stop(e){if(this.active){let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.scopes)for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function zl(s,e=ot){e&&e.active&&e.effects.push(s)}const Gr=s=>{const e=new Set(s);return e.w=0,e.n=0,e},Ra=s=>(s.w&Ut)>0,Sa=s=>(s.n&Ut)>0,Ul=({deps:s})=>{if(s.length)for(let e=0;e<s.length;e++)s[e].w|=Ut},Nl=s=>{const{deps:e}=s;if(e.length){let t=0;for(let i=0;i<e.length;i++){const r=e[i];Ra(r)&&!Sa(r)?r.delete(s):e[t++]=r,r.w&=~Ut,r.n&=~Ut}e.length=t}},cr=new WeakMap;let Fi=0,Ut=1;const fr=30;let Je;const ii=Symbol(""),dr=Symbol("");class Yr{constructor(e,t=null,i){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,zl(this,i)}run(){if(!this.active)return this.fn();let e=Je,t=kt;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Je,Je=this,kt=!0,Ut=1<<++Fi,Fi<=fr?Ul(this):Mn(this),this.fn()}finally{Fi<=fr&&Nl(this),Ut=1<<--Fi,Je=this.parent,kt=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Je===this?this.deferStop=!0:this.active&&(Mn(this),this.onStop&&this.onStop(),this.active=!1)}}function Mn(s){const{deps:e}=s;if(e.length){for(let t=0;t<e.length;t++)e[t].delete(s);e.length=0}}let kt=!0;const Ca=[];function Ei(){Ca.push(kt),kt=!1}function Mi(){const s=Ca.pop();kt=s===void 0?!0:s}function Ue(s,e,t){if(kt&&Je){let i=cr.get(s);i||cr.set(s,i=new Map);let r=i.get(t);r||i.set(t,r=Gr()),Ea(r)}}function Ea(s,e){let t=!1;Fi<=fr?Sa(s)||(s.n|=Ut,t=!Ra(s)):t=!s.has(Je),t&&(s.add(Je),Je.deps.push(s))}function vt(s,e,t,i,r,n){const a=cr.get(s);if(!a)return;let o=[];if(e==="clear")o=[...a.values()];else if(t==="length"&&q(s))a.forEach((l,h)=>{(h==="length"||h>=i)&&o.push(l)});else switch(t!==void 0&&o.push(a.get(t)),e){case"add":q(s)?Xr(t)&&o.push(a.get("length")):(o.push(a.get(ii)),zi(s)&&o.push(a.get(dr)));break;case"delete":q(s)||(o.push(a.get(ii)),zi(s)&&o.push(a.get(dr)));break;case"set":zi(s)&&o.push(a.get(ii));break}if(o.length===1)o[0]&&_r(o[0]);else{const l=[];for(const h of o)h&&l.push(...h);_r(Gr(l))}}function _r(s,e){const t=q(s)?s:[...s];for(const i of t)i.computed&&An(i);for(const i of t)i.computed||An(i)}function An(s,e){(s!==Je||s.allowRecurse)&&(s.scheduler?s.scheduler():s.run())}const Vl=Nr("__proto__,__v_isRef,__isVue"),Ma=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(Hr)),Bl=qr(),Wl=qr(!1,!0),jl=qr(!0),On=Hl();function Hl(){const s={};return["includes","indexOf","lastIndexOf"].forEach(e=>{s[e]=function(...t){const i=te(this);for(let n=0,a=this.length;n<a;n++)Ue(i,"get",n+"");const r=i[e](...t);return r===-1||r===!1?i[e](...t.map(te)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{s[e]=function(...t){Ei();const i=te(this)[e].apply(this,t);return Mi(),i}}),s}function qr(s=!1,e=!1){return function(i,r,n){if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&n===(s?e?ah:Da:e?ka:Fa).get(i))return i;const a=q(i);if(!s&&a&&Z(On,r))return Reflect.get(On,r,n);const o=Reflect.get(i,r,n);return(Hr(r)?Ma.has(r):Vl(r))||(s||Ue(i,"get",r),e)?o:Pe(o)?a&&Xr(r)?o:o.value:Se(o)?s?La(o):Qr(o):o}}const Xl=Aa(),Gl=Aa(!0);function Aa(s=!1){return function(t,i,r,n){let a=t[i];if(Hi(a)&&Pe(a)&&!Pe(r))return!1;if(!s&&!Hi(r)&&(pr(r)||(r=te(r),a=te(a)),!q(t)&&Pe(a)&&!Pe(r)))return a.value=r,!0;const o=q(t)&&Xr(i)?Number(i)<t.length:Z(t,i),l=Reflect.set(t,i,r,n);return t===te(n)&&(o?ps(r,a)&&vt(t,"set",i,r):vt(t,"add",i,r)),l}}function Yl(s,e){const t=Z(s,e);s[e];const i=Reflect.deleteProperty(s,e);return i&&t&&vt(s,"delete",e,void 0),i}function ql(s,e){const t=Reflect.has(s,e);return(!Hr(e)||!Ma.has(e))&&Ue(s,"has",e),t}function $l(s){return Ue(s,"iterate",q(s)?"length":ii),Reflect.ownKeys(s)}const Oa={get:Bl,set:Xl,deleteProperty:Yl,has:ql,ownKeys:$l},Kl={get:jl,set(s,e){return!0},deleteProperty(s,e){return!0}},Ql=ve({},Oa,{get:Wl,set:Gl}),$r=s=>s,ks=s=>Reflect.getPrototypeOf(s);function ss(s,e,t=!1,i=!1){s=s.__v_raw;const r=te(s),n=te(e);t||(e!==n&&Ue(r,"get",e),Ue(r,"get",n));const{has:a}=ks(r),o=i?$r:t?en:Jr;if(a.call(r,e))return o(s.get(e));if(a.call(r,n))return o(s.get(n));s!==r&&s.get(e)}function rs(s,e=!1){const t=this.__v_raw,i=te(t),r=te(s);return e||(s!==r&&Ue(i,"has",s),Ue(i,"has",r)),s===r?t.has(s):t.has(s)||t.has(r)}function ns(s,e=!1){return s=s.__v_raw,!e&&Ue(te(s),"iterate",ii),Reflect.get(s,"size",s)}function Fn(s){s=te(s);const e=te(this);return ks(e).has.call(e,s)||(e.add(s),vt(e,"add",s,s)),this}function kn(s,e){e=te(e);const t=te(this),{has:i,get:r}=ks(t);let n=i.call(t,s);n||(s=te(s),n=i.call(t,s));const a=r.call(t,s);return t.set(s,e),n?ps(e,a)&&vt(t,"set",s,e):vt(t,"add",s,e),this}function Dn(s){const e=te(this),{has:t,get:i}=ks(e);let r=t.call(e,s);r||(s=te(s),r=t.call(e,s)),i&&i.call(e,s);const n=e.delete(s);return r&&vt(e,"delete",s,void 0),n}function Ln(){const s=te(this),e=s.size!==0,t=s.clear();return e&&vt(s,"clear",void 0,void 0),t}function as(s,e){return function(i,r){const n=this,a=n.__v_raw,o=te(a),l=e?$r:s?en:Jr;return!s&&Ue(o,"iterate",ii),a.forEach((h,u)=>i.call(r,l(h),l(u),n))}}function os(s,e,t){return function(...i){const r=this.__v_raw,n=te(r),a=zi(n),o=s==="entries"||s===Symbol.iterator&&a,l=s==="keys"&&a,h=r[s](...i),u=t?$r:e?en:Jr;return!e&&Ue(n,"iterate",l?dr:ii),{next(){const{value:c,done:f}=h.next();return f?{value:c,done:f}:{value:o?[u(c[0]),u(c[1])]:u(c),done:f}},[Symbol.iterator](){return this}}}}function St(s){return function(...e){return s==="delete"?!1:this}}function Zl(){const s={get(n){return ss(this,n)},get size(){return ns(this)},has:rs,add:Fn,set:kn,delete:Dn,clear:Ln,forEach:as(!1,!1)},e={get(n){return ss(this,n,!1,!0)},get size(){return ns(this)},has:rs,add:Fn,set:kn,delete:Dn,clear:Ln,forEach:as(!1,!0)},t={get(n){return ss(this,n,!0)},get size(){return ns(this,!0)},has(n){return rs.call(this,n,!0)},add:St("add"),set:St("set"),delete:St("delete"),clear:St("clear"),forEach:as(!0,!1)},i={get(n){return ss(this,n,!0,!0)},get size(){return ns(this,!0)},has(n){return rs.call(this,n,!0)},add:St("add"),set:St("set"),delete:St("delete"),clear:St("clear"),forEach:as(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=os(n,!1,!1),t[n]=os(n,!0,!1),e[n]=os(n,!1,!0),i[n]=os(n,!0,!0)}),[s,t,e,i]}const[Jl,eh,th,ih]=Zl();function Kr(s,e){const t=e?s?ih:th:s?eh:Jl;return(i,r,n)=>r==="__v_isReactive"?!s:r==="__v_isReadonly"?s:r==="__v_raw"?i:Reflect.get(Z(t,r)&&r in i?t:i,r,n)}const sh={get:Kr(!1,!1)},rh={get:Kr(!1,!0)},nh={get:Kr(!0,!1)},Fa=new WeakMap,ka=new WeakMap,Da=new WeakMap,ah=new WeakMap;function oh(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function lh(s){return s.__v_skip||!Object.isExtensible(s)?0:oh(Al(s))}function Qr(s){return Hi(s)?s:Zr(s,!1,Oa,sh,Fa)}function hh(s){return Zr(s,!1,Ql,rh,ka)}function La(s){return Zr(s,!0,Kl,nh,Da)}function Zr(s,e,t,i,r){if(!Se(s)||s.__v_raw&&!(e&&s.__v_isReactive))return s;const n=r.get(s);if(n)return n;const a=lh(s);if(a===0)return s;const o=new Proxy(s,a===2?i:t);return r.set(s,o),o}function mi(s){return Hi(s)?mi(s.__v_raw):!!(s&&s.__v_isReactive)}function Hi(s){return!!(s&&s.__v_isReadonly)}function pr(s){return!!(s&&s.__v_isShallow)}function Ia(s){return mi(s)||Hi(s)}function te(s){const e=s&&s.__v_raw;return e?te(e):s}function za(s){return gs(s,"__v_skip",!0),s}const Jr=s=>Se(s)?Qr(s):s,en=s=>Se(s)?La(s):s;function uh(s){kt&&Je&&(s=te(s),Ea(s.dep||(s.dep=Gr())))}function ch(s,e){s=te(s),s.dep&&_r(s.dep)}function Pe(s){return!!(s&&s.__v_isRef===!0)}function us(s){return Pe(s)?s.value:s}const fh={get:(s,e,t)=>us(Reflect.get(s,e,t)),set:(s,e,t,i)=>{const r=s[e];return Pe(r)&&!Pe(t)?(r.value=t,!0):Reflect.set(s,e,t,i)}};function Ua(s){return mi(s)?s:new Proxy(s,fh)}class dh{constructor(e,t,i,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Yr(e,()=>{this._dirty||(this._dirty=!0,ch(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const e=te(this);return uh(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function _h(s,e,t=!1){let i,r;const n=Y(s);return n?(i=s,r=tt):(i=s.get,r=s.set),new dh(i,r,n||!r,t)}function Dt(s,e,t,i){let r;try{r=i?s(...i):s()}catch(n){Ds(n,e,t)}return r}function $e(s,e,t,i){if(Y(s)){const n=Dt(s,e,t,i);return n&&Pa(n)&&n.catch(a=>{Ds(a,e,t)}),n}const r=[];for(let n=0;n<s.length;n++)r.push($e(s[n],e,t,i));return r}function Ds(s,e,t,i=!0){const r=e?e.vnode:null;if(e){let n=e.parent;const a=e.proxy,o=t;for(;n;){const h=n.ec;if(h){for(let u=0;u<h.length;u++)if(h[u](s,a,o)===!1)return}n=n.parent}const l=e.appContext.config.errorHandler;if(l){Dt(l,null,10,[s,a,o]);return}}ph(s,t,r,i)}function ph(s,e,t,i=!0){console.error(s)}let ms=!1,gr=!1;const Le=[];let mt=0;const Ui=[];let ki=null,fi=0;const Ni=[];let Ct=null,di=0;const Na=Promise.resolve();let tn=null,mr=null;function gh(s){const e=tn||Na;return s?e.then(this?s.bind(this):s):e}function mh(s){let e=mt+1,t=Le.length;for(;e<t;){const i=e+t>>>1;Xi(Le[i])<s?e=i+1:t=i}return e}function Va(s){(!Le.length||!Le.includes(s,ms&&s.allowRecurse?mt+1:mt))&&s!==mr&&(s.id==null?Le.push(s):Le.splice(mh(s.id),0,s),Ba())}function Ba(){!ms&&!gr&&(gr=!0,tn=Na.then(Ha))}function xh(s){const e=Le.indexOf(s);e>mt&&Le.splice(e,1)}function Wa(s,e,t,i){q(s)?t.push(...s):(!e||!e.includes(s,s.allowRecurse?i+1:i))&&t.push(s),Ba()}function yh(s){Wa(s,ki,Ui,fi)}function bh(s){Wa(s,Ct,Ni,di)}function Ls(s,e=null){if(Ui.length){for(mr=e,ki=[...new Set(Ui)],Ui.length=0,fi=0;fi<ki.length;fi++)ki[fi]();ki=null,fi=0,mr=null,Ls(s,e)}}function ja(s){if(Ls(),Ni.length){const e=[...new Set(Ni)];if(Ni.length=0,Ct){Ct.push(...e);return}for(Ct=e,Ct.sort((t,i)=>Xi(t)-Xi(i)),di=0;di<Ct.length;di++)Ct[di]();Ct=null,di=0}}const Xi=s=>s.id==null?1/0:s.id;function Ha(s){gr=!1,ms=!0,Ls(s),Le.sort((t,i)=>Xi(t)-Xi(i));const e=tt;try{for(mt=0;mt<Le.length;mt++){const t=Le[mt];t&&t.active!==!1&&Dt(t,null,14)}}finally{mt=0,Le.length=0,ja(),ms=!1,tn=null,(Le.length||Ui.length||Ni.length)&&Ha(s)}}function vh(s,e,...t){if(s.isUnmounted)return;const i=s.vnode.props||ne;let r=t;const n=e.startsWith("update:"),a=n&&e.slice(7);if(a&&a in i){const u=`${a==="modelValue"?"model":a}Modifiers`,{number:c,trim:f}=i[u]||ne;f&&(r=t.map(d=>d.trim())),c&&(r=t.map(Dl))}let o,l=i[o=qs(e)]||i[o=qs(dt(e))];!l&&n&&(l=i[o=qs(Ci(e))]),l&&$e(l,s,6,r);const h=i[o+"Once"];if(h){if(!s.emitted)s.emitted={};else if(s.emitted[o])return;s.emitted[o]=!0,$e(h,s,6,r)}}function Xa(s,e,t=!1){const i=e.emitsCache,r=i.get(s);if(r!==void 0)return r;const n=s.emits;let a={},o=!1;if(!Y(s)){const l=h=>{const u=Xa(h,e,!0);u&&(o=!0,ve(a,u))};!t&&e.mixins.length&&e.mixins.forEach(l),s.extends&&l(s.extends),s.mixins&&s.mixins.forEach(l)}return!n&&!o?(i.set(s,null),null):(q(n)?n.forEach(l=>a[l]=null):ve(a,n),i.set(s,a),a)}function Is(s,e){return!s||!Ms(e)?!1:(e=e.slice(2).replace(/Once$/,""),Z(s,e[0].toLowerCase()+e.slice(1))||Z(s,Ci(e))||Z(s,e))}let Xe=null,Ga=null;function xs(s){const e=Xe;return Xe=s,Ga=s&&s.type.__scopeId||null,e}function wh(s,e=Xe,t){if(!e||s._n)return s;const i=(...r)=>{i._d&&Yn(-1);const n=xs(e),a=s(...r);return xs(n),i._d&&Yn(1),a};return i._n=!0,i._c=!0,i._d=!0,i}function Ks(s){const{type:e,vnode:t,proxy:i,withProxy:r,props:n,propsOptions:[a],slots:o,attrs:l,emit:h,render:u,renderCache:c,data:f,setupState:d,ctx:x,inheritAttrs:_}=s;let m,y;const T=xs(s);try{if(t.shapeFlag&4){const P=r||i;m=ut(u.call(P,P,c,n,d,f,x)),y=l}else{const P=e;m=ut(P.length>1?P(n,{attrs:l,slots:o,emit:h}):P(n,null)),y=e.props?l:Th(l)}}catch(P){Vi.length=0,Ds(P,s,1),m=Lt(xt)}let w=m;if(y&&_!==!1){const P=Object.keys(y),{shapeFlag:v}=w;P.length&&v&7&&(a&&P.some(Wr)&&(y=Ph(y,a)),w=Nt(w,y))}return t.dirs&&(w=Nt(w),w.dirs=w.dirs?w.dirs.concat(t.dirs):t.dirs),t.transition&&(w.transition=t.transition),m=w,xs(T),m}const Th=s=>{let e;for(const t in s)(t==="class"||t==="style"||Ms(t))&&((e||(e={}))[t]=s[t]);return e},Ph=(s,e)=>{const t={};for(const i in s)(!Wr(i)||!(i.slice(9)in e))&&(t[i]=s[i]);return t};function Rh(s,e,t){const{props:i,children:r,component:n}=s,{props:a,children:o,patchFlag:l}=e,h=n.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?In(i,a,h):!!a;if(l&8){const u=e.dynamicProps;for(let c=0;c<u.length;c++){const f=u[c];if(a[f]!==i[f]&&!Is(h,f))return!0}}}else return(r||o)&&(!o||!o.$stable)?!0:i===a?!1:i?a?In(i,a,h):!0:!!a;return!1}function In(s,e,t){const i=Object.keys(e);if(i.length!==Object.keys(s).length)return!0;for(let r=0;r<i.length;r++){const n=i[r];if(e[n]!==s[n]&&!Is(t,n))return!0}return!1}function Sh({vnode:s,parent:e},t){for(;e&&e.subTree===s;)(s=e.vnode).el=t,e=e.parent}const Ch=s=>s.__isSuspense;function Eh(s,e){e&&e.pendingBranch?q(s)?e.effects.push(...s):e.effects.push(s):bh(s)}function Mh(s,e){if(_e){let t=_e.provides;const i=_e.parent&&_e.parent.provides;i===t&&(t=_e.provides=Object.create(i)),t[s]=e}}function Qs(s,e,t=!1){const i=_e||Xe;if(i){const r=i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides;if(r&&s in r)return r[s];if(arguments.length>1)return t&&Y(e)?e.call(i.proxy):e}}const zn={};function Zs(s,e,t){return Ya(s,e,t)}function Ya(s,e,{immediate:t,deep:i,flush:r,onTrack:n,onTrigger:a}=ne){const o=_e;let l,h=!1,u=!1;if(Pe(s)?(l=()=>s.value,h=pr(s)):mi(s)?(l=()=>s,i=!0):q(s)?(u=!0,h=s.some(y=>mi(y)||pr(y)),l=()=>s.map(y=>{if(Pe(y))return y.value;if(mi(y))return ei(y);if(Y(y))return Dt(y,o,2)})):Y(s)?e?l=()=>Dt(s,o,2):l=()=>{if(!(o&&o.isUnmounted))return c&&c(),$e(s,o,3,[f])}:l=tt,e&&i){const y=l;l=()=>ei(y())}let c,f=y=>{c=m.onStop=()=>{Dt(y,o,4)}};if(Yi)return f=tt,e?t&&$e(e,o,3,[l(),u?[]:void 0,f]):l(),tt;let d=u?[]:zn;const x=()=>{if(!!m.active)if(e){const y=m.run();(i||h||(u?y.some((T,w)=>ps(T,d[w])):ps(y,d)))&&(c&&c(),$e(e,o,3,[y,d===zn?void 0:d,f]),d=y)}else m.run()};x.allowRecurse=!!e;let _;r==="sync"?_=x:r==="post"?_=()=>Ce(x,o&&o.suspense):_=()=>yh(x);const m=new Yr(l,_);return e?t?x():d=m.run():r==="post"?Ce(m.run.bind(m),o&&o.suspense):m.run(),()=>{m.stop(),o&&o.scope&&jr(o.scope.effects,m)}}function Ah(s,e,t){const i=this.proxy,r=we(s)?s.includes(".")?qa(i,s):()=>i[s]:s.bind(i,i);let n;Y(e)?n=e:(n=e.handler,t=e);const a=_e;vi(this);const o=Ya(r,n.bind(i),t);return a?vi(a):si(),o}function qa(s,e){const t=e.split(".");return()=>{let i=s;for(let r=0;r<t.length&&i;r++)i=i[t[r]];return i}}function ei(s,e){if(!Se(s)||s.__v_skip||(e=e||new Set,e.has(s)))return s;if(e.add(s),Pe(s))ei(s.value,e);else if(q(s))for(let t=0;t<s.length;t++)ei(s[t],e);else if(El(s)||zi(s))s.forEach(t=>{ei(t,e)});else if(Ol(s))for(const t in s)ei(s[t],e);return s}function Oh(){const s={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Za(()=>{s.isMounted=!0}),Ja(()=>{s.isUnmounting=!0}),s}const Be=[Function,Array],Fh={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Be,onEnter:Be,onAfterEnter:Be,onEnterCancelled:Be,onBeforeLeave:Be,onLeave:Be,onAfterLeave:Be,onLeaveCancelled:Be,onBeforeAppear:Be,onAppear:Be,onAfterAppear:Be,onAppearCancelled:Be},setup(s,{slots:e}){const t=Pu(),i=Oh();let r;return()=>{const n=e.default&&Ka(e.default(),!0);if(!n||!n.length)return;let a=n[0];if(n.length>1){for(const _ of n)if(_.type!==xt){a=_;break}}const o=te(s),{mode:l}=o;if(i.isLeaving)return Js(a);const h=Un(a);if(!h)return Js(a);const u=xr(h,o,i,t);yr(h,u);const c=t.subTree,f=c&&Un(c);let d=!1;const{getTransitionKey:x}=h.type;if(x){const _=x();r===void 0?r=_:_!==r&&(r=_,d=!0)}if(f&&f.type!==xt&&(!Qt(h,f)||d)){const _=xr(f,o,i,t);if(yr(f,_),l==="out-in")return i.isLeaving=!0,_.afterLeave=()=>{i.isLeaving=!1,t.update()},Js(a);l==="in-out"&&h.type!==xt&&(_.delayLeave=(m,y,T)=>{const w=$a(i,f);w[String(f.key)]=f,m._leaveCb=()=>{y(),m._leaveCb=void 0,delete u.delayedLeave},u.delayedLeave=T})}return a}}},kh=Fh;function $a(s,e){const{leavingVNodes:t}=s;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function xr(s,e,t,i){const{appear:r,mode:n,persisted:a=!1,onBeforeEnter:o,onEnter:l,onAfterEnter:h,onEnterCancelled:u,onBeforeLeave:c,onLeave:f,onAfterLeave:d,onLeaveCancelled:x,onBeforeAppear:_,onAppear:m,onAfterAppear:y,onAppearCancelled:T}=e,w=String(s.key),P=$a(t,s),v=(R,S)=>{R&&$e(R,i,9,S)},C=(R,S)=>{const I=S[1];v(R,S),q(R)?R.every(B=>B.length<=1)&&I():R.length<=1&&I()},O={mode:n,persisted:a,beforeEnter(R){let S=o;if(!t.isMounted)if(r)S=_||o;else return;R._leaveCb&&R._leaveCb(!0);const I=P[w];I&&Qt(s,I)&&I.el._leaveCb&&I.el._leaveCb(),v(S,[R])},enter(R){let S=l,I=h,B=u;if(!t.isMounted)if(r)S=m||l,I=y||h,B=T||u;else return;let H=!1;const G=R._enterCb=$=>{H||(H=!0,$?v(B,[R]):v(I,[R]),O.delayedLeave&&O.delayedLeave(),R._enterCb=void 0)};S?C(S,[R,G]):G()},leave(R,S){const I=String(s.key);if(R._enterCb&&R._enterCb(!0),t.isUnmounting)return S();v(c,[R]);let B=!1;const H=R._leaveCb=G=>{B||(B=!0,S(),G?v(x,[R]):v(d,[R]),R._leaveCb=void 0,P[I]===s&&delete P[I])};P[I]=s,f?C(f,[R,H]):H()},clone(R){return xr(R,e,t,i)}};return O}function Js(s){if(zs(s))return s=Nt(s),s.children=null,s}function Un(s){return zs(s)?s.children?s.children[0]:void 0:s}function yr(s,e){s.shapeFlag&6&&s.component?yr(s.component.subTree,e):s.shapeFlag&128?(s.ssContent.transition=e.clone(s.ssContent),s.ssFallback.transition=e.clone(s.ssFallback)):s.transition=e}function Ka(s,e=!1,t){let i=[],r=0;for(let n=0;n<s.length;n++){let a=s[n];const o=t==null?a.key:String(t)+String(a.key!=null?a.key:n);a.type===ht?(a.patchFlag&128&&r++,i=i.concat(Ka(a.children,e,o))):(e||a.type!==xt)&&i.push(o!=null?Nt(a,{key:o}):a)}if(r>1)for(let n=0;n<i.length;n++)i[n].patchFlag=-2;return i}const cs=s=>!!s.type.__asyncLoader,zs=s=>s.type.__isKeepAlive;function Dh(s,e){Qa(s,"a",e)}function Lh(s,e){Qa(s,"da",e)}function Qa(s,e,t=_e){const i=s.__wdc||(s.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return s()});if(Us(e,i,t),t){let r=t.parent;for(;r&&r.parent;)zs(r.parent.vnode)&&Ih(i,e,t,r),r=r.parent}}function Ih(s,e,t,i){const r=Us(e,s,i,!0);eo(()=>{jr(i[e],r)},t)}function Us(s,e,t=_e,i=!1){if(t){const r=t[s]||(t[s]=[]),n=e.__weh||(e.__weh=(...a)=>{if(t.isUnmounted)return;Ei(),vi(t);const o=$e(e,t,s,a);return si(),Mi(),o});return i?r.unshift(n):r.push(n),n}}const Rt=s=>(e,t=_e)=>(!Yi||s==="sp")&&Us(s,e,t),zh=Rt("bm"),Za=Rt("m"),Uh=Rt("bu"),Nh=Rt("u"),Ja=Rt("bum"),eo=Rt("um"),Vh=Rt("sp"),Bh=Rt("rtg"),Wh=Rt("rtc");function jh(s,e=_e){Us("ec",s,e)}function Hh(s,e){const t=Xe;if(t===null)return s;const i=Vs(t)||t.proxy,r=s.dirs||(s.dirs=[]);for(let n=0;n<e.length;n++){let[a,o,l,h=ne]=e[n];Y(a)&&(a={mounted:a,updated:a}),a.deep&&ei(o),r.push({dir:a,instance:i,value:o,oldValue:void 0,arg:l,modifiers:h})}return s}function Ht(s,e,t,i){const r=s.dirs,n=e&&e.dirs;for(let a=0;a<r.length;a++){const o=r[a];n&&(o.oldValue=n[a].value);let l=o.dir[i];l&&(Ei(),$e(l,t,8,[s.el,o,s,e]),Mi())}}const Xh="components",Gh="directives",Yh=Symbol();function qh(s){return $h(Gh,s)}function $h(s,e,t=!0,i=!1){const r=Xe||_e;if(r){const n=r.type;if(s===Xh){const o=Mu(n,!1);if(o&&(o===e||o===dt(e)||o===Fs(dt(e))))return n}const a=Nn(r[s]||n[s],e)||Nn(r.appContext[s],e);return!a&&i?n:a}}function Nn(s,e){return s&&(s[e]||s[dt(e)]||s[Fs(dt(e))])}const br=s=>s?co(s)?Vs(s)||s.proxy:br(s.parent):null,ys=ve(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>br(s.parent),$root:s=>br(s.root),$emit:s=>s.emit,$options:s=>io(s),$forceUpdate:s=>s.f||(s.f=()=>Va(s.update)),$nextTick:s=>s.n||(s.n=gh.bind(s.proxy)),$watch:s=>Ah.bind(s)}),Kh={get({_:s},e){const{ctx:t,setupState:i,data:r,props:n,accessCache:a,type:o,appContext:l}=s;let h;if(e[0]!=="$"){const d=a[e];if(d!==void 0)switch(d){case 1:return i[e];case 2:return r[e];case 4:return t[e];case 3:return n[e]}else{if(i!==ne&&Z(i,e))return a[e]=1,i[e];if(r!==ne&&Z(r,e))return a[e]=2,r[e];if((h=s.propsOptions[0])&&Z(h,e))return a[e]=3,n[e];if(t!==ne&&Z(t,e))return a[e]=4,t[e];vr&&(a[e]=0)}}const u=ys[e];let c,f;if(u)return e==="$attrs"&&Ue(s,"get",e),u(s);if((c=o.__cssModules)&&(c=c[e]))return c;if(t!==ne&&Z(t,e))return a[e]=4,t[e];if(f=l.config.globalProperties,Z(f,e))return f[e]},set({_:s},e,t){const{data:i,setupState:r,ctx:n}=s;return r!==ne&&Z(r,e)?(r[e]=t,!0):i!==ne&&Z(i,e)?(i[e]=t,!0):Z(s.props,e)||e[0]==="$"&&e.slice(1)in s?!1:(n[e]=t,!0)},has({_:{data:s,setupState:e,accessCache:t,ctx:i,appContext:r,propsOptions:n}},a){let o;return!!t[a]||s!==ne&&Z(s,a)||e!==ne&&Z(e,a)||(o=n[0])&&Z(o,a)||Z(i,a)||Z(ys,a)||Z(r.config.globalProperties,a)},defineProperty(s,e,t){return t.get!=null?s._.accessCache[e]=0:Z(t,"value")&&this.set(s,e,t.value,null),Reflect.defineProperty(s,e,t)}};let vr=!0;function Qh(s){const e=io(s),t=s.proxy,i=s.ctx;vr=!1,e.beforeCreate&&Vn(e.beforeCreate,s,"bc");const{data:r,computed:n,methods:a,watch:o,provide:l,inject:h,created:u,beforeMount:c,mounted:f,beforeUpdate:d,updated:x,activated:_,deactivated:m,beforeDestroy:y,beforeUnmount:T,destroyed:w,unmounted:P,render:v,renderTracked:C,renderTriggered:O,errorCaptured:R,serverPrefetch:S,expose:I,inheritAttrs:B,components:H,directives:G,filters:$}=e;if(h&&Zh(h,i,null,s.appContext.config.unwrapInjectedRef),a)for(const X in a){const K=a[X];Y(K)&&(i[X]=K.bind(t))}if(r){const X=r.call(t,t);Se(X)&&(s.data=Qr(X))}if(vr=!0,n)for(const X in n){const K=n[X],ce=Y(K)?K.bind(t,t):Y(K.get)?K.get.bind(t,t):tt,Ve=!Y(K)&&Y(K.set)?K.set.bind(t):tt,Fe=Ou({get:ce,set:Ve});Object.defineProperty(i,X,{enumerable:!0,configurable:!0,get:()=>Fe.value,set:_t=>Fe.value=_t})}if(o)for(const X in o)to(o[X],i,t,X);if(l){const X=Y(l)?l.call(t):l;Reflect.ownKeys(X).forEach(K=>{Mh(K,X[K])})}u&&Vn(u,s,"c");function U(X,K){q(K)?K.forEach(ce=>X(ce.bind(t))):K&&X(K.bind(t))}if(U(zh,c),U(Za,f),U(Uh,d),U(Nh,x),U(Dh,_),U(Lh,m),U(jh,R),U(Wh,C),U(Bh,O),U(Ja,T),U(eo,P),U(Vh,S),q(I))if(I.length){const X=s.exposed||(s.exposed={});I.forEach(K=>{Object.defineProperty(X,K,{get:()=>t[K],set:ce=>t[K]=ce})})}else s.exposed||(s.exposed={});v&&s.render===tt&&(s.render=v),B!=null&&(s.inheritAttrs=B),H&&(s.components=H),G&&(s.directives=G)}function Zh(s,e,t=tt,i=!1){q(s)&&(s=wr(s));for(const r in s){const n=s[r];let a;Se(n)?"default"in n?a=Qs(n.from||r,n.default,!0):a=Qs(n.from||r):a=Qs(n),Pe(a)&&i?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):e[r]=a}}function Vn(s,e,t){$e(q(s)?s.map(i=>i.bind(e.proxy)):s.bind(e.proxy),e,t)}function to(s,e,t,i){const r=i.includes(".")?qa(t,i):()=>t[i];if(we(s)){const n=e[s];Y(n)&&Zs(r,n)}else if(Y(s))Zs(r,s.bind(t));else if(Se(s))if(q(s))s.forEach(n=>to(n,e,t,i));else{const n=Y(s.handler)?s.handler.bind(t):e[s.handler];Y(n)&&Zs(r,n,s)}}function io(s){const e=s.type,{mixins:t,extends:i}=e,{mixins:r,optionsCache:n,config:{optionMergeStrategies:a}}=s.appContext,o=n.get(e);let l;return o?l=o:!r.length&&!t&&!i?l=e:(l={},r.length&&r.forEach(h=>bs(l,h,a,!0)),bs(l,e,a)),n.set(e,l),l}function bs(s,e,t,i=!1){const{mixins:r,extends:n}=e;n&&bs(s,n,t,!0),r&&r.forEach(a=>bs(s,a,t,!0));for(const a in e)if(!(i&&a==="expose")){const o=Jh[a]||t&&t[a];s[a]=o?o(s[a],e[a]):e[a]}return s}const Jh={data:Bn,props:qt,emits:qt,methods:qt,computed:qt,beforeCreate:Te,created:Te,beforeMount:Te,mounted:Te,beforeUpdate:Te,updated:Te,beforeDestroy:Te,beforeUnmount:Te,destroyed:Te,unmounted:Te,activated:Te,deactivated:Te,errorCaptured:Te,serverPrefetch:Te,components:qt,directives:qt,watch:tu,provide:Bn,inject:eu};function Bn(s,e){return e?s?function(){return ve(Y(s)?s.call(this,this):s,Y(e)?e.call(this,this):e)}:e:s}function eu(s,e){return qt(wr(s),wr(e))}function wr(s){if(q(s)){const e={};for(let t=0;t<s.length;t++)e[s[t]]=s[t];return e}return s}function Te(s,e){return s?[...new Set([].concat(s,e))]:e}function qt(s,e){return s?ve(ve(Object.create(null),s),e):e}function tu(s,e){if(!s)return e;if(!e)return s;const t=ve(Object.create(null),s);for(const i in e)t[i]=Te(s[i],e[i]);return t}function iu(s,e,t,i=!1){const r={},n={};gs(n,Ns,1),s.propsDefaults=Object.create(null),so(s,e,r,n);for(const a in s.propsOptions[0])a in r||(r[a]=void 0);t?s.props=i?r:hh(r):s.type.props?s.props=r:s.props=n,s.attrs=n}function su(s,e,t,i){const{props:r,attrs:n,vnode:{patchFlag:a}}=s,o=te(r),[l]=s.propsOptions;let h=!1;if((i||a>0)&&!(a&16)){if(a&8){const u=s.vnode.dynamicProps;for(let c=0;c<u.length;c++){let f=u[c];if(Is(s.emitsOptions,f))continue;const d=e[f];if(l)if(Z(n,f))d!==n[f]&&(n[f]=d,h=!0);else{const x=dt(f);r[x]=Tr(l,o,x,d,s,!1)}else d!==n[f]&&(n[f]=d,h=!0)}}}else{so(s,e,r,n)&&(h=!0);let u;for(const c in o)(!e||!Z(e,c)&&((u=Ci(c))===c||!Z(e,u)))&&(l?t&&(t[c]!==void 0||t[u]!==void 0)&&(r[c]=Tr(l,o,c,void 0,s,!0)):delete r[c]);if(n!==o)for(const c in n)(!e||!Z(e,c)&&!0)&&(delete n[c],h=!0)}h&&vt(s,"set","$attrs")}function so(s,e,t,i){const[r,n]=s.propsOptions;let a=!1,o;if(e)for(let l in e){if(hs(l))continue;const h=e[l];let u;r&&Z(r,u=dt(l))?!n||!n.includes(u)?t[u]=h:(o||(o={}))[u]=h:Is(s.emitsOptions,l)||(!(l in i)||h!==i[l])&&(i[l]=h,a=!0)}if(n){const l=te(t),h=o||ne;for(let u=0;u<n.length;u++){const c=n[u];t[c]=Tr(r,l,c,h[c],s,!Z(h,c))}}return a}function Tr(s,e,t,i,r,n){const a=s[t];if(a!=null){const o=Z(a,"default");if(o&&i===void 0){const l=a.default;if(a.type!==Function&&Y(l)){const{propsDefaults:h}=r;t in h?i=h[t]:(vi(r),i=h[t]=l.call(null,e),si())}else i=l}a[0]&&(n&&!o?i=!1:a[1]&&(i===""||i===Ci(t))&&(i=!0))}return i}function ro(s,e,t=!1){const i=e.propsCache,r=i.get(s);if(r)return r;const n=s.props,a={},o=[];let l=!1;if(!Y(s)){const u=c=>{l=!0;const[f,d]=ro(c,e,!0);ve(a,f),d&&o.push(...d)};!t&&e.mixins.length&&e.mixins.forEach(u),s.extends&&u(s.extends),s.mixins&&s.mixins.forEach(u)}if(!n&&!l)return i.set(s,gi),gi;if(q(n))for(let u=0;u<n.length;u++){const c=dt(n[u]);Wn(c)&&(a[c]=ne)}else if(n)for(const u in n){const c=dt(u);if(Wn(c)){const f=n[u],d=a[c]=q(f)||Y(f)?{type:f}:f;if(d){const x=Xn(Boolean,d.type),_=Xn(String,d.type);d[0]=x>-1,d[1]=_<0||x<_,(x>-1||Z(d,"default"))&&o.push(c)}}}const h=[a,o];return i.set(s,h),h}function Wn(s){return s[0]!=="$"}function jn(s){const e=s&&s.toString().match(/^\s*function (\w+)/);return e?e[1]:s===null?"null":""}function Hn(s,e){return jn(s)===jn(e)}function Xn(s,e){return q(e)?e.findIndex(t=>Hn(t,s)):Y(e)&&Hn(e,s)?0:-1}const no=s=>s[0]==="_"||s==="$stable",sn=s=>q(s)?s.map(ut):[ut(s)],ru=(s,e,t)=>{if(e._n)return e;const i=wh((...r)=>sn(e(...r)),t);return i._c=!1,i},ao=(s,e,t)=>{const i=s._ctx;for(const r in s){if(no(r))continue;const n=s[r];if(Y(n))e[r]=ru(r,n,i);else if(n!=null){const a=sn(n);e[r]=()=>a}}},oo=(s,e)=>{const t=sn(e);s.slots.default=()=>t},nu=(s,e)=>{if(s.vnode.shapeFlag&32){const t=e._;t?(s.slots=te(e),gs(e,"_",t)):ao(e,s.slots={})}else s.slots={},e&&oo(s,e);gs(s.slots,Ns,1)},au=(s,e,t)=>{const{vnode:i,slots:r}=s;let n=!0,a=ne;if(i.shapeFlag&32){const o=e._;o?t&&o===1?n=!1:(ve(r,e),!t&&o===1&&delete r._):(n=!e.$stable,ao(e,r)),a=e}else e&&(oo(s,e),a={default:1});if(n)for(const o in r)!no(o)&&!(o in a)&&delete r[o]};function lo(){return{app:null,config:{isNativeTag:Rl,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ou=0;function lu(s,e){return function(i,r=null){Y(i)||(i=Object.assign({},i)),r!=null&&!Se(r)&&(r=null);const n=lo(),a=new Set;let o=!1;const l=n.app={_uid:ou++,_component:i,_props:r,_container:null,_context:n,_instance:null,version:Fu,get config(){return n.config},set config(h){},use(h,...u){return a.has(h)||(h&&Y(h.install)?(a.add(h),h.install(l,...u)):Y(h)&&(a.add(h),h(l,...u))),l},mixin(h){return n.mixins.includes(h)||n.mixins.push(h),l},component(h,u){return u?(n.components[h]=u,l):n.components[h]},directive(h,u){return u?(n.directives[h]=u,l):n.directives[h]},mount(h,u,c){if(!o){const f=Lt(i,r);return f.appContext=n,u&&e?e(f,h):s(f,h,c),o=!0,l._container=h,h.__vue_app__=l,Vs(f.component)||f.component.proxy}},unmount(){o&&(s(null,l._container),delete l._container.__vue_app__)},provide(h,u){return n.provides[h]=u,l}};return l}}function Pr(s,e,t,i,r=!1){if(q(s)){s.forEach((f,d)=>Pr(f,e&&(q(e)?e[d]:e),t,i,r));return}if(cs(i)&&!r)return;const n=i.shapeFlag&4?Vs(i.component)||i.component.proxy:i.el,a=r?null:n,{i:o,r:l}=s,h=e&&e.r,u=o.refs===ne?o.refs={}:o.refs,c=o.setupState;if(h!=null&&h!==l&&(we(h)?(u[h]=null,Z(c,h)&&(c[h]=null)):Pe(h)&&(h.value=null)),Y(l))Dt(l,o,12,[a,u]);else{const f=we(l),d=Pe(l);if(f||d){const x=()=>{if(s.f){const _=f?u[l]:l.value;r?q(_)&&jr(_,n):q(_)?_.includes(n)||_.push(n):f?(u[l]=[n],Z(c,l)&&(c[l]=u[l])):(l.value=[n],s.k&&(u[s.k]=l.value))}else f?(u[l]=a,Z(c,l)&&(c[l]=a)):d&&(l.value=a,s.k&&(u[s.k]=a))};a?(x.id=-1,Ce(x,t)):x()}}}const Ce=Eh;function hu(s){return uu(s)}function uu(s,e){const t=Ll();t.__VUE__=!0;const{insert:i,remove:r,patchProp:n,createElement:a,createText:o,createComment:l,setText:h,setElementText:u,parentNode:c,nextSibling:f,setScopeId:d=tt,cloneNode:x,insertStaticContent:_}=s,m=(p,g,b,M=null,E=null,k=null,L=!1,F=null,D=!!g.dynamicChildren)=>{if(p===g)return;p&&!Qt(p,g)&&(M=is(p),fe(p,E,k,!0),p=null),g.patchFlag===-2&&(D=!1,g.dynamicChildren=null);const{type:A,ref:N,shapeFlag:z}=g;switch(A){case rn:y(p,g,b,M);break;case xt:T(p,g,b,M);break;case fs:p==null&&w(g,b,M,L);break;case ht:G(p,g,b,M,E,k,L,F,D);break;default:z&1?C(p,g,b,M,E,k,L,F,D):z&6?$(p,g,b,M,E,k,L,F,D):(z&64||z&128)&&A.process(p,g,b,M,E,k,L,F,D,hi)}N!=null&&E&&Pr(N,p&&p.ref,k,g||p,!g)},y=(p,g,b,M)=>{if(p==null)i(g.el=o(g.children),b,M);else{const E=g.el=p.el;g.children!==p.children&&h(E,g.children)}},T=(p,g,b,M)=>{p==null?i(g.el=l(g.children||""),b,M):g.el=p.el},w=(p,g,b,M)=>{[p.el,p.anchor]=_(p.children,g,b,M,p.el,p.anchor)},P=({el:p,anchor:g},b,M)=>{let E;for(;p&&p!==g;)E=f(p),i(p,b,M),p=E;i(g,b,M)},v=({el:p,anchor:g})=>{let b;for(;p&&p!==g;)b=f(p),r(p),p=b;r(g)},C=(p,g,b,M,E,k,L,F,D)=>{L=L||g.type==="svg",p==null?O(g,b,M,E,k,L,F,D):I(p,g,E,k,L,F,D)},O=(p,g,b,M,E,k,L,F)=>{let D,A;const{type:N,props:z,shapeFlag:V,transition:j,patchFlag:ee,dirs:ie}=p;if(p.el&&x!==void 0&&ee===-1)D=p.el=x(p.el);else{if(D=p.el=a(p.type,k,z&&z.is,z),V&8?u(D,p.children):V&16&&S(p.children,D,null,M,E,k&&N!=="foreignObject",L,F),ie&&Ht(p,null,M,"created"),z){for(const oe in z)oe!=="value"&&!hs(oe)&&n(D,oe,null,z[oe],k,p.children,M,E,pt);"value"in z&&n(D,"value",null,z.value),(A=z.onVnodeBeforeMount)&&nt(A,M,p)}R(D,p,p.scopeId,L,M)}ie&&Ht(p,null,M,"beforeMount");const se=(!E||E&&!E.pendingBranch)&&j&&!j.persisted;se&&j.beforeEnter(D),i(D,g,b),((A=z&&z.onVnodeMounted)||se||ie)&&Ce(()=>{A&&nt(A,M,p),se&&j.enter(D),ie&&Ht(p,null,M,"mounted")},E)},R=(p,g,b,M,E)=>{if(b&&d(p,b),M)for(let k=0;k<M.length;k++)d(p,M[k]);if(E){let k=E.subTree;if(g===k){const L=E.vnode;R(p,L,L.scopeId,L.slotScopeIds,E.parent)}}},S=(p,g,b,M,E,k,L,F,D=0)=>{for(let A=D;A<p.length;A++){const N=p[A]=F?Et(p[A]):ut(p[A]);m(null,N,g,b,M,E,k,L,F)}},I=(p,g,b,M,E,k,L)=>{const F=g.el=p.el;let{patchFlag:D,dynamicChildren:A,dirs:N}=g;D|=p.patchFlag&16;const z=p.props||ne,V=g.props||ne;let j;b&&Xt(b,!1),(j=V.onVnodeBeforeUpdate)&&nt(j,b,g,p),N&&Ht(g,p,b,"beforeUpdate"),b&&Xt(b,!0);const ee=E&&g.type!=="foreignObject";if(A?B(p.dynamicChildren,A,F,b,M,ee,k):L||ce(p,g,F,null,b,M,ee,k,!1),D>0){if(D&16)H(F,g,z,V,b,M,E);else if(D&2&&z.class!==V.class&&n(F,"class",null,V.class,E),D&4&&n(F,"style",z.style,V.style,E),D&8){const ie=g.dynamicProps;for(let se=0;se<ie.length;se++){const oe=ie[se],Qe=z[oe],ui=V[oe];(ui!==Qe||oe==="value")&&n(F,oe,Qe,ui,E,p.children,b,M,pt)}}D&1&&p.children!==g.children&&u(F,g.children)}else!L&&A==null&&H(F,g,z,V,b,M,E);((j=V.onVnodeUpdated)||N)&&Ce(()=>{j&&nt(j,b,g,p),N&&Ht(g,p,b,"updated")},M)},B=(p,g,b,M,E,k,L)=>{for(let F=0;F<g.length;F++){const D=p[F],A=g[F],N=D.el&&(D.type===ht||!Qt(D,A)||D.shapeFlag&70)?c(D.el):b;m(D,A,N,null,M,E,k,L,!0)}},H=(p,g,b,M,E,k,L)=>{if(b!==M){for(const F in M){if(hs(F))continue;const D=M[F],A=b[F];D!==A&&F!=="value"&&n(p,F,A,D,L,g.children,E,k,pt)}if(b!==ne)for(const F in b)!hs(F)&&!(F in M)&&n(p,F,b[F],null,L,g.children,E,k,pt);"value"in M&&n(p,"value",b.value,M.value)}},G=(p,g,b,M,E,k,L,F,D)=>{const A=g.el=p?p.el:o(""),N=g.anchor=p?p.anchor:o("");let{patchFlag:z,dynamicChildren:V,slotScopeIds:j}=g;j&&(F=F?F.concat(j):j),p==null?(i(A,b,M),i(N,b,M),S(g.children,b,N,E,k,L,F,D)):z>0&&z&64&&V&&p.dynamicChildren?(B(p.dynamicChildren,V,b,E,k,L,F),(g.key!=null||E&&g===E.subTree)&&ho(p,g,!0)):ce(p,g,b,N,E,k,L,F,D)},$=(p,g,b,M,E,k,L,F,D)=>{g.slotScopeIds=F,p==null?g.shapeFlag&512?E.ctx.activate(g,b,M,L,D):J(g,b,M,E,k,L,D):U(p,g,D)},J=(p,g,b,M,E,k,L)=>{const F=p.component=Tu(p,M,E);if(zs(p)&&(F.ctx.renderer=hi),Ru(F),F.asyncDep){if(E&&E.registerDep(F,X),!p.el){const D=F.subTree=Lt(xt);T(null,D,g,b)}return}X(F,p,g,b,E,k,L)},U=(p,g,b)=>{const M=g.component=p.component;if(Rh(p,g,b))if(M.asyncDep&&!M.asyncResolved){K(M,g,b);return}else M.next=g,xh(M.update),M.update();else g.el=p.el,M.vnode=g},X=(p,g,b,M,E,k,L)=>{const F=()=>{if(p.isMounted){let{next:N,bu:z,u:V,parent:j,vnode:ee}=p,ie=N,se;Xt(p,!1),N?(N.el=ee.el,K(p,N,L)):N=ee,z&&$s(z),(se=N.props&&N.props.onVnodeBeforeUpdate)&&nt(se,j,N,ee),Xt(p,!0);const oe=Ks(p),Qe=p.subTree;p.subTree=oe,m(Qe,oe,c(Qe.el),is(Qe),p,E,k),N.el=oe.el,ie===null&&Sh(p,oe.el),V&&Ce(V,E),(se=N.props&&N.props.onVnodeUpdated)&&Ce(()=>nt(se,j,N,ee),E)}else{let N;const{el:z,props:V}=g,{bm:j,m:ee,parent:ie}=p,se=cs(g);if(Xt(p,!1),j&&$s(j),!se&&(N=V&&V.onVnodeBeforeMount)&&nt(N,ie,g),Xt(p,!0),z&&Ys){const oe=()=>{p.subTree=Ks(p),Ys(z,p.subTree,p,E,null)};se?g.type.__asyncLoader().then(()=>!p.isUnmounted&&oe()):oe()}else{const oe=p.subTree=Ks(p);m(null,oe,b,M,p,E,k),g.el=oe.el}if(ee&&Ce(ee,E),!se&&(N=V&&V.onVnodeMounted)){const oe=g;Ce(()=>nt(N,ie,oe),E)}(g.shapeFlag&256||ie&&cs(ie.vnode)&&ie.vnode.shapeFlag&256)&&p.a&&Ce(p.a,E),p.isMounted=!0,g=b=M=null}},D=p.effect=new Yr(F,()=>Va(A),p.scope),A=p.update=()=>D.run();A.id=p.uid,Xt(p,!0),A()},K=(p,g,b)=>{g.component=p;const M=p.vnode.props;p.vnode=g,p.next=null,su(p,g.props,M,b),au(p,g.children,b),Ei(),Ls(void 0,p.update),Mi()},ce=(p,g,b,M,E,k,L,F,D=!1)=>{const A=p&&p.children,N=p?p.shapeFlag:0,z=g.children,{patchFlag:V,shapeFlag:j}=g;if(V>0){if(V&128){Fe(A,z,b,M,E,k,L,F,D);return}else if(V&256){Ve(A,z,b,M,E,k,L,F,D);return}}j&8?(N&16&&pt(A,E,k),z!==A&&u(b,z)):N&16?j&16?Fe(A,z,b,M,E,k,L,F,D):pt(A,E,k,!0):(N&8&&u(b,""),j&16&&S(z,b,M,E,k,L,F,D))},Ve=(p,g,b,M,E,k,L,F,D)=>{p=p||gi,g=g||gi;const A=p.length,N=g.length,z=Math.min(A,N);let V;for(V=0;V<z;V++){const j=g[V]=D?Et(g[V]):ut(g[V]);m(p[V],j,b,null,E,k,L,F,D)}A>N?pt(p,E,k,!0,!1,z):S(g,b,M,E,k,L,F,D,z)},Fe=(p,g,b,M,E,k,L,F,D)=>{let A=0;const N=g.length;let z=p.length-1,V=N-1;for(;A<=z&&A<=V;){const j=p[A],ee=g[A]=D?Et(g[A]):ut(g[A]);if(Qt(j,ee))m(j,ee,b,null,E,k,L,F,D);else break;A++}for(;A<=z&&A<=V;){const j=p[z],ee=g[V]=D?Et(g[V]):ut(g[V]);if(Qt(j,ee))m(j,ee,b,null,E,k,L,F,D);else break;z--,V--}if(A>z){if(A<=V){const j=V+1,ee=j<N?g[j].el:M;for(;A<=V;)m(null,g[A]=D?Et(g[A]):ut(g[A]),b,ee,E,k,L,F,D),A++}}else if(A>V)for(;A<=z;)fe(p[A],E,k,!0),A++;else{const j=A,ee=A,ie=new Map;for(A=ee;A<=V;A++){const ke=g[A]=D?Et(g[A]):ut(g[A]);ke.key!=null&&ie.set(ke.key,A)}let se,oe=0;const Qe=V-ee+1;let ui=!1,wn=0;const Ai=new Array(Qe);for(A=0;A<Qe;A++)Ai[A]=0;for(A=j;A<=z;A++){const ke=p[A];if(oe>=Qe){fe(ke,E,k,!0);continue}let rt;if(ke.key!=null)rt=ie.get(ke.key);else for(se=ee;se<=V;se++)if(Ai[se-ee]===0&&Qt(ke,g[se])){rt=se;break}rt===void 0?fe(ke,E,k,!0):(Ai[rt-ee]=A+1,rt>=wn?wn=rt:ui=!0,m(ke,g[rt],b,null,E,k,L,F,D),oe++)}const Tn=ui?cu(Ai):gi;for(se=Tn.length-1,A=Qe-1;A>=0;A--){const ke=ee+A,rt=g[ke],Pn=ke+1<N?g[ke+1].el:M;Ai[A]===0?m(null,rt,b,Pn,E,k,L,F,D):ui&&(se<0||A!==Tn[se]?_t(rt,b,Pn,2):se--)}}},_t=(p,g,b,M,E=null)=>{const{el:k,type:L,transition:F,children:D,shapeFlag:A}=p;if(A&6){_t(p.component.subTree,g,b,M);return}if(A&128){p.suspense.move(g,b,M);return}if(A&64){L.move(p,g,b,hi);return}if(L===ht){i(k,g,b);for(let z=0;z<D.length;z++)_t(D[z],g,b,M);i(p.anchor,g,b);return}if(L===fs){P(p,g,b);return}if(M!==2&&A&1&&F)if(M===0)F.beforeEnter(k),i(k,g,b),Ce(()=>F.enter(k),E);else{const{leave:z,delayLeave:V,afterLeave:j}=F,ee=()=>i(k,g,b),ie=()=>{z(k,()=>{ee(),j&&j()})};V?V(k,ee,ie):ie()}else i(k,g,b)},fe=(p,g,b,M=!1,E=!1)=>{const{type:k,props:L,ref:F,children:D,dynamicChildren:A,shapeFlag:N,patchFlag:z,dirs:V}=p;if(F!=null&&Pr(F,null,b,p,!0),N&256){g.ctx.deactivate(p);return}const j=N&1&&V,ee=!cs(p);let ie;if(ee&&(ie=L&&L.onVnodeBeforeUnmount)&&nt(ie,g,p),N&6)pl(p.component,b,M);else{if(N&128){p.suspense.unmount(b,M);return}j&&Ht(p,null,g,"beforeUnmount"),N&64?p.type.remove(p,g,b,E,hi,M):A&&(k!==ht||z>0&&z&64)?pt(A,g,b,!1,!0):(k===ht&&z&384||!E&&N&16)&&pt(D,g,b),M&&st(p)}(ee&&(ie=L&&L.onVnodeUnmounted)||j)&&Ce(()=>{ie&&nt(ie,g,p),j&&Ht(p,null,g,"unmounted")},b)},st=p=>{const{type:g,el:b,anchor:M,transition:E}=p;if(g===ht){_l(b,M);return}if(g===fs){v(p);return}const k=()=>{r(b),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(p.shapeFlag&1&&E&&!E.persisted){const{leave:L,delayLeave:F}=E,D=()=>L(b,k);F?F(p.el,k,D):D()}else k()},_l=(p,g)=>{let b;for(;p!==g;)b=f(p),r(p),p=b;r(g)},pl=(p,g,b)=>{const{bum:M,scope:E,update:k,subTree:L,um:F}=p;M&&$s(M),E.stop(),k&&(k.active=!1,fe(L,p,g,b)),F&&Ce(F,g),Ce(()=>{p.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},pt=(p,g,b,M=!1,E=!1,k=0)=>{for(let L=k;L<p.length;L++)fe(p[L],g,b,M,E)},is=p=>p.shapeFlag&6?is(p.component.subTree):p.shapeFlag&128?p.suspense.next():f(p.anchor||p.el),vn=(p,g,b)=>{p==null?g._vnode&&fe(g._vnode,null,null,!0):m(g._vnode||null,p,g,null,null,null,b),ja(),g._vnode=p},hi={p:m,um:fe,m:_t,r:st,mt:J,mc:S,pc:ce,pbc:B,n:is,o:s};let Gs,Ys;return e&&([Gs,Ys]=e(hi)),{render:vn,hydrate:Gs,createApp:lu(vn,Gs)}}function Xt({effect:s,update:e},t){s.allowRecurse=e.allowRecurse=t}function ho(s,e,t=!1){const i=s.children,r=e.children;if(q(i)&&q(r))for(let n=0;n<i.length;n++){const a=i[n];let o=r[n];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=r[n]=Et(r[n]),o.el=a.el),t||ho(a,o))}}function cu(s){const e=s.slice(),t=[0];let i,r,n,a,o;const l=s.length;for(i=0;i<l;i++){const h=s[i];if(h!==0){if(r=t[t.length-1],s[r]<h){e[i]=r,t.push(i);continue}for(n=0,a=t.length-1;n<a;)o=n+a>>1,s[t[o]]<h?n=o+1:a=o;h<s[t[n]]&&(n>0&&(e[i]=t[n-1]),t[n]=i)}}for(n=t.length,a=t[n-1];n-- >0;)t[n]=a,a=e[a];return t}const fu=s=>s.__isTeleport,ht=Symbol(void 0),rn=Symbol(void 0),xt=Symbol(void 0),fs=Symbol(void 0),Vi=[];let et=null;function Gn(s=!1){Vi.push(et=s?null:[])}function du(){Vi.pop(),et=Vi[Vi.length-1]||null}let Gi=1;function Yn(s){Gi+=s}function _u(s){return s.dynamicChildren=Gi>0?et||gi:null,du(),Gi>0&&et&&et.push(s),s}function qn(s,e,t,i,r,n){return _u(Zt(s,e,t,i,r,n,!0))}function pu(s){return s?s.__v_isVNode===!0:!1}function Qt(s,e){return s.type===e.type&&s.key===e.key}const Ns="__vInternal",uo=({key:s})=>s!=null?s:null,ds=({ref:s,ref_key:e,ref_for:t})=>s!=null?we(s)||Pe(s)||Y(s)?{i:Xe,r:s,k:e,f:!!t}:s:null;function Zt(s,e=null,t=null,i=0,r=null,n=s===ht?0:1,a=!1,o=!1){const l={__v_isVNode:!0,__v_skip:!0,type:s,props:e,key:e&&uo(e),ref:e&&ds(e),scopeId:Ga,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:n,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null};return o?(nn(l,t),n&128&&s.normalize(l)):t&&(l.shapeFlag|=we(t)?8:16),Gi>0&&!a&&et&&(l.patchFlag>0||n&6)&&l.patchFlag!==32&&et.push(l),l}const Lt=gu;function gu(s,e=null,t=null,i=0,r=null,n=!1){if((!s||s===Yh)&&(s=xt),pu(s)){const o=Nt(s,e,!0);return t&&nn(o,t),Gi>0&&!n&&et&&(o.shapeFlag&6?et[et.indexOf(s)]=o:et.push(o)),o.patchFlag|=-2,o}if(Au(s)&&(s=s.__vccOpts),e){e=mu(e);let{class:o,style:l}=e;o&&!we(o)&&(e.class=Br(o)),Se(l)&&(Ia(l)&&!q(l)&&(l=ve({},l)),e.style=Vr(l))}const a=we(s)?1:Ch(s)?128:fu(s)?64:Se(s)?4:Y(s)?2:0;return Zt(s,e,t,i,r,a,n,!0)}function mu(s){return s?Ia(s)||Ns in s?ve({},s):s:null}function Nt(s,e,t=!1){const{props:i,ref:r,patchFlag:n,children:a}=s,o=e?bu(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:s.type,props:o,key:o&&uo(o),ref:e&&e.ref?t&&r?q(r)?r.concat(ds(e)):[r,ds(e)]:ds(e):r,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:a,target:s.target,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:e&&s.type!==ht?n===-1?16:n|16:n,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:s.transition,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&Nt(s.ssContent),ssFallback:s.ssFallback&&Nt(s.ssFallback),el:s.el,anchor:s.anchor}}function xu(s=" ",e=0){return Lt(rn,null,s,e)}function yu(s,e){const t=Lt(fs,null,s);return t.staticCount=e,t}function ut(s){return s==null||typeof s=="boolean"?Lt(xt):q(s)?Lt(ht,null,s.slice()):typeof s=="object"?Et(s):Lt(rn,null,String(s))}function Et(s){return s.el===null||s.memo?s:Nt(s)}function nn(s,e){let t=0;const{shapeFlag:i}=s;if(e==null)e=null;else if(q(e))t=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),nn(s,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!(Ns in e)?e._ctx=Xe:r===3&&Xe&&(Xe.slots._===1?e._=1:(e._=2,s.patchFlag|=1024))}else Y(e)?(e={default:e,_ctx:Xe},t=32):(e=String(e),i&64?(t=16,e=[xu(e)]):t=8);s.children=e,s.shapeFlag|=t}function bu(...s){const e={};for(let t=0;t<s.length;t++){const i=s[t];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=Br([e.class,i.class]));else if(r==="style")e.style=Vr([e.style,i.style]);else if(Ms(r)){const n=e[r],a=i[r];a&&n!==a&&!(q(n)&&n.includes(a))&&(e[r]=n?[].concat(n,a):a)}else r!==""&&(e[r]=i[r])}return e}function nt(s,e,t,i=null){$e(s,e,7,[t,i])}const vu=lo();let wu=0;function Tu(s,e,t){const i=s.type,r=(e?e.appContext:s.appContext)||vu,n={uid:wu++,vnode:s,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Il(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ro(i,r),emitsOptions:Xa(i,r),emit:null,emitted:null,propsDefaults:ne,inheritAttrs:i.inheritAttrs,ctx:ne,data:ne,props:ne,attrs:ne,slots:ne,refs:ne,setupState:ne,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return n.ctx={_:n},n.root=e?e.root:n,n.emit=vh.bind(null,n),s.ce&&s.ce(n),n}let _e=null;const Pu=()=>_e||Xe,vi=s=>{_e=s,s.scope.on()},si=()=>{_e&&_e.scope.off(),_e=null};function co(s){return s.vnode.shapeFlag&4}let Yi=!1;function Ru(s,e=!1){Yi=e;const{props:t,children:i}=s.vnode,r=co(s);iu(s,t,r,e),nu(s,i);const n=r?Su(s,e):void 0;return Yi=!1,n}function Su(s,e){const t=s.type;s.accessCache=Object.create(null),s.proxy=za(new Proxy(s.ctx,Kh));const{setup:i}=t;if(i){const r=s.setupContext=i.length>1?Eu(s):null;vi(s),Ei();const n=Dt(i,s,0,[s.props,r]);if(Mi(),si(),Pa(n)){if(n.then(si,si),e)return n.then(a=>{$n(s,a,e)}).catch(a=>{Ds(a,s,0)});s.asyncDep=n}else $n(s,n,e)}else fo(s,e)}function $n(s,e,t){Y(e)?s.type.__ssrInlineRender?s.ssrRender=e:s.render=e:Se(e)&&(s.setupState=Ua(e)),fo(s,t)}let Kn;function fo(s,e,t){const i=s.type;if(!s.render){if(!e&&Kn&&!i.render){const r=i.template;if(r){const{isCustomElement:n,compilerOptions:a}=s.appContext.config,{delimiters:o,compilerOptions:l}=i,h=ve(ve({isCustomElement:n,delimiters:o},a),l);i.render=Kn(r,h)}}s.render=i.render||tt}vi(s),Ei(),Qh(s),Mi(),si()}function Cu(s){return new Proxy(s.attrs,{get(e,t){return Ue(s,"get","$attrs"),e[t]}})}function Eu(s){const e=i=>{s.exposed=i||{}};let t;return{get attrs(){return t||(t=Cu(s))},slots:s.slots,emit:s.emit,expose:e}}function Vs(s){if(s.exposed)return s.exposeProxy||(s.exposeProxy=new Proxy(Ua(za(s.exposed)),{get(e,t){if(t in e)return e[t];if(t in ys)return ys[t](s)}}))}function Mu(s,e=!0){return Y(s)?s.displayName||s.name:s.name||e&&s.__name}function Au(s){return Y(s)&&"__vccOpts"in s}const Ou=(s,e)=>_h(s,e,Yi),Fu="3.2.37",ku="http://www.w3.org/2000/svg",Jt=typeof document!="undefined"?document:null,Qn=Jt&&Jt.createElement("template"),Du={insert:(s,e,t)=>{e.insertBefore(s,t||null)},remove:s=>{const e=s.parentNode;e&&e.removeChild(s)},createElement:(s,e,t,i)=>{const r=e?Jt.createElementNS(ku,s):Jt.createElement(s,t?{is:t}:void 0);return s==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:s=>Jt.createTextNode(s),createComment:s=>Jt.createComment(s),setText:(s,e)=>{s.nodeValue=e},setElementText:(s,e)=>{s.textContent=e},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>Jt.querySelector(s),setScopeId(s,e){s.setAttribute(e,"")},cloneNode(s){const e=s.cloneNode(!0);return"_value"in s&&(e._value=s._value),e},insertStaticContent(s,e,t,i,r,n){const a=t?t.previousSibling:e.lastChild;if(r&&(r===n||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===n||!(r=r.nextSibling)););else{Qn.innerHTML=i?`<svg>${s}</svg>`:s;const o=Qn.content;if(i){const l=o.firstChild;for(;l.firstChild;)o.appendChild(l.firstChild);o.removeChild(l)}e.insertBefore(o,t)}return[a?a.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}};function Lu(s,e,t){const i=s._vtc;i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?s.removeAttribute("class"):t?s.setAttribute("class",e):s.className=e}function Iu(s,e,t){const i=s.style,r=we(t);if(t&&!r){for(const n in t)Rr(i,n,t[n]);if(e&&!we(e))for(const n in e)t[n]==null&&Rr(i,n,"")}else{const n=i.display;r?e!==t&&(i.cssText=t):e&&s.removeAttribute("style"),"_vod"in s&&(i.display=n)}}const Zn=/\s*!important$/;function Rr(s,e,t){if(q(t))t.forEach(i=>Rr(s,e,i));else if(t==null&&(t=""),e.startsWith("--"))s.setProperty(e,t);else{const i=zu(s,e);Zn.test(t)?s.setProperty(Ci(i),t.replace(Zn,""),"important"):s[i]=t}}const Jn=["Webkit","Moz","ms"],er={};function zu(s,e){const t=er[e];if(t)return t;let i=dt(e);if(i!=="filter"&&i in s)return er[e]=i;i=Fs(i);for(let r=0;r<Jn.length;r++){const n=Jn[r]+i;if(n in s)return er[e]=n}return e}const ea="http://www.w3.org/1999/xlink";function Uu(s,e,t,i,r){if(i&&e.startsWith("xlink:"))t==null?s.removeAttributeNS(ea,e.slice(6,e.length)):s.setAttributeNS(ea,e,t);else{const n=vl(e);t==null||n&&!Ta(t)?s.removeAttribute(e):s.setAttribute(e,n?"":t)}}function Nu(s,e,t,i,r,n,a){if(e==="innerHTML"||e==="textContent"){i&&a(i,r,n),s[e]=t==null?"":t;return}if(e==="value"&&s.tagName!=="PROGRESS"&&!s.tagName.includes("-")){s._value=t;const l=t==null?"":t;(s.value!==l||s.tagName==="OPTION")&&(s.value=l),t==null&&s.removeAttribute(e);return}let o=!1;if(t===""||t==null){const l=typeof s[e];l==="boolean"?t=Ta(t):t==null&&l==="string"?(t="",o=!0):l==="number"&&(t=0,o=!0)}try{s[e]=t}catch{}o&&s.removeAttribute(e)}const[_o,Vu]=(()=>{let s=Date.now,e=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(s=performance.now.bind(performance));const t=navigator.userAgent.match(/firefox\/(\d+)/i);e=!!(t&&Number(t[1])<=53)}return[s,e]})();let Sr=0;const Bu=Promise.resolve(),Wu=()=>{Sr=0},ju=()=>Sr||(Bu.then(Wu),Sr=_o());function Hu(s,e,t,i){s.addEventListener(e,t,i)}function Xu(s,e,t,i){s.removeEventListener(e,t,i)}function Gu(s,e,t,i,r=null){const n=s._vei||(s._vei={}),a=n[e];if(i&&a)a.value=i;else{const[o,l]=Yu(e);if(i){const h=n[e]=qu(i,r);Hu(s,o,h,l)}else a&&(Xu(s,o,a,l),n[e]=void 0)}}const ta=/(?:Once|Passive|Capture)$/;function Yu(s){let e;if(ta.test(s)){e={};let t;for(;t=s.match(ta);)s=s.slice(0,s.length-t[0].length),e[t[0].toLowerCase()]=!0}return[Ci(s.slice(2)),e]}function qu(s,e){const t=i=>{const r=i.timeStamp||_o();(Vu||r>=t.attached-1)&&$e($u(i,t.value),e,5,[i])};return t.value=s,t.attached=ju(),t}function $u(s,e){if(q(e)){const t=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{t.call(s),s._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const ia=/^on[a-z]/,Ku=(s,e,t,i,r=!1,n,a,o,l)=>{e==="class"?Lu(s,i,r):e==="style"?Iu(s,t,i):Ms(e)?Wr(e)||Gu(s,e,t,i,a):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Qu(s,e,i,r))?Nu(s,e,i,n,a,o,l):(e==="true-value"?s._trueValue=i:e==="false-value"&&(s._falseValue=i),Uu(s,e,i,r))};function Qu(s,e,t,i){return i?!!(e==="innerHTML"||e==="textContent"||e in s&&ia.test(e)&&Y(t)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&s.tagName==="INPUT"||e==="type"&&s.tagName==="TEXTAREA"||ia.test(e)&&we(t)?!1:e in s}const Zu={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};kh.props;const Ju=ve({patchProp:Ku},Du);let sa;function ec(){return sa||(sa=hu(Ju))}const tc=(...s)=>{const e=ec().createApp(...s),{mount:t}=e;return e.mount=i=>{const r=ic(i);if(!r)return;const n=e._component;!Y(n)&&!n.render&&!n.template&&(n.template=r.innerHTML),r.innerHTML="";const a=t(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},e};function ic(s){return we(s)?document.querySelector(s):s}function gt(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function po(s,e){s.prototype=Object.create(e.prototype),s.prototype.constructor=s,s.__proto__=e}/*!
 * GSAP 3.10.4
 * https://greensock.com
 *
 * @license Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ze={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},wi={duration:.5,overwrite:!1,delay:0},an,Ge=1e8,ae=1/Ge,Cr=Math.PI*2,sc=Cr/4,rc=0,go=Math.sqrt,nc=Math.cos,ac=Math.sin,ge=function(e){return typeof e=="string"},pe=function(e){return typeof e=="function"},wt=function(e){return typeof e=="number"},on=function(e){return typeof e=="undefined"},Tt=function(e){return typeof e=="object"},Me=function(e){return e!==!1},mo=function(){return typeof window!="undefined"},ls=function(e){return pe(e)||ge(e)},xo=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},be=Array.isArray,Er=/(?:-?\.?\d|\.)+/gi,yo=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_i=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,tr=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,bo=/[+-]=-?[.\d]+/,vo=/[^,'"\[\]\s]+/gi,oc=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,le,lt,Mr,ln,Ne={},vs={},wo,To=function(e){return(vs=oi(e,Ne))&&it},hn=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},ws=function(e,t){return!t&&console.warn(e)},Po=function(e,t){return e&&(Ne[e]=t)&&vs&&(vs[e]=t)||Ne},qi=function(){return 0},un={},It=[],Ar={},Ro,De={},ir={},ra=30,_s=[],cn="",fn=function(e){var t=e[0],i,r;if(Tt(t)||pe(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=_s.length;r--&&!_s[r].targetTest(t););i=_s[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new Yo(e[r],i)))||e.splice(r,1);return e},ri=function(e){return e._gsap||fn(Ye(e))[0]._gsap},So=function(e,t,i){return(i=e[t])&&pe(i)?e[t]():on(i)&&e.getAttribute&&e.getAttribute(t)||i},Ae=function(e,t){return(e=e.split(",")).forEach(t)||e},ue=function(e){return Math.round(e*1e5)/1e5||0},xe=function(e){return Math.round(e*1e7)/1e7||0},xi=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},lc=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},Ts=function(){var e=It.length,t=It.slice(0),i,r;for(Ar={},It.length=0,i=0;i<e;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},Co=function(e,t,i,r){It.length&&Ts(),e.render(t,i,r),It.length&&Ts()},Eo=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(vo).length<2?t:ge(e)?e.trim():e},Mo=function(e){return e},Ke=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},hc=function(e){return function(t,i){for(var r in i)r in t||r==="duration"&&e||r==="ease"||(t[r]=i[r])}},oi=function(e,t){for(var i in t)e[i]=t[i];return e},na=function s(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=Tt(t[i])?s(e[i]||(e[i]={}),t[i]):t[i]);return e},Ps=function(e,t){var i={},r;for(r in e)r in t||(i[r]=e[r]);return i},Bi=function(e){var t=e.parent||le,i=e.keyframes?hc(be(e.keyframes)):Ke;if(Me(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},uc=function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0},Ao=function(e,t,i,r,n){i===void 0&&(i="_first"),r===void 0&&(r="_last");var a=e[r],o;if(n)for(o=t[n];a&&a[n]>o;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=a,t.parent=t._dp=e,t},Bs=function(e,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var n=t._prev,a=t._next;n?n._next=a:e[i]===t&&(e[i]=a),a?a._prev=n:e[r]===t&&(e[r]=n),t._next=t._prev=t.parent=null},yt=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove(e),e._act=0},ni=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},cc=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},fc=function s(e){return!e||e._ts&&s(e.parent)},aa=function(e){return e._repeat?Ti(e._tTime,e=e.duration()+e._rDelay)*e:0},Ti=function(e,t){var i=Math.floor(e/=t);return e&&i===e?i-1:i},Rs=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Ws=function(e){return e._end=xe(e._start+(e._tDur/Math.abs(e._ts||e._rts||ae)||0))},dn=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=xe(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Ws(e),i._dirty||ni(i,e)),e},Oo=function(e,t){var i;if((t._time||t._initted&&!t._dur)&&(i=Rs(e.rawTime(),t),(!t._dur||ts(0,t.totalDuration(),i)-t._tTime>ae)&&t.render(i,!0)),ni(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-ae}},ct=function(e,t,i,r){return t.parent&&yt(t),t._start=xe((wt(i)?i:i||e!==le?He(e,i,t):e._time)+t._delay),t._end=xe(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),Ao(e,t,"_first","_last",e._sort?"_start":0),Or(t)||(e._recent=t),r||Oo(e,t),e},Fo=function(e,t){return(Ne.ScrollTrigger||hn("scrollTrigger",t))&&Ne.ScrollTrigger.create(t,e)},ko=function(e,t,i,r){if(pn(e,t),!e._initted)return 1;if(!i&&e._pt&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Ro!==Ie.frame)return It.push(e),e._lazy=[t,r],1},dc=function s(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||s(t))},Or=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},_c=function(e,t,i,r){var n=e.ratio,a=t<0||!t&&(!e._start&&dc(e)&&!(!e._initted&&Or(e))||(e._ts<0||e._dp._ts<0)&&!Or(e))?0:1,o=e._rDelay,l=0,h,u,c;if(o&&e._repeat&&(l=ts(0,e._tDur,t),u=Ti(l,o),e._yoyo&&u&1&&(a=1-a),u!==Ti(e._tTime,o)&&(n=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==n||r||e._zTime===ae||!t&&e._zTime){if(!e._initted&&ko(e,t,r,i))return;for(c=e._zTime,e._zTime=t||(i?ae:0),i||(i=t&&!c),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=l,h=e._pt;h;)h.r(a,h.d),h=h._next;e._startAt&&t<0&&e._startAt.render(t,!0,!0),e._onUpdate&&!i&&qe(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&qe(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&yt(e,1),i||(qe(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},pc=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},Pi=function(e,t,i,r){var n=e._repeat,a=xe(t)||0,o=e._tTime/e._tDur;return o&&!r&&(e._time*=a/e._dur),e._dur=a,e._tDur=n?n<0?1e10:xe(a*(n+1)+e._rDelay*n):a,o>0&&!r?dn(e,e._tTime=e._tDur*o):e.parent&&Ws(e),i||ni(e.parent,e),e},oa=function(e){return e instanceof Ee?ni(e):Pi(e,e._dur)},gc={_start:0,endTime:qi,totalDuration:qi},He=function s(e,t,i){var r=e.labels,n=e._recent||gc,a=e.duration()>=Ge?n.endTime(!1):e._dur,o,l,h;return ge(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),h=t.substr(-1)==="%",o=t.indexOf("="),l==="<"||l===">"?(o>=0&&(t=t.replace(/=/,"")),(l==="<"?n._start:n.endTime(n._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(o<0?n:i).totalDuration()/100:1)):o<0?(t in r||(r[t]=a),r[t]):(l=parseFloat(t.charAt(o-1)+t.substr(o+1)),h&&i&&(l=l/100*(be(i)?i[0]:i).totalDuration()),o>1?s(e,t.substr(0,o-1),i)+l:a+l)):t==null?a:+t},Wi=function(e,t,i){var r=wt(t[1]),n=(r?2:1)+(e<2?0:1),a=t[n],o,l;if(r&&(a.duration=t[1]),a.parent=i,e){for(o=a,l=i;l&&!("immediateRender"in o);)o=l.vars.defaults||{},l=Me(l.vars.inherit)&&l.parent;a.immediateRender=Me(o.immediateRender),e<2?a.runBackwards=1:a.startAt=t[n-1]}return new de(t[0],a,t[n+1])},jt=function(e,t){return e||e===0?t(e):t},ts=function(e,t,i){return i<e?e:i>t?t:i},ye=function(e,t){return!ge(e)||!(t=oc.exec(e))?"":t[1]},mc=function(e,t,i){return jt(i,function(r){return ts(e,t,r)})},Fr=[].slice,Do=function(e,t){return e&&Tt(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Tt(e[0]))&&!e.nodeType&&e!==lt},xc=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(r){var n;return ge(r)&&!t||Do(r,1)?(n=i).push.apply(n,Ye(r)):i.push(r)})||i},Ye=function(e,t,i){return ge(e)&&!i&&(Mr||!Ri())?Fr.call((t||ln).querySelectorAll(e),0):be(e)?xc(e,i):Do(e)?Fr.call(e,0):e?[e]:[]},yc=function(e){return e=Ye(e)[0]||ws("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return Ye(t,i.querySelectorAll?i:i===e?ws("Invalid scope")||ln.createElement("div"):e)}},Lo=function(e){return e.sort(function(){return .5-Math.random()})},Io=function(e){if(pe(e))return e;var t=Tt(e)?e:{each:e},i=ai(t.ease),r=t.from||0,n=parseFloat(t.base)||0,a={},o=r>0&&r<1,l=isNaN(r)||o,h=t.axis,u=r,c=r;return ge(r)?u=c={center:.5,edges:.5,end:1}[r]||0:!o&&l&&(u=r[0],c=r[1]),function(f,d,x){var _=(x||t).length,m=a[_],y,T,w,P,v,C,O,R,S;if(!m){if(S=t.grid==="auto"?0:(t.grid||[1,Ge])[1],!S){for(O=-Ge;O<(O=x[S++].getBoundingClientRect().left)&&S<_;);S--}for(m=a[_]=[],y=l?Math.min(S,_)*u-.5:r%S,T=S===Ge?0:l?_*c/S-.5:r/S|0,O=0,R=Ge,C=0;C<_;C++)w=C%S-y,P=T-(C/S|0),m[C]=v=h?Math.abs(h==="y"?P:w):go(w*w+P*P),v>O&&(O=v),v<R&&(R=v);r==="random"&&Lo(m),m.max=O-R,m.min=R,m.v=_=(parseFloat(t.amount)||parseFloat(t.each)*(S>_?_-1:h?h==="y"?_/S:S:Math.max(S,_/S))||0)*(r==="edges"?-1:1),m.b=_<0?n-_:n,m.u=ye(t.amount||t.each)||0,i=i&&_<0?Ho(i):i}return _=(m[f]-m.min)/m.max||0,xe(m.b+(i?i(_):_)*m.v)+m.u}},kr=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=Math.round(parseFloat(i)/e)*e*t;return(r-r%1)/t+(wt(i)?0:ye(i))}},zo=function(e,t){var i=be(e),r,n;return!i&&Tt(e)&&(r=i=e.radius||Ge,e.values?(e=Ye(e.values),(n=!wt(e[0]))&&(r*=r)):e=kr(e.increment)),jt(t,i?pe(e)?function(a){return n=e(a),Math.abs(n-a)<=r?n:a}:function(a){for(var o=parseFloat(n?a.x:a),l=parseFloat(n?a.y:0),h=Ge,u=0,c=e.length,f,d;c--;)n?(f=e[c].x-o,d=e[c].y-l,f=f*f+d*d):f=Math.abs(e[c]-o),f<h&&(h=f,u=c);return u=!r||h<=r?e[u]:a,n||u===a||wt(a)?u:u+ye(a)}:kr(e))},Uo=function(e,t,i,r){return jt(be(e)?!t:i===!0?!!(i=0):!r,function(){return be(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*r)/r})},bc=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(n,a){return a(n)},r)}},vc=function(e,t){return function(i){return e(parseFloat(i))+(t||ye(i))}},wc=function(e,t,i){return Vo(e,t,0,1,i)},No=function(e,t,i){return jt(i,function(r){return e[~~t(r)]})},Tc=function s(e,t,i){var r=t-e;return be(e)?No(e,s(0,e.length),t):jt(i,function(n){return(r+(n-e)%r)%r+e})},Pc=function s(e,t,i){var r=t-e,n=r*2;return be(e)?No(e,s(0,e.length-1),t):jt(i,function(a){return a=(n+(a-e)%n)%n||0,e+(a>r?n-a:a)})},$i=function(e){for(var t=0,i="",r,n,a,o;~(r=e.indexOf("random(",t));)a=e.indexOf(")",r),o=e.charAt(r+7)==="[",n=e.substr(r+7,a-r-7).match(o?vo:Er),i+=e.substr(t,r-t)+Uo(o?n:+n[0],o?0:+n[1],+n[2]||1e-5),t=a+1;return i+e.substr(t,e.length-t)},Vo=function(e,t,i,r,n){var a=t-e,o=r-i;return jt(n,function(l){return i+((l-e)/a*o||0)})},Rc=function s(e,t,i,r){var n=isNaN(e+t)?0:function(d){return(1-d)*e+d*t};if(!n){var a=ge(e),o={},l,h,u,c,f;if(i===!0&&(r=1)&&(i=null),a)e={p:e},t={p:t};else if(be(e)&&!be(t)){for(u=[],c=e.length,f=c-2,h=1;h<c;h++)u.push(s(e[h-1],e[h]));c--,n=function(x){x*=c;var _=Math.min(f,~~x);return u[_](x-_)},i=t}else r||(e=oi(be(e)?[]:{},e));if(!u){for(l in t)_n.call(o,e,l,"get",t[l]);n=function(x){return xn(x,o)||(a?e.p:e)}}}return jt(i,n)},la=function(e,t,i){var r=e.labels,n=Ge,a,o,l;for(a in r)o=r[a]-t,o<0==!!i&&o&&n>(o=Math.abs(o))&&(l=a,n=o);return l},qe=function(e,t,i){var r=e.vars,n=r[t],a,o;if(!!n)return a=r[t+"Params"],o=r.callbackScope||e,i&&It.length&&Ts(),a?n.apply(o,a):n.call(o)},Di=function(e){return yt(e),e.scrollTrigger&&e.scrollTrigger.kill(!1),e.progress()<1&&qe(e,"onInterrupt"),e},pi,Sc=function(e){e=!e.name&&e.default||e;var t=e.name,i=pe(e),r=t&&!i&&e.init?function(){this._props=[]}:e,n={init:qi,render:xn,add:_n,kill:Wc,modifier:Bc,rawVars:0},a={targetTest:0,get:0,getSetter:mn,aliases:{},register:0};if(Ri(),e!==r){if(De[t])return;Ke(r,Ke(Ps(e,n),a)),oi(r.prototype,oi(n,Ps(e,a))),De[r.prop=t]=r,e.targetTest&&(_s.push(r),un[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Po(t,r),e.register&&e.register(it,r,Oe)},re=255,Li={aqua:[0,re,re],lime:[0,re,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,re],navy:[0,0,128],white:[re,re,re],olive:[128,128,0],yellow:[re,re,0],orange:[re,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[re,0,0],pink:[re,192,203],cyan:[0,re,re],transparent:[re,re,re,0]},sr=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*re+.5|0},Bo=function(e,t,i){var r=e?wt(e)?[e>>16,e>>8&re,e&re]:0:Li.black,n,a,o,l,h,u,c,f,d,x;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Li[e])r=Li[e];else if(e.charAt(0)==="#"){if(e.length<6&&(n=e.charAt(1),a=e.charAt(2),o=e.charAt(3),e="#"+n+n+a+a+o+o+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&re,r&re,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&re,e&re]}else if(e.substr(0,3)==="hsl"){if(r=x=e.match(Er),!t)l=+r[0]%360/360,h=+r[1]/100,u=+r[2]/100,a=u<=.5?u*(h+1):u+h-u*h,n=u*2-a,r.length>3&&(r[3]*=1),r[0]=sr(l+1/3,n,a),r[1]=sr(l,n,a),r[2]=sr(l-1/3,n,a);else if(~e.indexOf("="))return r=e.match(yo),i&&r.length<4&&(r[3]=1),r}else r=e.match(Er)||Li.transparent;r=r.map(Number)}return t&&!x&&(n=r[0]/re,a=r[1]/re,o=r[2]/re,c=Math.max(n,a,o),f=Math.min(n,a,o),u=(c+f)/2,c===f?l=h=0:(d=c-f,h=u>.5?d/(2-c-f):d/(c+f),l=c===n?(a-o)/d+(a<o?6:0):c===a?(o-n)/d+2:(n-a)/d+4,l*=60),r[0]=~~(l+.5),r[1]=~~(h*100+.5),r[2]=~~(u*100+.5)),i&&r.length<4&&(r[3]=1),r},Wo=function(e){var t=[],i=[],r=-1;return e.split(zt).forEach(function(n){var a=n.match(_i)||[];t.push.apply(t,a),i.push(r+=a.length+1)}),t.c=i,t},ha=function(e,t,i){var r="",n=(e+r).match(zt),a=t?"hsla(":"rgba(",o=0,l,h,u,c;if(!n)return e;if(n=n.map(function(f){return(f=Bo(f,t,1))&&a+(t?f[0]+","+f[1]+"%,"+f[2]+"%,"+f[3]:f.join(","))+")"}),i&&(u=Wo(e),l=i.c,l.join(r)!==u.c.join(r)))for(h=e.replace(zt,"1").split(_i),c=h.length-1;o<c;o++)r+=h[o]+(~l.indexOf(o)?n.shift()||a+"0,0,0,0)":(u.length?u:n.length?n:i).shift());if(!h)for(h=e.split(zt),c=h.length-1;o<c;o++)r+=h[o]+n[o];return r+h[c]},zt=function(){var s="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Li)s+="|"+e+"\\b";return new RegExp(s+")","gi")}(),Cc=/hsl[a]?\(/,jo=function(e){var t=e.join(" "),i;if(zt.lastIndex=0,zt.test(t))return i=Cc.test(t),e[1]=ha(e[1],i),e[0]=ha(e[0],i,Wo(e[1])),!0},Ki,Ie=function(){var s=Date.now,e=500,t=33,i=s(),r=i,n=1e3/240,a=n,o=[],l,h,u,c,f,d,x=function _(m){var y=s()-r,T=m===!0,w,P,v,C;if(y>e&&(i+=y-t),r+=y,v=r-i,w=v-a,(w>0||T)&&(C=++c.frame,f=v-c.time*1e3,c.time=v=v/1e3,a+=w+(w>=n?4:n-w),P=1),T||(l=h(_)),P)for(d=0;d<o.length;d++)o[d](v,f,C,m)};return c={time:0,frame:0,tick:function(){x(!0)},deltaRatio:function(m){return f/(1e3/(m||60))},wake:function(){wo&&(!Mr&&mo()&&(lt=Mr=window,ln=lt.document||{},Ne.gsap=it,(lt.gsapVersions||(lt.gsapVersions=[])).push(it.version),To(vs||lt.GreenSockGlobals||!lt.gsap&&lt||{}),u=lt.requestAnimationFrame),l&&c.sleep(),h=u||function(m){return setTimeout(m,a-c.time*1e3+1|0)},Ki=1,x(2))},sleep:function(){(u?lt.cancelAnimationFrame:clearTimeout)(l),Ki=0,h=qi},lagSmoothing:function(m,y){e=m||1/ae,t=Math.min(y,e,0)},fps:function(m){n=1e3/(m||240),a=c.time*1e3+n},add:function(m,y,T){var w=y?function(P,v,C,O){m(P,v,C,O),c.remove(w)}:m;return c.remove(m),o[T?"unshift":"push"](w),Ri(),w},remove:function(m,y){~(y=o.indexOf(m))&&o.splice(y,1)&&d>=y&&d--},_listeners:o},c}(),Ri=function(){return!Ki&&Ie.wake()},Q={},Ec=/^[\d.\-M][\d.\-,\s]/,Mc=/["']/g,Ac=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),r=i[0],n=1,a=i.length,o,l,h;n<a;n++)l=i[n],o=n!==a-1?l.lastIndexOf(","):l.length,h=l.substr(0,o),t[r]=isNaN(h)?h.replace(Mc,"").trim():+h,r=l.substr(o+1).trim();return t},Oc=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)},Fc=function(e){var t=(e+"").split("("),i=Q[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[Ac(t[1])]:Oc(e).split(",").map(Eo)):Q._CE&&Ec.test(e)?Q._CE("",e):i},Ho=function(e){return function(t){return 1-e(1-t)}},Xo=function s(e,t){for(var i=e._first,r;i;)i instanceof Ee?s(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?s(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},ai=function(e,t){return e&&(pe(e)?e:Q[e]||Fc(e))||t},li=function(e,t,i,r){i===void 0&&(i=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var n={easeIn:t,easeOut:i,easeInOut:r},a;return Ae(e,function(o){Q[o]=Ne[o]=n,Q[a=o.toLowerCase()]=i;for(var l in n)Q[a+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Q[o+"."+l]=n[l]}),n},Go=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},rr=function s(e,t,i){var r=t>=1?t:1,n=(i||(e?.3:.45))/(t<1?t:1),a=n/Cr*(Math.asin(1/r)||0),o=function(u){return u===1?1:r*Math.pow(2,-10*u)*ac((u-a)*n)+1},l=e==="out"?o:e==="in"?function(h){return 1-o(1-h)}:Go(o);return n=Cr/n,l.config=function(h,u){return s(e,h,u)},l},nr=function s(e,t){t===void 0&&(t=1.70158);var i=function(a){return a?--a*a*((t+1)*a+t)+1:0},r=e==="out"?i:e==="in"?function(n){return 1-i(1-n)}:Go(i);return r.config=function(n){return s(e,n)},r};Ae("Linear,Quad,Cubic,Quart,Quint,Strong",function(s,e){var t=e<5?e+1:e;li(s+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});Q.Linear.easeNone=Q.none=Q.Linear.easeIn;li("Elastic",rr("in"),rr("out"),rr());(function(s,e){var t=1/e,i=2*t,r=2.5*t,n=function(o){return o<t?s*o*o:o<i?s*Math.pow(o-1.5/e,2)+.75:o<r?s*(o-=2.25/e)*o+.9375:s*Math.pow(o-2.625/e,2)+.984375};li("Bounce",function(a){return 1-n(1-a)},n)})(7.5625,2.75);li("Expo",function(s){return s?Math.pow(2,10*(s-1)):0});li("Circ",function(s){return-(go(1-s*s)-1)});li("Sine",function(s){return s===1?1:-nc(s*sc)+1});li("Back",nr("in"),nr("out"),nr());Q.SteppedEase=Q.steps=Ne.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,r=e+(t?0:1),n=t?1:0,a=1-ae;return function(o){return((r*ts(0,a,o)|0)+n)*i}}};wi.ease=Q["quad.out"];Ae("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(s){return cn+=s+","+s+"Params,"});var Yo=function(e,t){this.id=rc++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:So,this.set=t?t.getSetter:mn},Qi=function(){function s(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Pi(this,+t.duration,1,1),this.data=t.data,Ki||Ie.wake()}var e=s.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,Pi(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(Ri(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(dn(this,i),!n._dp||n.parent||Oo(n,this);n&&n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&ct(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===ae||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),Co(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+aa(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+aa(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(i,r){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*n,r):this._repeat?Ti(this._tTime,n)+1:1},e.timeScale=function(i){if(!arguments.length)return this._rts===-ae?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?Rs(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-ae?0:this._rts,this.totalTime(ts(-this._delay,this._tDur,r),!0),Ws(this),cc(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ri(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==ae&&(this._tTime-=ae)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&ct(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(Me(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Rs(r.rawTime(i),this):this._tTime:this._tTime},e.globalTime=function(i){for(var r=this,n=arguments.length?i:r.rawTime();r;)n=r._start+n/(r._ts||1),r=r._dp;return n},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,oa(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,oa(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(He(this,i),Me(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,Me(r))},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-ae:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-ae,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,n;return!!(!i||this._ts&&this._initted&&i.isActive()&&(n=i.rawTime(!0))>=r&&n<this.endTime(!0)-ae)},e.eventCallback=function(i,r,n){var a=this.vars;return arguments.length>1?(r?(a[i]=r,n&&(a[i+"Params"]=n),i==="onUpdate"&&(this._onUpdate=r)):delete a[i],this):a[i]},e.then=function(i){var r=this;return new Promise(function(n){var a=pe(i)?i:Mo,o=function(){var h=r.then;r.then=null,pe(a)&&(a=a(r))&&(a.then||a===r)&&(r.then=h),n(a),r.then=h};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?o():r._prom=o})},e.kill=function(){Di(this)},s}();Ke(Qi.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-ae,_prom:0,_ps:!1,_rts:1});var Ee=function(s){po(e,s);function e(i,r){var n;return i===void 0&&(i={}),n=s.call(this,i)||this,n.labels={},n.smoothChildTiming=!!i.smoothChildTiming,n.autoRemoveChildren=!!i.autoRemoveChildren,n._sort=Me(i.sortChildren),le&&ct(i.parent||le,gt(n),r),i.reversed&&n.reverse(),i.paused&&n.paused(!0),i.scrollTrigger&&Fo(gt(n),i.scrollTrigger),n}var t=e.prototype;return t.to=function(r,n,a){return Wi(0,arguments,this),this},t.from=function(r,n,a){return Wi(1,arguments,this),this},t.fromTo=function(r,n,a,o){return Wi(2,arguments,this),this},t.set=function(r,n,a){return n.duration=0,n.parent=this,Bi(n).repeatDelay||(n.repeat=0),n.immediateRender=!!n.immediateRender,new de(r,n,He(this,a),1),this},t.call=function(r,n,a){return ct(this,de.delayedCall(0,r,n),a)},t.staggerTo=function(r,n,a,o,l,h,u){return a.duration=n,a.stagger=a.stagger||o,a.onComplete=h,a.onCompleteParams=u,a.parent=this,new de(r,a,He(this,l)),this},t.staggerFrom=function(r,n,a,o,l,h,u){return a.runBackwards=1,Bi(a).immediateRender=Me(a.immediateRender),this.staggerTo(r,n,a,o,l,h,u)},t.staggerFromTo=function(r,n,a,o,l,h,u,c){return o.startAt=a,Bi(o).immediateRender=Me(o.immediateRender),this.staggerTo(r,n,o,l,h,u,c)},t.render=function(r,n,a){var o=this._time,l=this._dirty?this.totalDuration():this._tDur,h=this._dur,u=r<=0?0:xe(r),c=this._zTime<0!=r<0&&(this._initted||!h),f,d,x,_,m,y,T,w,P,v,C,O;if(this!==le&&u>l&&r>=0&&(u=l),u!==this._tTime||a||c){if(o!==this._time&&h&&(u+=this._time-o,r+=this._time-o),f=u,P=this._start,w=this._ts,y=!w,c&&(h||(o=this._zTime),(r||!n)&&(this._zTime=r)),this._repeat){if(C=this._yoyo,m=h+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(m*100+r,n,a);if(f=xe(u%m),u===l?(_=this._repeat,f=h):(_=~~(u/m),_&&_===u/m&&(f=h,_--),f>h&&(f=h)),v=Ti(this._tTime,m),!o&&this._tTime&&v!==_&&(v=_),C&&_&1&&(f=h-f,O=1),_!==v&&!this._lock){var R=C&&v&1,S=R===(C&&_&1);if(_<v&&(R=!R),o=R?0:h,this._lock=1,this.render(o||(O?0:xe(_*m)),n,!h)._lock=0,this._tTime=u,!n&&this.parent&&qe(this,"onRepeat"),this.vars.repeatRefresh&&!O&&(this.invalidate()._lock=1),o&&o!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,l=this._tDur,S&&(this._lock=2,o=R?h:-1e-4,this.render(o,!0),this.vars.repeatRefresh&&!O&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;Xo(this,O)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(T=pc(this,xe(o),xe(f)),T&&(u-=f-(f=T._start))),this._tTime=u,this._time=f,this._act=!w,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,o=0),!o&&f&&!n&&(qe(this,"onStart"),this._tTime!==u))return this;if(f>=o&&r>=0)for(d=this._first;d;){if(x=d._next,(d._act||f>=d._start)&&d._ts&&T!==d){if(d.parent!==this)return this.render(r,n,a);if(d.render(d._ts>0?(f-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(f-d._start)*d._ts,n,a),f!==this._time||!this._ts&&!y){T=0,x&&(u+=this._zTime=-ae);break}}d=x}else{d=this._last;for(var I=r<0?r:f;d;){if(x=d._prev,(d._act||I<=d._end)&&d._ts&&T!==d){if(d.parent!==this)return this.render(r,n,a);if(d.render(d._ts>0?(I-d._start)*d._ts:(d._dirty?d.totalDuration():d._tDur)+(I-d._start)*d._ts,n,a),f!==this._time||!this._ts&&!y){T=0,x&&(u+=this._zTime=I?-ae:ae);break}}d=x}}if(T&&!n&&(this.pause(),T.render(f>=o?0:-ae)._zTime=f>=o?1:-1,this._ts))return this._start=P,Ws(this),this.render(r,n,a);this._onUpdate&&!n&&qe(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&o)&&(P===this._start||Math.abs(w)!==Math.abs(this._ts))&&(this._lock||((r||!h)&&(u===l&&this._ts>0||!u&&this._ts<0)&&yt(this,1),!n&&!(r<0&&!o)&&(u||o||!l)&&(qe(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,n){var a=this;if(wt(n)||(n=He(this,n,r)),!(r instanceof Qi)){if(be(r))return r.forEach(function(o){return a.add(o,n)}),this;if(ge(r))return this.addLabel(r,n);if(pe(r))r=de.delayedCall(0,r);else return this}return this!==r?ct(this,r,n):this},t.getChildren=function(r,n,a,o){r===void 0&&(r=!0),n===void 0&&(n=!0),a===void 0&&(a=!0),o===void 0&&(o=-Ge);for(var l=[],h=this._first;h;)h._start>=o&&(h instanceof de?n&&l.push(h):(a&&l.push(h),r&&l.push.apply(l,h.getChildren(!0,n,a)))),h=h._next;return l},t.getById=function(r){for(var n=this.getChildren(1,1,1),a=n.length;a--;)if(n[a].vars.id===r)return n[a]},t.remove=function(r){return ge(r)?this.removeLabel(r):pe(r)?this.killTweensOf(r):(Bs(this,r),r===this._recent&&(this._recent=this._last),ni(this))},t.totalTime=function(r,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=xe(Ie.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),s.prototype.totalTime.call(this,r,n),this._forcing=0,this):this._tTime},t.addLabel=function(r,n){return this.labels[r]=He(this,n),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,n,a){var o=de.delayedCall(0,n||qi,a);return o.data="isPause",this._hasPause=1,ct(this,o,He(this,r))},t.removePause=function(r){var n=this._first;for(r=He(this,r);n;)n._start===r&&n.data==="isPause"&&yt(n),n=n._next},t.killTweensOf=function(r,n,a){for(var o=this.getTweensOf(r,a),l=o.length;l--;)Mt!==o[l]&&o[l].kill(r,n);return this},t.getTweensOf=function(r,n){for(var a=[],o=Ye(r),l=this._first,h=wt(n),u;l;)l instanceof de?lc(l._targets,o)&&(h?(!Mt||l._initted&&l._ts)&&l.globalTime(0)<=n&&l.globalTime(l.totalDuration())>n:!n||l.isActive())&&a.push(l):(u=l.getTweensOf(o,n)).length&&a.push.apply(a,u),l=l._next;return a},t.tweenTo=function(r,n){n=n||{};var a=this,o=He(a,r),l=n,h=l.startAt,u=l.onStart,c=l.onStartParams,f=l.immediateRender,d,x=de.to(a,Ke({ease:n.ease||"none",lazy:!1,immediateRender:!1,time:o,overwrite:"auto",duration:n.duration||Math.abs((o-(h&&"time"in h?h.time:a._time))/a.timeScale())||ae,onStart:function(){if(a.pause(),!d){var m=n.duration||Math.abs((o-(h&&"time"in h?h.time:a._time))/a.timeScale());x._dur!==m&&Pi(x,m,0,1).render(x._time,!0,!0),d=1}u&&u.apply(x,c||[])}},n));return f?x.render(0):x},t.tweenFromTo=function(r,n,a){return this.tweenTo(n,Ke({startAt:{time:He(this,r)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),la(this,He(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),la(this,He(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+ae)},t.shiftChildren=function(r,n,a){a===void 0&&(a=0);for(var o=this._first,l=this.labels,h;o;)o._start>=a&&(o._start+=r,o._end+=r),o=o._next;if(n)for(h in l)l[h]>=a&&(l[h]+=r);return ni(this)},t.invalidate=function(){var r=this._first;for(this._lock=0;r;)r.invalidate(),r=r._next;return s.prototype.invalidate.call(this)},t.clear=function(r){r===void 0&&(r=!0);for(var n=this._first,a;n;)a=n._next,this.remove(n),n=a;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),ni(this)},t.totalDuration=function(r){var n=0,a=this,o=a._last,l=Ge,h,u,c;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-r:r));if(a._dirty){for(c=a.parent;o;)h=o._prev,o._dirty&&o.totalDuration(),u=o._start,u>l&&a._sort&&o._ts&&!a._lock?(a._lock=1,ct(a,o,u-o._delay,1)._lock=0):l=u,u<0&&o._ts&&(n-=u,(!c&&!a._dp||c&&c.smoothChildTiming)&&(a._start+=u/a._ts,a._time-=u,a._tTime-=u),a.shiftChildren(-u,!1,-1/0),l=0),o._end>n&&o._ts&&(n=o._end),o=h;Pi(a,a===le&&a._time>n?a._time:n,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(r){if(le._ts&&(Co(le,Rs(r,le)),Ro=Ie.frame),Ie.frame>=ra){ra+=ze.autoSleep||120;var n=le._first;if((!n||!n._ts)&&ze.autoSleep&&Ie._listeners.length<2){for(;n&&!n._ts;)n=n._next;n||Ie.sleep()}}},e}(Qi);Ke(Ee.prototype,{_lock:0,_hasPause:0,_forcing:0});var kc=function(e,t,i,r,n,a,o){var l=new Oe(this._pt,e,t,0,1,Jo,null,n),h=0,u=0,c,f,d,x,_,m,y,T;for(l.b=i,l.e=r,i+="",r+="",(y=~r.indexOf("random("))&&(r=$i(r)),a&&(T=[i,r],a(T,e,t),i=T[0],r=T[1]),f=i.match(tr)||[];c=tr.exec(r);)x=c[0],_=r.substring(h,c.index),d?d=(d+1)%5:_.substr(-5)==="rgba("&&(d=1),x!==f[u++]&&(m=parseFloat(f[u-1])||0,l._pt={_next:l._pt,p:_||u===1?_:",",s:m,c:x.charAt(1)==="="?xi(m,x)-m:parseFloat(x)-m,m:d&&d<4?Math.round:0},h=tr.lastIndex);return l.c=h<r.length?r.substring(h,r.length):"",l.fp=o,(bo.test(r)||y)&&(l.e=0),this._pt=l,l},_n=function(e,t,i,r,n,a,o,l,h){pe(r)&&(r=r(n||0,e,a));var u=e[t],c=i!=="get"?i:pe(u)?h?e[t.indexOf("set")||!pe(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():u,f=pe(u)?h?Uc:Qo:gn,d;if(ge(r)&&(~r.indexOf("random(")&&(r=$i(r)),r.charAt(1)==="="&&(d=xi(c,r)+(ye(c)||0),(d||d===0)&&(r=d))),c!==r||Dr)return!isNaN(c*r)&&r!==""?(d=new Oe(this._pt,e,t,+c||0,r-(c||0),typeof u=="boolean"?Vc:Zo,0,f),h&&(d.fp=h),o&&d.modifier(o,this,e),this._pt=d):(!u&&!(t in e)&&hn(t,r),kc.call(this,e,t,c,r,f,l||ze.stringFilter,h))},Dc=function(e,t,i,r,n){if(pe(e)&&(e=ji(e,n,t,i,r)),!Tt(e)||e.style&&e.nodeType||be(e)||xo(e))return ge(e)?ji(e,n,t,i,r):e;var a={},o;for(o in e)a[o]=ji(e[o],n,t,i,r);return a},qo=function(e,t,i,r,n,a){var o,l,h,u;if(De[e]&&(o=new De[e]).init(n,o.rawVars?t[e]:Dc(t[e],r,n,a,i),i,r,a)!==!1&&(i._pt=l=new Oe(i._pt,n,e,0,1,o.render,o,0,o.priority),i!==pi))for(h=i._ptLookup[i._targets.indexOf(n)],u=o._props.length;u--;)h[o._props[u]]=l;return o},Mt,Dr,pn=function s(e,t){var i=e.vars,r=i.ease,n=i.startAt,a=i.immediateRender,o=i.lazy,l=i.onUpdate,h=i.onUpdateParams,u=i.callbackScope,c=i.runBackwards,f=i.yoyoEase,d=i.keyframes,x=i.autoRevert,_=e._dur,m=e._startAt,y=e._targets,T=e.parent,w=T&&T.data==="nested"?T.parent._targets:y,P=e._overwrite==="auto"&&!an,v=e.timeline,C,O,R,S,I,B,H,G,$,J,U,X,K;if(v&&(!d||!r)&&(r="none"),e._ease=ai(r,wi.ease),e._yEase=f?Ho(ai(f===!0?r:f,wi.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!v&&!!i.runBackwards,!v||d&&!i.stagger){if(G=y[0]?ri(y[0]).harness:0,X=G&&i[G.prop],C=Ps(i,un),m&&(yt(m.render(-1,!0)),m._lazy=0),n)if(yt(e._startAt=de.set(y,Ke({data:"isStart",overwrite:!1,parent:T,immediateRender:!0,lazy:Me(o),startAt:null,delay:0,onUpdate:l,onUpdateParams:h,callbackScope:u,stagger:0},n))),t<0&&!a&&!x&&e._startAt.render(-1,!0),a){if(t>0&&!x&&(e._startAt=0),_&&t<=0){t&&(e._zTime=t);return}}else x===!1&&(e._startAt=0);else if(c&&_){if(m)!x&&(e._startAt=0);else if(t&&(a=!1),R=Ke({overwrite:!1,data:"isFromStart",lazy:a&&Me(o),immediateRender:a,stagger:0,parent:T},C),X&&(R[G.prop]=X),yt(e._startAt=de.set(y,R)),t<0&&e._startAt.render(-1,!0),e._zTime=t,!a)s(e._startAt,ae);else if(!t)return}for(e._pt=e._ptCache=0,o=_&&Me(o)||o&&!_,O=0;O<y.length;O++){if(I=y[O],H=I._gsap||fn(y)[O]._gsap,e._ptLookup[O]=J={},Ar[H.id]&&It.length&&Ts(),U=w===y?O:w.indexOf(I),G&&($=new G).init(I,X||C,e,U,w)!==!1&&(e._pt=S=new Oe(e._pt,I,$.name,0,1,$.render,$,0,$.priority),$._props.forEach(function(ce){J[ce]=S}),$.priority&&(B=1)),!G||X)for(R in C)De[R]&&($=qo(R,C,e,U,I,w))?$.priority&&(B=1):J[R]=S=_n.call(e,I,R,"get",C[R],U,w,0,i.stringFilter);e._op&&e._op[O]&&e.kill(I,e._op[O]),P&&e._pt&&(Mt=e,le.killTweensOf(I,J,e.globalTime(t)),K=!e.parent,Mt=0),e._pt&&o&&(Ar[H.id]=1)}B&&el(e),e._onInit&&e._onInit(e)}e._onUpdate=l,e._initted=(!e._op||e._pt)&&!K,d&&t<=0&&v.render(Ge,!0,!0)},Lc=function(e,t,i,r,n,a,o){var l=(e._pt&&e._ptCache||(e._ptCache={}))[t],h,u,c;if(!l)for(l=e._ptCache[t]=[],u=e._ptLookup,c=e._targets.length;c--;){if(h=u[c][t],h&&h.d&&h.d._pt)for(h=h.d._pt;h&&h.p!==t;)h=h._next;if(!h)return Dr=1,e.vars[t]="+=0",pn(e,o),Dr=0,1;l.push(h)}for(c=l.length;c--;)h=l[c],h.s=(r||r===0)&&!n?r:h.s+(r||0)+a*h.c,h.c=i-h.s,h.e&&(h.e=ue(i)+ye(h.e)),h.b&&(h.b=h.s+ye(h.b))},Ic=function(e,t){var i=e[0]?ri(e[0]).harness:0,r=i&&i.aliases,n,a,o,l;if(!r)return t;n=oi({},t);for(a in r)if(a in n)for(l=r[a].split(","),o=l.length;o--;)n[l[o]]=n[a];return n},zc=function(e,t,i,r){var n=t.ease||r||"power1.inOut",a,o;if(be(t))o=i[e]||(i[e]=[]),t.forEach(function(l,h){return o.push({t:h/(t.length-1)*100,v:l,e:n})});else for(a in t)o=i[a]||(i[a]=[]),a==="ease"||o.push({t:parseFloat(e),v:t[a],e:n})},ji=function(e,t,i,r,n){return pe(e)?e.call(t,i,r,n):ge(e)&&~e.indexOf("random(")?$i(e):e},$o=cn+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",Ko={};Ae($o+",id,stagger,delay,duration,paused,scrollTrigger",function(s){return Ko[s]=1});var de=function(s){po(e,s);function e(i,r,n,a){var o;typeof r=="number"&&(n.duration=r,r=n,n=null),o=s.call(this,a?r:Bi(r))||this;var l=o.vars,h=l.duration,u=l.delay,c=l.immediateRender,f=l.stagger,d=l.overwrite,x=l.keyframes,_=l.defaults,m=l.scrollTrigger,y=l.yoyoEase,T=r.parent||le,w=(be(i)||xo(i)?wt(i[0]):"length"in r)?[i]:Ye(i),P,v,C,O,R,S,I,B;if(o._targets=w.length?fn(w):ws("GSAP target "+i+" not found. https://greensock.com",!ze.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=d,x||f||ls(h)||ls(u)){if(r=o.vars,P=o.timeline=new Ee({data:"nested",defaults:_||{}}),P.kill(),P.parent=P._dp=gt(o),P._start=0,f||ls(h)||ls(u)){if(O=w.length,I=f&&Io(f),Tt(f))for(R in f)~$o.indexOf(R)&&(B||(B={}),B[R]=f[R]);for(v=0;v<O;v++)C=Ps(r,Ko),C.stagger=0,y&&(C.yoyoEase=y),B&&oi(C,B),S=w[v],C.duration=+ji(h,gt(o),v,S,w),C.delay=(+ji(u,gt(o),v,S,w)||0)-o._delay,!f&&O===1&&C.delay&&(o._delay=u=C.delay,o._start+=u,C.delay=0),P.to(S,C,I?I(v,S,w):0),P._ease=Q.none;P.duration()?h=u=0:o.timeline=0}else if(x){Bi(Ke(P.vars.defaults,{ease:"none"})),P._ease=ai(x.ease||r.ease||"none");var H=0,G,$,J;if(be(x))x.forEach(function(U){return P.to(w,U,">")});else{C={};for(R in x)R==="ease"||R==="easeEach"||zc(R,x[R],C,x.easeEach);for(R in C)for(G=C[R].sort(function(U,X){return U.t-X.t}),H=0,v=0;v<G.length;v++)$=G[v],J={ease:$.e,duration:($.t-(v?G[v-1].t:0))/100*h},J[R]=$.v,P.to(w,J,H),H+=J.duration;P.duration()<h&&P.to({},{duration:h-P.duration()})}}h||o.duration(h=P.duration())}else o.timeline=0;return d===!0&&!an&&(Mt=gt(o),le.killTweensOf(w),Mt=0),ct(T,gt(o),n),r.reversed&&o.reverse(),r.paused&&o.paused(!0),(c||!h&&!x&&o._start===xe(T._time)&&Me(c)&&fc(gt(o))&&T.data!=="nested")&&(o._tTime=-ae,o.render(Math.max(0,-u))),m&&Fo(gt(o),m),o}var t=e.prototype;return t.render=function(r,n,a){var o=this._time,l=this._tDur,h=this._dur,u=r>l-ae&&r>=0?l:r<ae?0:r,c,f,d,x,_,m,y,T,w;if(!h)_c(this,r,n,a);else if(u!==this._tTime||!r||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=r<0){if(c=u,T=this.timeline,this._repeat){if(x=h+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(x*100+r,n,a);if(c=xe(u%x),u===l?(d=this._repeat,c=h):(d=~~(u/x),d&&d===u/x&&(c=h,d--),c>h&&(c=h)),m=this._yoyo&&d&1,m&&(w=this._yEase,c=h-c),_=Ti(this._tTime,x),c===o&&!a&&this._initted)return this._tTime=u,this;d!==_&&(T&&this._yEase&&Xo(T,m),this.vars.repeatRefresh&&!m&&!this._lock&&(this._lock=a=1,this.render(xe(x*d),!0).invalidate()._lock=0))}if(!this._initted){if(ko(this,r<0?r:c,a,n))return this._tTime=0,this;if(o!==this._time)return this;if(h!==this._dur)return this.render(r,n,a)}if(this._tTime=u,this._time=c,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=y=(w||this._ease)(c/h),this._from&&(this.ratio=y=1-y),c&&!o&&!n&&(qe(this,"onStart"),this._tTime!==u))return this;for(f=this._pt;f;)f.r(y,f.d),f=f._next;T&&T.render(r<0?r:!c&&m?-ae:T._dur*T._ease(c/this._dur),n,a)||this._startAt&&(this._zTime=r),this._onUpdate&&!n&&(r<0&&this._startAt&&this._startAt.render(r,!0,a),qe(this,"onUpdate")),this._repeat&&d!==_&&this.vars.onRepeat&&!n&&this.parent&&qe(this,"onRepeat"),(u===this._tDur||!u)&&this._tTime===u&&(r<0&&this._startAt&&!this._onUpdate&&this._startAt.render(r,!0,!0),(r||!h)&&(u===this._tDur&&this._ts>0||!u&&this._ts<0)&&yt(this,1),!n&&!(r<0&&!o)&&(u||o)&&(qe(this,u===l?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),s.prototype.invalidate.call(this)},t.resetTo=function(r,n,a,o){Ki||Ie.wake(),this._ts||this.play();var l=Math.min(this._dur,(this._dp._time-this._start)*this._ts),h;return this._initted||pn(this,l),h=this._ease(l/this._dur),Lc(this,r,n,a,o,h,l)?this.resetTo(r,n,a,o):(dn(this,0),this.parent||Ao(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,n){if(n===void 0&&(n="all"),!r&&(!n||n==="all"))return this._lazy=this._pt=0,this.parent?Di(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(r,n,Mt&&Mt.vars.overwrite!==!0)._first||Di(this),this.parent&&a!==this.timeline.totalDuration()&&Pi(this,this._dur*this.timeline._tDur/a,0,1),this}var o=this._targets,l=r?Ye(r):o,h=this._ptLookup,u=this._pt,c,f,d,x,_,m,y;if((!n||n==="all")&&uc(o,l))return n==="all"&&(this._pt=0),Di(this);for(c=this._op=this._op||[],n!=="all"&&(ge(n)&&(_={},Ae(n,function(T){return _[T]=1}),n=_),n=Ic(o,n)),y=o.length;y--;)if(~l.indexOf(o[y])){f=h[y],n==="all"?(c[y]=n,x=f,d={}):(d=c[y]=c[y]||{},x=n);for(_ in x)m=f&&f[_],m&&((!("kill"in m.d)||m.d.kill(_)===!0)&&Bs(this,m,"_pt"),delete f[_]),d!=="all"&&(d[_]=1)}return this._initted&&!this._pt&&u&&Di(this),this},e.to=function(r,n){return new e(r,n,arguments[2])},e.from=function(r,n){return Wi(1,arguments)},e.delayedCall=function(r,n,a,o){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:n,onReverseComplete:n,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:o})},e.fromTo=function(r,n,a){return Wi(2,arguments)},e.set=function(r,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(r,n)},e.killTweensOf=function(r,n,a){return le.killTweensOf(r,n,a)},e}(Qi);Ke(de.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Ae("staggerTo,staggerFrom,staggerFromTo",function(s){de[s]=function(){var e=new Ee,t=Fr.call(arguments,0);return t.splice(s==="staggerFromTo"?5:4,0,0),e[s].apply(e,t)}});var gn=function(e,t,i){return e[t]=i},Qo=function(e,t,i){return e[t](i)},Uc=function(e,t,i,r){return e[t](r.fp,i)},Nc=function(e,t,i){return e.setAttribute(t,i)},mn=function(e,t){return pe(e[t])?Qo:on(e[t])&&e.setAttribute?Nc:gn},Zo=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Vc=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Jo=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},xn=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},Bc=function(e,t,i,r){for(var n=this._pt,a;n;)a=n._next,n.p===r&&n.modifier(e,t,i),n=a},Wc=function(e){for(var t=this._pt,i,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?Bs(this,t,"_pt"):t.dep||(i=1),t=r;return!i},jc=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},el=function(e){for(var t=e._pt,i,r,n,a;t;){for(i=t._next,r=n;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:a)?t._prev._next=t:n=t,(t._next=r)?r._prev=t:a=t,t=i}e._pt=n},Oe=function(){function s(t,i,r,n,a,o,l,h,u){this.t=i,this.s=n,this.c=a,this.p=r,this.r=o||Zo,this.d=l||this,this.set=h||gn,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=s.prototype;return e.modifier=function(i,r,n){this.mSet=this.mSet||this.set,this.set=jc,this.m=i,this.mt=n,this.tween=r},s}();Ae(cn+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(s){return un[s]=1});Ne.TweenMax=Ne.TweenLite=de;Ne.TimelineLite=Ne.TimelineMax=Ee;le=new Ee({sortChildren:!1,defaults:wi,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ze.stringFilter=jo;var Ss={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return Sc(r)})},timeline:function(e){return new Ee(e)},getTweensOf:function(e,t){return le.getTweensOf(e,t)},getProperty:function(e,t,i,r){ge(e)&&(e=Ye(e)[0]);var n=ri(e||{}).get,a=i?Mo:Eo;return i==="native"&&(i=""),e&&(t?a((De[t]&&De[t].get||n)(e,t,i,r)):function(o,l,h){return a((De[o]&&De[o].get||n)(e,o,l,h))})},quickSetter:function(e,t,i){if(e=Ye(e),e.length>1){var r=e.map(function(u){return it.quickSetter(u,t,i)}),n=r.length;return function(u){for(var c=n;c--;)r[c](u)}}e=e[0]||{};var a=De[t],o=ri(e),l=o.harness&&(o.harness.aliases||{})[t]||t,h=a?function(u){var c=new a;pi._pt=0,c.init(e,i?u+i:u,pi,0,[e]),c.render(1,c),pi._pt&&xn(1,pi)}:o.set(e,l);return a?h:function(u){return h(e,l,i?u+i:u,o,1)}},quickTo:function(e,t,i){var r,n=it.to(e,oi((r={},r[t]="+=0.1",r.paused=!0,r),i||{})),a=function(l,h,u){return n.resetTo(t,l,h,u)};return a.tween=n,a},isTweening:function(e){return le.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=ai(e.ease,wi.ease)),na(wi,e||{})},config:function(e){return na(ze,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,n=e.defaults,a=e.extendTimeline;(r||"").split(",").forEach(function(o){return o&&!De[o]&&!Ne[o]&&ws(t+" effect requires "+o+" plugin.")}),ir[t]=function(o,l,h){return i(Ye(o),Ke(l||{},n),h)},a&&(Ee.prototype[t]=function(o,l,h){return this.add(ir[t](o,Tt(l)?l:(h=l)&&{},this),h)})},registerEase:function(e,t){Q[e]=ai(t)},parseEase:function(e,t){return arguments.length?ai(e,t):Q},getById:function(e){return le.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new Ee(e),r,n;for(i.smoothChildTiming=Me(e.smoothChildTiming),le.remove(i),i._dp=0,i._time=i._tTime=le._time,r=le._first;r;)n=r._next,(t||!(!r._dur&&r instanceof de&&r.vars.onComplete===r._targets[0]))&&ct(i,r,r._start-r._delay),r=n;return ct(le,i,0),i},utils:{wrap:Tc,wrapYoyo:Pc,distribute:Io,random:Uo,snap:zo,normalize:wc,getUnit:ye,clamp:mc,splitColor:Bo,toArray:Ye,selector:yc,mapRange:Vo,pipe:bc,unitize:vc,interpolate:Rc,shuffle:Lo},install:To,effects:ir,ticker:Ie,updateRoot:Ee.updateRoot,plugins:De,globalTimeline:le,core:{PropTween:Oe,globals:Po,Tween:de,Timeline:Ee,Animation:Qi,getCache:ri,_removeLinkedListItem:Bs,suppressOverwrites:function(e){return an=e}}};Ae("to,from,fromTo,delayedCall,set,killTweensOf",function(s){return Ss[s]=de[s]});Ie.add(Ee.updateRoot);pi=Ss.to({},{duration:0});var Hc=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},Xc=function(e,t){var i=e._targets,r,n,a;for(r in t)for(n=i.length;n--;)a=e._ptLookup[n][r],a&&(a=a.d)&&(a._pt&&(a=Hc(a,r)),a&&a.modifier&&a.modifier(t[r],e,i[n],r))},ar=function(e,t){return{name:e,rawVars:1,init:function(r,n,a){a._onInit=function(o){var l,h;if(ge(n)&&(l={},Ae(n,function(u){return l[u]=1}),n=l),t){l={};for(h in n)l[h]=t(n[h]);n=l}Xc(o,n)}}}},it=Ss.registerPlugin({name:"attr",init:function(e,t,i,r,n){var a,o;for(a in t)o=this.add(e,"setAttribute",(e.getAttribute(a)||0)+"",t[a],r,n,0,0,a),o&&(o.op=a),this._props.push(a)}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i])}},ar("roundProps",kr),ar("modifiers"),ar("snap",zo))||Ss;de.version=Ee.version=it.version="3.10.4";wo=1;mo()&&Ri();Q.Power0;Q.Power1;Q.Power2;Q.Power3;Q.Power4;Q.Linear;Q.Quad;Q.Cubic;Q.Quart;Q.Quint;Q.Strong;Q.Elastic;Q.Back;Q.SteppedEase;Q.Bounce;Q.Sine;Q.Expo;Q.Circ;/*!
 * CSSPlugin 3.10.4
 * https://greensock.com
 *
 * Copyright 2008-2022, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ua,At,yi,yn,ti,ca,Gc=function(){return typeof window!="undefined"},Vt={},$t=180/Math.PI,bi=Math.PI/180,ci=Math.atan2,fa=1e8,tl=/([A-Z])/g,Yc=/(left|right|width|margin|padding|x)/i,qc=/[\s,\(]\S/,Ot={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},il=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},$c=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Kc=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},Qc=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},sl=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},rl=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},Zc=function(e,t,i){return e.style[t]=i},Jc=function(e,t,i){return e.style.setProperty(t,i)},ef=function(e,t,i){return e._gsap[t]=i},tf=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},sf=function(e,t,i,r,n){var a=e._gsap;a.scaleX=a.scaleY=i,a.renderTransform(n,a)},rf=function(e,t,i,r,n){var a=e._gsap;a[t]=i,a.renderTransform(n,a)},me="transform",Bt=me+"Origin",nl,Lr=function(e,t){var i=At.createElementNS?At.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):At.createElement(e);return i.style?i:At.createElement(e)},bt=function s(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(tl,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&s(e,Si(t)||t,1)||""},da="O,Moz,ms,Ms,Webkit".split(","),Si=function(e,t,i){var r=t||ti,n=r.style,a=5;if(e in n&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(da[a]+e in n););return a<0?null:(a===3?"ms":a>=0?da[a]:"")+e},Ir=function(){Gc()&&window.document&&(ua=window,At=ua.document,yi=At.documentElement,ti=Lr("div")||{style:{}},Lr("div"),me=Si(me),Bt=me+"Origin",ti.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",nl=!!Si("perspective"),yn=1)},or=function s(e){var t=Lr("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,n=this.style.cssText,a;if(yi.appendChild(t),t.appendChild(this),this.style.display="block",e)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=s}catch{}else this._gsapBBox&&(a=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),yi.removeChild(t),this.style.cssText=n,a},_a=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},al=function(e){var t;try{t=e.getBBox()}catch{t=or.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===or||(t=or.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+_a(e,["x","cx","x1"])||0,y:+_a(e,["y","cy","y1"])||0,width:0,height:0}:t},ol=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&al(e))},Zi=function(e,t){if(t){var i=e.style;t in Vt&&t!==Bt&&(t=me),i.removeProperty?((t.substr(0,2)==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(t.replace(tl,"-$1").toLowerCase())):i.removeAttribute(t)}},Ft=function(e,t,i,r,n,a){var o=new Oe(e._pt,t,i,0,1,a?rl:sl);return e._pt=o,o.b=r,o.e=n,e._props.push(i),o},pa={deg:1,rad:1,turn:1},Wt=function s(e,t,i,r){var n=parseFloat(i)||0,a=(i+"").trim().substr((n+"").length)||"px",o=ti.style,l=Yc.test(t),h=e.tagName.toLowerCase()==="svg",u=(h?"client":"offset")+(l?"Width":"Height"),c=100,f=r==="px",d=r==="%",x,_,m,y;return r===a||!n||pa[r]||pa[a]?n:(a!=="px"&&!f&&(n=s(e,t,i,"px")),y=e.getCTM&&ol(e),(d||a==="%")&&(Vt[t]||~t.indexOf("adius"))?(x=y?e.getBBox()[l?"width":"height"]:e[u],ue(d?n/x*c:n/100*x)):(o[l?"width":"height"]=c+(f?a:r),_=~t.indexOf("adius")||r==="em"&&e.appendChild&&!h?e:e.parentNode,y&&(_=(e.ownerSVGElement||{}).parentNode),(!_||_===At||!_.appendChild)&&(_=At.body),m=_._gsap,m&&d&&m.width&&l&&m.time===Ie.time?ue(n/m.width*c):((d||a==="%")&&(o.position=bt(e,"position")),_===e&&(o.position="static"),_.appendChild(ti),x=ti[u],_.removeChild(ti),o.position="absolute",l&&d&&(m=ri(_),m.time=Ie.time,m.width=_[u]),ue(f?x*n/c:x&&n?c/x*n:0))))},Kt=function(e,t,i,r){var n;return yn||Ir(),t in Ot&&t!=="transform"&&(t=Ot[t],~t.indexOf(",")&&(t=t.split(",")[0])),Vt[t]&&t!=="transform"?(n=es(e,r),n=t!=="transformOrigin"?n[t]:n.svg?n.origin:Es(bt(e,Bt))+" "+n.zOrigin+"px"):(n=e.style[t],(!n||n==="auto"||r||~(n+"").indexOf("calc("))&&(n=Cs[t]&&Cs[t](e,t,i)||bt(e,t)||So(e,t)||(t==="opacity"?1:0))),i&&!~(n+"").trim().indexOf(" ")?Wt(e,t,n,i)+i:n},nf=function(e,t,i,r){if(!i||i==="none"){var n=Si(t,e,1),a=n&&bt(e,n,1);a&&a!==i?(t=n,i=a):t==="borderColor"&&(i=bt(e,"borderTopColor"))}var o=new Oe(this._pt,e.style,t,0,1,Jo),l=0,h=0,u,c,f,d,x,_,m,y,T,w,P,v;if(o.b=i,o.e=r,i+="",r+="",r==="auto"&&(e.style[t]=r,r=bt(e,t)||r,e.style[t]=i),u=[i,r],jo(u),i=u[0],r=u[1],f=i.match(_i)||[],v=r.match(_i)||[],v.length){for(;c=_i.exec(r);)m=c[0],T=r.substring(l,c.index),x?x=(x+1)%5:(T.substr(-5)==="rgba("||T.substr(-5)==="hsla(")&&(x=1),m!==(_=f[h++]||"")&&(d=parseFloat(_)||0,P=_.substr((d+"").length),m.charAt(1)==="="&&(m=xi(d,m)+P),y=parseFloat(m),w=m.substr((y+"").length),l=_i.lastIndex-w.length,w||(w=w||ze.units[t]||P,l===r.length&&(r+=w,o.e+=w)),P!==w&&(d=Wt(e,t,_,w)||0),o._pt={_next:o._pt,p:T||h===1?T:",",s:d,c:y-d,m:x&&x<4||t==="zIndex"?Math.round:0});o.c=l<r.length?r.substring(l,r.length):""}else o.r=t==="display"&&r==="none"?rl:sl;return bo.test(r)&&(o.e=0),this._pt=o,o},ga={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},af=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),t[0]=ga[i]||i,t[1]=ga[r]||r,t.join(" ")},of=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,n=t.u,a=i._gsap,o,l,h;if(n==="all"||n===!0)r.cssText="",l=1;else for(n=n.split(","),h=n.length;--h>-1;)o=n[h],Vt[o]&&(l=1,o=o==="transformOrigin"?Bt:me),Zi(i,o);l&&(Zi(i,me),a&&(a.svg&&i.removeAttribute("transform"),es(i,1),a.uncache=1))}},Cs={clearProps:function(e,t,i,r,n){if(n.data!=="isFromStart"){var a=e._pt=new Oe(e._pt,t,i,0,0,of);return a.u=r,a.pr=-10,a.tween=n,e._props.push(i),1}}},Ji=[1,0,0,1,0,0],ll={},hl=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},ma=function(e){var t=bt(e,me);return hl(t)?Ji:t.substr(7).match(yo).map(ue)},bn=function(e,t){var i=e._gsap||ri(e),r=e.style,n=ma(e),a,o,l,h;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,n=[l.a,l.b,l.c,l.d,l.e,l.f],n.join(",")==="1,0,0,1,0,0"?Ji:n):(n===Ji&&!e.offsetParent&&e!==yi&&!i.svg&&(l=r.display,r.display="block",a=e.parentNode,(!a||!e.offsetParent)&&(h=1,o=e.nextSibling,yi.appendChild(e)),n=ma(e),l?r.display=l:Zi(e,"display"),h&&(o?a.insertBefore(e,o):a?a.appendChild(e):yi.removeChild(e))),t&&n.length>6?[n[0],n[1],n[4],n[5],n[12],n[13]]:n)},zr=function(e,t,i,r,n,a){var o=e._gsap,l=n||bn(e,!0),h=o.xOrigin||0,u=o.yOrigin||0,c=o.xOffset||0,f=o.yOffset||0,d=l[0],x=l[1],_=l[2],m=l[3],y=l[4],T=l[5],w=t.split(" "),P=parseFloat(w[0])||0,v=parseFloat(w[1])||0,C,O,R,S;i?l!==Ji&&(O=d*m-x*_)&&(R=P*(m/O)+v*(-_/O)+(_*T-m*y)/O,S=P*(-x/O)+v*(d/O)-(d*T-x*y)/O,P=R,v=S):(C=al(e),P=C.x+(~w[0].indexOf("%")?P/100*C.width:P),v=C.y+(~(w[1]||w[0]).indexOf("%")?v/100*C.height:v)),r||r!==!1&&o.smooth?(y=P-h,T=v-u,o.xOffset=c+(y*d+T*_)-y,o.yOffset=f+(y*x+T*m)-T):o.xOffset=o.yOffset=0,o.xOrigin=P,o.yOrigin=v,o.smooth=!!r,o.origin=t,o.originIsAbsolute=!!i,e.style[Bt]="0px 0px",a&&(Ft(a,o,"xOrigin",h,P),Ft(a,o,"yOrigin",u,v),Ft(a,o,"xOffset",c,o.xOffset),Ft(a,o,"yOffset",f,o.yOffset)),e.setAttribute("data-svg-origin",P+" "+v)},es=function(e,t){var i=e._gsap||new Yo(e);if("x"in i&&!t&&!i.uncache)return i;var r=e.style,n=i.scaleX<0,a="px",o="deg",l=bt(e,Bt)||"0",h,u,c,f,d,x,_,m,y,T,w,P,v,C,O,R,S,I,B,H,G,$,J,U,X,K,ce,Ve,Fe,_t,fe,st;return h=u=c=x=_=m=y=T=w=0,f=d=1,i.svg=!!(e.getCTM&&ol(e)),C=bn(e,i.svg),i.svg&&(U=(!i.uncache||l==="0px 0px")&&!t&&e.getAttribute("data-svg-origin"),zr(e,U||l,!!U||i.originIsAbsolute,i.smooth!==!1,C)),P=i.xOrigin||0,v=i.yOrigin||0,C!==Ji&&(I=C[0],B=C[1],H=C[2],G=C[3],h=$=C[4],u=J=C[5],C.length===6?(f=Math.sqrt(I*I+B*B),d=Math.sqrt(G*G+H*H),x=I||B?ci(B,I)*$t:0,y=H||G?ci(H,G)*$t+x:0,y&&(d*=Math.abs(Math.cos(y*bi))),i.svg&&(h-=P-(P*I+v*H),u-=v-(P*B+v*G))):(st=C[6],_t=C[7],ce=C[8],Ve=C[9],Fe=C[10],fe=C[11],h=C[12],u=C[13],c=C[14],O=ci(st,Fe),_=O*$t,O&&(R=Math.cos(-O),S=Math.sin(-O),U=$*R+ce*S,X=J*R+Ve*S,K=st*R+Fe*S,ce=$*-S+ce*R,Ve=J*-S+Ve*R,Fe=st*-S+Fe*R,fe=_t*-S+fe*R,$=U,J=X,st=K),O=ci(-H,Fe),m=O*$t,O&&(R=Math.cos(-O),S=Math.sin(-O),U=I*R-ce*S,X=B*R-Ve*S,K=H*R-Fe*S,fe=G*S+fe*R,I=U,B=X,H=K),O=ci(B,I),x=O*$t,O&&(R=Math.cos(O),S=Math.sin(O),U=I*R+B*S,X=$*R+J*S,B=B*R-I*S,J=J*R-$*S,I=U,$=X),_&&Math.abs(_)+Math.abs(x)>359.9&&(_=x=0,m=180-m),f=ue(Math.sqrt(I*I+B*B+H*H)),d=ue(Math.sqrt(J*J+st*st)),O=ci($,J),y=Math.abs(O)>2e-4?O*$t:0,w=fe?1/(fe<0?-fe:fe):0),i.svg&&(U=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!hl(bt(e,me)),U&&e.setAttribute("transform",U))),Math.abs(y)>90&&Math.abs(y)<270&&(n?(f*=-1,y+=x<=0?180:-180,x+=x<=0?180:-180):(d*=-1,y+=y<=0?180:-180)),t=t||i.uncache,i.x=h-((i.xPercent=h&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-h)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+a,i.y=u-((i.yPercent=u&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-u)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+a,i.z=c+a,i.scaleX=ue(f),i.scaleY=ue(d),i.rotation=ue(x)+o,i.rotationX=ue(_)+o,i.rotationY=ue(m)+o,i.skewX=y+o,i.skewY=T+o,i.transformPerspective=w+a,(i.zOrigin=parseFloat(l.split(" ")[2])||0)&&(r[Bt]=Es(l)),i.xOffset=i.yOffset=0,i.force3D=ze.force3D,i.renderTransform=i.svg?hf:nl?ul:lf,i.uncache=0,i},Es=function(e){return(e=e.split(" "))[0]+" "+e[1]},lr=function(e,t,i){var r=ye(t);return ue(parseFloat(t)+parseFloat(Wt(e,"x",i+"px",r)))+r},lf=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,ul(e,t)},Gt="0deg",Oi="0px",Yt=") ",ul=function(e,t){var i=t||this,r=i.xPercent,n=i.yPercent,a=i.x,o=i.y,l=i.z,h=i.rotation,u=i.rotationY,c=i.rotationX,f=i.skewX,d=i.skewY,x=i.scaleX,_=i.scaleY,m=i.transformPerspective,y=i.force3D,T=i.target,w=i.zOrigin,P="",v=y==="auto"&&e&&e!==1||y===!0;if(w&&(c!==Gt||u!==Gt)){var C=parseFloat(u)*bi,O=Math.sin(C),R=Math.cos(C),S;C=parseFloat(c)*bi,S=Math.cos(C),a=lr(T,a,O*S*-w),o=lr(T,o,-Math.sin(C)*-w),l=lr(T,l,R*S*-w+w)}m!==Oi&&(P+="perspective("+m+Yt),(r||n)&&(P+="translate("+r+"%, "+n+"%) "),(v||a!==Oi||o!==Oi||l!==Oi)&&(P+=l!==Oi||v?"translate3d("+a+", "+o+", "+l+") ":"translate("+a+", "+o+Yt),h!==Gt&&(P+="rotate("+h+Yt),u!==Gt&&(P+="rotateY("+u+Yt),c!==Gt&&(P+="rotateX("+c+Yt),(f!==Gt||d!==Gt)&&(P+="skew("+f+", "+d+Yt),(x!==1||_!==1)&&(P+="scale("+x+", "+_+Yt),T.style[me]=P||"translate(0, 0)"},hf=function(e,t){var i=t||this,r=i.xPercent,n=i.yPercent,a=i.x,o=i.y,l=i.rotation,h=i.skewX,u=i.skewY,c=i.scaleX,f=i.scaleY,d=i.target,x=i.xOrigin,_=i.yOrigin,m=i.xOffset,y=i.yOffset,T=i.forceCSS,w=parseFloat(a),P=parseFloat(o),v,C,O,R,S;l=parseFloat(l),h=parseFloat(h),u=parseFloat(u),u&&(u=parseFloat(u),h+=u,l+=u),l||h?(l*=bi,h*=bi,v=Math.cos(l)*c,C=Math.sin(l)*c,O=Math.sin(l-h)*-f,R=Math.cos(l-h)*f,h&&(u*=bi,S=Math.tan(h-u),S=Math.sqrt(1+S*S),O*=S,R*=S,u&&(S=Math.tan(u),S=Math.sqrt(1+S*S),v*=S,C*=S)),v=ue(v),C=ue(C),O=ue(O),R=ue(R)):(v=c,R=f,C=O=0),(w&&!~(a+"").indexOf("px")||P&&!~(o+"").indexOf("px"))&&(w=Wt(d,"x",a,"px"),P=Wt(d,"y",o,"px")),(x||_||m||y)&&(w=ue(w+x-(x*v+_*O)+m),P=ue(P+_-(x*C+_*R)+y)),(r||n)&&(S=d.getBBox(),w=ue(w+r/100*S.width),P=ue(P+n/100*S.height)),S="matrix("+v+","+C+","+O+","+R+","+w+","+P+")",d.setAttribute("transform",S),T&&(d.style[me]=S)},uf=function(e,t,i,r,n){var a=360,o=ge(n),l=parseFloat(n)*(o&&~n.indexOf("rad")?$t:1),h=l-r,u=r+h+"deg",c,f;return o&&(c=n.split("_")[1],c==="short"&&(h%=a,h!==h%(a/2)&&(h+=h<0?a:-a)),c==="cw"&&h<0?h=(h+a*fa)%a-~~(h/a)*a:c==="ccw"&&h>0&&(h=(h-a*fa)%a-~~(h/a)*a)),e._pt=f=new Oe(e._pt,t,i,r,h,$c),f.e=u,f.u="deg",e._props.push(i),f},xa=function(e,t){for(var i in t)e[i]=t[i];return e},cf=function(e,t,i){var r=xa({},i._gsap),n="perspective,force3D,transformOrigin,svgOrigin",a=i.style,o,l,h,u,c,f,d,x;r.svg?(h=i.getAttribute("transform"),i.setAttribute("transform",""),a[me]=t,o=es(i,1),Zi(i,me),i.setAttribute("transform",h)):(h=getComputedStyle(i)[me],a[me]=t,o=es(i,1),a[me]=h);for(l in Vt)h=r[l],u=o[l],h!==u&&n.indexOf(l)<0&&(d=ye(h),x=ye(u),c=d!==x?Wt(i,l,h,x):parseFloat(h),f=parseFloat(u),e._pt=new Oe(e._pt,o,l,c,f-c,il),e._pt.u=x||0,e._props.push(l));xa(o,r)};Ae("padding,margin,Width,Radius",function(s,e){var t="Top",i="Right",r="Bottom",n="Left",a=(e<3?[t,i,r,n]:[t+n,t+i,r+i,r+n]).map(function(o){return e<2?s+o:"border"+o+s});Cs[e>1?"border"+s:s]=function(o,l,h,u,c){var f,d;if(arguments.length<4)return f=a.map(function(x){return Kt(o,x,h)}),d=f.join(" "),d.split(f[0]).length===5?f[0]:d;f=(u+"").split(" "),d={},a.forEach(function(x,_){return d[x]=f[_]=f[_]||f[(_-1)/2|0]}),o.init(l,d,c)}});var cl={name:"css",register:Ir,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,n){var a=this._props,o=e.style,l=i.vars.startAt,h,u,c,f,d,x,_,m,y,T,w,P,v,C,O;yn||Ir();for(_ in t)if(_!=="autoRound"&&(u=t[_],!(De[_]&&qo(_,t,i,r,e,n)))){if(d=typeof u,x=Cs[_],d==="function"&&(u=u.call(i,r,e,n),d=typeof u),d==="string"&&~u.indexOf("random(")&&(u=$i(u)),x)x(this,e,_,u,i)&&(O=1);else if(_.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(_)+"").trim(),u+="",zt.lastIndex=0,zt.test(h)||(m=ye(h),y=ye(u)),y?m!==y&&(h=Wt(e,_,h,y)+y):m&&(u+=m),this.add(o,"setProperty",h,u,r,n,0,0,_),a.push(_);else if(d!=="undefined"){if(l&&_ in l?(h=typeof l[_]=="function"?l[_].call(i,r,e,n):l[_],ge(h)&&~h.indexOf("random(")&&(h=$i(h)),ye(h+"")||(h+=ze.units[_]||ye(Kt(e,_))||""),(h+"").charAt(1)==="="&&(h=Kt(e,_))):h=Kt(e,_),f=parseFloat(h),T=d==="string"&&u.charAt(1)==="="&&u.substr(0,2),T&&(u=u.substr(2)),c=parseFloat(u),_ in Ot&&(_==="autoAlpha"&&(f===1&&Kt(e,"visibility")==="hidden"&&c&&(f=0),Ft(this,o,"visibility",f?"inherit":"hidden",c?"inherit":"hidden",!c)),_!=="scale"&&_!=="transform"&&(_=Ot[_],~_.indexOf(",")&&(_=_.split(",")[0]))),w=_ in Vt,w){if(P||(v=e._gsap,v.renderTransform&&!t.parseTransform||es(e,t.parseTransform),C=t.smoothOrigin!==!1&&v.smooth,P=this._pt=new Oe(this._pt,o,me,0,1,v.renderTransform,v,0,-1),P.dep=1),_==="scale")this._pt=new Oe(this._pt,v,"scaleY",v.scaleY,(T?xi(v.scaleY,T+c):c)-v.scaleY||0),a.push("scaleY",_),_+="X";else if(_==="transformOrigin"){u=af(u),v.svg?zr(e,u,0,C,0,this):(y=parseFloat(u.split(" ")[2])||0,y!==v.zOrigin&&Ft(this,v,"zOrigin",v.zOrigin,y),Ft(this,o,_,Es(h),Es(u)));continue}else if(_==="svgOrigin"){zr(e,u,1,C,0,this);continue}else if(_ in ll){uf(this,v,_,f,T?xi(f,T+u):u);continue}else if(_==="smoothOrigin"){Ft(this,v,"smooth",v.smooth,u);continue}else if(_==="force3D"){v[_]=u;continue}else if(_==="transform"){cf(this,u,e);continue}}else _ in o||(_=Si(_)||_);if(w||(c||c===0)&&(f||f===0)&&!qc.test(u)&&_ in o)m=(h+"").substr((f+"").length),c||(c=0),y=ye(u)||(_ in ze.units?ze.units[_]:m),m!==y&&(f=Wt(e,_,h,y)),this._pt=new Oe(this._pt,w?v:o,_,f,(T?xi(f,T+c):c)-f,!w&&(y==="px"||_==="zIndex")&&t.autoRound!==!1?Qc:il),this._pt.u=y||0,m!==y&&y!=="%"&&(this._pt.b=h,this._pt.r=Kc);else if(_ in o)nf.call(this,e,_,h,T?T+u:u);else if(_ in e)this.add(e,_,h||e[_],T?T+u:u,r,n);else{hn(_,u);continue}a.push(_)}}O&&el(this)},get:Kt,aliases:Ot,getSetter:function(e,t,i){var r=Ot[t];return r&&r.indexOf(",")<0&&(t=r),t in Vt&&t!==Bt&&(e._gsap.x||Kt(e,"x"))?i&&ca===i?t==="scale"?tf:ef:(ca=i||{})&&(t==="scale"?sf:rf):e.style&&!on(e.style[t])?Zc:~t.indexOf("-")?Jc:mn(e,t)},core:{_removeProperty:Zi,_getMatrix:bn}};it.utils.checkPrefix=Si;(function(s,e,t,i){var r=Ae(s+","+e+","+t,function(n){Vt[n]=1});Ae(e,function(n){ze.units[n]="deg",ll[n]=1}),Ot[r[13]]=s+","+e,Ae(i,function(n){var a=n.split(":");Ot[a[1]]=r[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Ae("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(s){ze.units[s]="px"});it.registerPlugin(cl);var Ur=it.registerPlugin(cl)||it;Ur.core.Tween;var ff=`precision mediump float;
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
varying vec2 vFirstTextureCoord;
varying vec2 vSecondTextureCoord;

            // custom uniforms
uniform float uTransitionTimer;
uniform float uTimer;
uniform float uTo;
uniform float uFrom;
uniform float uFadeIn;

            // our textures samplers
uniform sampler2D firstTexture;
uniform sampler2D secondTexture;
uniform sampler2D thirdTexture;
uniform sampler2D displacement;

vec4 getTextureByIndex(float index, vec2 vUv) {
        vec4 result;
        if(index == 0.) {
                result = texture2D(firstTexture, vUv);
        }
        if(index == 1.) {
                result = texture2D(secondTexture, vUv);
        }
        if(index == 2.) {
                result = texture2D(thirdTexture, vUv);
        }
        return result;
}
float circle(in vec2 uv, in float radius, in float sharpness) {
        float dist = length(uv - vec2(0.5));
        return 1. - smoothstep(radius - sharpness, radius, dist);
}
void main() {
        float progress = fract(uTransitionTimer);

        vec2 center = vec2(0.5);
        vec2 centerVector = vFirstTextureCoord - center;
        vec2 vUv = (vFirstTextureCoord - vec2(0.5)) * (0.2 + 0.8 * uFadeIn) + vec2(0.5) + 0.6 * vec2(0., 1. - uFadeIn);
        float mask = step(vTextureCoord.y, uFadeIn);

        float circleProgress = circle(vTextureCoord, progress * 0.9, 0.2);
        float ease = progress * (2. - progress);
        vec2 nextUV = vUv + centerVector * (circleProgress - 1.0) + centerVector * (1. - ease) * 0.;
        vec2 currentUV = vUv - centerVector * circleProgress * 0.5 - centerVector * progress * 0.2;

        float currentTexture = mod(uFrom, 3.);
        float nextTexture = mod(uTo, 3.);

        vec4 current = getTextureByIndex(currentTexture, currentUV);
        vec4 next = getTextureByIndex(nextTexture, nextUV);

        gl_FragColor = mix(vec4(0., 0., 0., 0), mix(current, next, circleProgress), mask);
}`,df=`precision mediump float;

            // default mandatory variables
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

            // our texture matrices
            // displacement texture does not need to use them
uniform mat4 firstTextureMatrix;
uniform mat4 secondTextureMatrix;

            // custom variables
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
varying vec2 vFirstTextureCoord;
varying vec2 vSecondTextureCoord;

            // custom uniforms
uniform float uTransitionTimer;

void main() {
gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);

                // varyings
                // use original texture coords for our displacement
vTextureCoord = aTextureCoord;
                // use texture matrices for our videos
vFirstTextureCoord = (firstTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
vSecondTextureCoord = (secondTextureMatrix * vec4(aTextureCoord, 0.0, 1.0)).xy;
vVertexPosition = aVertexPosition;
}`,_f="/assets/1.d6806591.mp4",pf="/assets/2.bc57bd0e.mp4",gf="/assets/3.68a57add.mp4";const mf=yu('<div class="frame"><button class="frame__button" id="intro"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60" width="60" height="60"><path d="M45.563 29.174l-22-15A1 1 0 0022 15v30a.999.999 0 001.563.826l22-15a1 1 0 000-1.652zM24 43.107V16.893L43.225 30 24 43.107z"></path><path d="M30 0C13.458 0 0 13.458 0 30s13.458 30 30 30 30-13.458 30-30S46.542 0 30 0zm0 58C14.561 58 2 45.439 2 30S14.561 2 30 2s28 12.561 28 28-12.561 28-28 28z"></path></svg></button><div class="frame__content"><h2 class="frame__content-title">v-curtain</h2><p style="color:white;font-size:30px;">vue directive for curtainsjs</p><p class="frame__content-text">Select another video here:</p><nav class="frame__switch" id="nav"><a class="frame__switch-item js-nav" data-nav="0">Wake up</a><a class="frame__switch-item js-nav" data-nav="1">Rejoice</a><a class="frame__switch-item js-nav" data-nav="2">Breathe</a></nav></div></div>',1),xf={class:"video"},yf={class:"wrapper"},bf={class:"plane","data-duration":"2.5"},vf=["src"],wf=["src"],Tf=["src"],Pf={__name:"App",setup(s){let e=0,t=0,i=0;const r={vertexShader:df,fragmentShader:ff,onRender:n=>{t+=.001,n.uniforms.timer.value=t},onReady:(n,a)=>{document.body.classList.add("curtains-ready");const o=[...document.getElementsByClassName("js-nav")];let l=n.videos.length;o.forEach(h=>{h.addEventListener("click",u=>{let c=u.target.getAttribute("data-nav");if(i||c==e)return;i=!0,n.uniforms.to.value=c;let f={progress:0};Ur.to(f,{duration:2,progress:1,easing:"power2.in",onStart:()=>{n.videos[c].play(),e=c},onUpdate:()=>{f.progress===1&&(n.uniforms.from.value=c),n.uniforms.transitionTimer.value=f.progress},onComplete:()=>{n.uniforms.from.value=c,n.videos[(e+l-1)%l].pause(),n.videos[(e+l+1)%l].pause(),i=!1}})}),document.getElementById("intro").addEventListener("click",()=>{document.body.classList.add("video-started"),Ur.to(n.uniforms.fadeIn,{duration:1,value:1}),n.playVideos(),a.nextRender(()=>{n.videos[1].pause(),n.videos[2].pause()})},!1)})}};return(n,a)=>{const o=qh("curtains");return Gn(),qn("main",null,[mf,Zt("div",xf,[Zt("div",yf,[Hh((Gn(),qn("div",bf,[Zt("video",{playsinline:"",muted:"",src:us(_f),"data-sampler":"firstTexture",preload:"auto"},null,8,vf),Zt("video",{playsinline:"",muted:"",src:us(pf),"data-sampler":"secondTexture"},null,8,wf),Zt("video",{playsinline:"",muted:"",src:us(gf),"data-sampler":"thirdTexture"},null,8,Tf)])),[[o,r]])])])])}}};let hr=0;function W(){if(!(hr>100)){if(hr===100)console.warn("Curtains: too many warnings thrown, stop logging.");else{const s=Array.prototype.slice.call(arguments);console.warn.apply(console,s)}hr++}}function Re(){const s=Array.prototype.slice.call(arguments);console.error.apply(console,s)}function fl(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{let e=Math.random()*16|0;return(s==="x"?e:e&3|8).toString(16).toUpperCase()})}function at(s){return(s&s-1)===0}function Rf(s,e,t){return(1-t)*s+t*e}class Sf{constructor(e){if(this.type="Scene",!e||e.type!=="Renderer")Re(this.type+": Renderer not passed as first argument",e);else if(!e.gl){Re(this.type+": Renderer WebGL context is undefined",e);return}this.renderer=e,this.gl=e.gl,this.initStacks()}initStacks(){this.stacks={pingPong:[],renderTargets:[],opaque:[],transparent:[],renderPasses:[],scenePasses:[]}}resetPlaneStacks(){this.stacks.pingPong=[],this.stacks.renderTargets=[],this.stacks.opaque=[],this.stacks.transparent=[];for(let e=0;e<this.renderer.planes.length;e++)this.addPlane(this.renderer.planes[e])}resetShaderPassStacks(){this.stacks.scenePasses=[],this.stacks.renderPasses=[];for(let e=0;e<this.renderer.shaderPasses.length;e++)this.renderer.shaderPasses[e].index=e,this.renderer.shaderPasses[e]._isScenePass?this.stacks.scenePasses.push(this.renderer.shaderPasses[e]):this.stacks.renderPasses.push(this.renderer.shaderPasses[e]);this.stacks.scenePasses.length===0&&(this.renderer.state.scenePassIndex=null)}addToRenderTargetsStack(e){const t=this.renderer.planes.filter(r=>r.type!=="PingPongPlane"&&r.target&&r.uuid!==e.uuid);let i=-1;if(e.target._depth){for(let r=t.length-1;r>=0;r--)if(t[r].target.uuid===e.target.uuid){i=r+1;break}}else i=t.findIndex(r=>r.target.uuid===e.target.uuid);i=Math.max(0,i),t.splice(i,0,e),e.target._depth?(t.sort((r,n)=>r.index-n.index),t.sort((r,n)=>n.renderOrder-r.renderOrder)):(t.sort((r,n)=>n.index-r.index),t.sort((r,n)=>r.renderOrder-n.renderOrder)),t.sort((r,n)=>r.target.index-n.target.index),this.stacks.renderTargets=t}addToRegularPlaneStack(e){const t=this.renderer.planes.filter(r=>r.type!=="PingPongPlane"&&!r.target&&r._transparent===e._transparent&&r.uuid!==e.uuid);let i=-1;for(let r=t.length-1;r>=0;r--)if(t[r]._geometry.definition.id===e._geometry.definition.id){i=r+1;break}return i=Math.max(0,i),t.splice(i,0,e),t.sort((r,n)=>r.index-n.index),t}addPlane(e){if(e.type==="PingPongPlane")this.stacks.pingPong.push(e);else if(e.target)this.addToRenderTargetsStack(e);else if(e._transparent){const t=this.addToRegularPlaneStack(e);t.sort((i,r)=>r.relativeTranslation.z-i.relativeTranslation.z),t.sort((i,r)=>r.renderOrder-i.renderOrder),this.stacks.transparent=t}else{const t=this.addToRegularPlaneStack(e);t.sort((i,r)=>r.renderOrder-i.renderOrder),this.stacks.opaque=t}}removePlane(e){e.type==="PingPongPlane"?this.stacks.pingPong=this.stacks.pingPong.filter(t=>t.uuid!==e.uuid):e.target?this.stacks.renderTargets=this.stacks.renderTargets.filter(t=>t.uuid!==e.uuid):e._transparent?this.stacks.transparent=this.stacks.transparent.filter(t=>t.uuid!==e.uuid):this.stacks.opaque=this.stacks.opaque.filter(t=>t.uuid!==e.uuid)}setPlaneRenderOrder(e){if(e.type==="ShaderPass")this.sortShaderPassStack(e._isScenePass?this.stacks.scenePasses:this.stacks.renderPasses);else if(e.type==="PingPongPlane")return;if(e.target)e.target._depth?(this.stacks.renderTargets.sort((t,i)=>t.index-i.index),this.stacks.renderTargets.sort((t,i)=>i.renderOrder-t.renderOrder)):(this.stacks.renderTargets.sort((t,i)=>i.index-t.index),this.stacks.renderTargets.sort((t,i)=>t.renderOrder-i.renderOrder)),this.stacks.renderTargets.sort((t,i)=>t.target.index-i.target.index);else{const t=e._transparent?this.stacks.transparent:this.stacks.opaque,i=this.stacks.scenePasses.find((r,n)=>r._isScenePass&&!r._depth&&n===0);!this.renderer.depth||i?(t.sort((r,n)=>n.index-r.index),e._transparent&&t.sort((r,n)=>r.relativeTranslation.z-n.relativeTranslation.z),t.sort((r,n)=>r.renderOrder-n.renderOrder)):(t.sort((r,n)=>r.index-n.index),e._transparent&&t.sort((r,n)=>n.relativeTranslation.z-r.relativeTranslation.z),t.sort((r,n)=>n.renderOrder-r.renderOrder))}}addShaderPass(e){e._isScenePass?(this.stacks.scenePasses.push(e),this.sortShaderPassStack(this.stacks.scenePasses)):(this.stacks.renderPasses.push(e),this.sortShaderPassStack(this.stacks.renderPasses))}removeShaderPass(e){this.resetShaderPassStacks()}sortShaderPassStack(e){e.sort((t,i)=>t.index-i.index),e.sort((t,i)=>t.renderOrder-i.renderOrder)}enableShaderPass(){this.stacks.scenePasses.length&&this.stacks.renderPasses.length===0&&this.renderer.planes.length&&(this.renderer.state.scenePassIndex=0,this.renderer.bindFrameBuffer(this.stacks.scenePasses[0].target))}drawRenderPasses(){this.stacks.scenePasses.length&&this.stacks.renderPasses.length&&this.renderer.planes.length&&(this.renderer.state.scenePassIndex=0,this.renderer.bindFrameBuffer(this.stacks.scenePasses[0].target));for(let e=0;e<this.stacks.renderPasses.length;e++)this.stacks.renderPasses[e]._startDrawing(),this.renderer.clearDepth()}drawScenePasses(){for(let e=0;e<this.stacks.scenePasses.length;e++)this.stacks.scenePasses[e]._startDrawing()}drawPingPongStack(){for(let e=0;e<this.stacks.pingPong.length;e++){const t=this.stacks.pingPong[e];t&&t._startDrawing()}}drawStack(e){for(let t=0;t<this.stacks[e].length;t++){const i=this.stacks[e][t];i&&i._startDrawing()}}draw(){this.drawPingPongStack(),this.enableShaderPass(),this.drawStack("renderTargets"),this.drawRenderPasses(),this.renderer.setBlending(!1),this.drawStack("opaque"),this.stacks.transparent.length&&(this.renderer.setBlending(!0),this.drawStack("transparent")),this.drawScenePasses()}}class Cf{constructor(){this.geometries=[],this.clear()}clear(){this.textures=[],this.programs=[]}getGeometryFromID(e){return this.geometries.find(t=>t.id===e)}addGeometry(e,t,i){this.geometries.push({id:e,vertices:t,uvs:i})}isSameShader(e,t){return e.localeCompare(t)===0}getProgramFromShaders(e,t){return this.programs.find(i=>this.isSameShader(i.vsCode,e)&&this.isSameShader(i.fsCode,t))}addProgram(e){this.programs.push(e)}getTextureFromSource(e){const t=typeof e=="string"?e:e.src;return this.textures.find(i=>i.source&&i.source.src===t)}addTexture(e){this.getTextureFromSource(e.source)||this.textures.push(e)}removeTexture(e){this.textures=this.textures.filter(t=>t.uuid!==e.uuid)}}class Ef{constructor(){this.clear()}clear(){this.queue=[]}add(e,t=!1){const i={callback:e,keep:t,timeout:null};return i.timeout=setTimeout(()=>{this.queue.push(i)},0),i}execute(){this.queue.map(e=>{e.callback&&e.callback(),clearTimeout(this.queue.timeout)}),this.queue=this.queue.filter(e=>e.keep)}}class Mf{constructor({alpha:e,antialias:t,premultipliedAlpha:i,depth:r,failIfMajorPerformanceCaveat:n,preserveDrawingBuffer:a,stencil:o,container:l,pixelRatio:h,renderingScale:u,production:c,onError:f,onSuccess:d,onContextLost:x,onContextRestored:_,onDisposed:m,onSceneChange:y}){this.type="Renderer",this.alpha=e,this.antialias=t,this.premultipliedAlpha=i,this.depth=r,this.failIfMajorPerformanceCaveat=n,this.preserveDrawingBuffer=a,this.stencil=o,this.container=l,this.pixelRatio=h,this._renderingScale=u,this.production=c,this.onError=f,this.onSuccess=d,this.onContextLost=x,this.onContextRestored=_,this.onDisposed=m,this.onSceneChange=y,this.initState(),this.canvas=document.createElement("canvas");const T={alpha:this.alpha,premultipliedAlpha:this.premultipliedAlpha,antialias:this.antialias,depth:this.depth,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,stencil:this.stencil};if(this.gl=this.canvas.getContext("webgl2",T),this._isWebGL2=!!this.gl,this.gl||(this.gl=this.canvas.getContext("webgl",T)||this.canvas.getContext("experimental-webgl",T)),this.gl)this.onSuccess&&this.onSuccess();else{this.production||W(this.type+": WebGL context could not be created"),this.state.isActive=!1,this.onError&&this.onError();return}this.initRenderer()}initState(){this.state={isActive:!0,isContextLost:!0,drawingEnabled:!0,forceRender:!1,currentProgramID:null,currentGeometryID:null,forceBufferUpdate:!1,depthTest:null,blending:null,cullFace:null,frameBufferID:null,scenePassIndex:null,activeTexture:null,unpackAlignment:null,flipY:null,premultiplyAlpha:null}}initCallbackQueueManager(){this.nextRender=new Ef}initRenderer(){this.planes=[],this.renderTargets=[],this.shaderPasses=[],this.state.isContextLost=!1,this.state.maxTextureSize=this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE),this.initCallbackQueueManager(),this.setBlendFunc(),this.setDepthFunc(),this.setDepthTest(!0),this.cache=new Cf,this.scene=new Sf(this),this.getExtensions(),this._contextLostHandler=this.contextLost.bind(this),this.canvas.addEventListener("webglcontextlost",this._contextLostHandler,!1),this._contextRestoredHandler=this.contextRestored.bind(this),this.canvas.addEventListener("webglcontextrestored",this._contextRestoredHandler,!1)}getExtensions(){this.extensions=[],this._isWebGL2?(this.extensions.EXT_color_buffer_float=this.gl.getExtension("EXT_color_buffer_float"),this.extensions.OES_texture_float_linear=this.gl.getExtension("OES_texture_float_linear"),this.extensions.EXT_texture_filter_anisotropic=this.gl.getExtension("EXT_texture_filter_anisotropic"),this.extensions.WEBGL_lose_context=this.gl.getExtension("WEBGL_lose_context")):(this.extensions.OES_vertex_array_object=this.gl.getExtension("OES_vertex_array_object"),this.extensions.OES_texture_float=this.gl.getExtension("OES_texture_float"),this.extensions.OES_texture_float_linear=this.gl.getExtension("OES_texture_float_linear"),this.extensions.OES_texture_half_float=this.gl.getExtension("OES_texture_half_float"),this.extensions.OES_texture_half_float_linear=this.gl.getExtension("OES_texture_half_float_linear"),this.extensions.EXT_texture_filter_anisotropic=this.gl.getExtension("EXT_texture_filter_anisotropic"),this.extensions.OES_element_index_uint=this.gl.getExtension("OES_element_index_uint"),this.extensions.OES_standard_derivatives=this.gl.getExtension("OES_standard_derivatives"),this.extensions.EXT_sRGB=this.gl.getExtension("EXT_sRGB"),this.extensions.WEBGL_depth_texture=this.gl.getExtension("WEBGL_depth_texture"),this.extensions.WEBGL_draw_buffers=this.gl.getExtension("WEBGL_draw_buffers"),this.extensions.WEBGL_lose_context=this.gl.getExtension("WEBGL_lose_context"))}contextLost(e){this.state.isContextLost=!0,this.state.isActive&&(e.preventDefault(),this.nextRender.add(()=>this.onContextLost&&this.onContextLost()))}restoreContext(){!this.state.isActive||(this.initState(),this.gl&&this.extensions.WEBGL_lose_context?this.extensions.WEBGL_lose_context.restoreContext():(!this.gl&&!this.production?W(this.type+": Could not restore the context because the context is not defined"):!this.extensions.WEBGL_lose_context&&!this.production&&W(this.type+": Could not restore the context because the restore context extension is not defined"),this.onError&&this.onError()))}isContextexFullyRestored(){let e=!0;for(let t=0;t<this.renderTargets.length;t++){this.renderTargets[t].textures[0]._canDraw||(e=!1);break}if(e)for(let t=0;t<this.planes.length;t++)if(this.planes[t]._canDraw){for(let i=0;i<this.planes[t].textures.length;i++)if(!this.planes[t].textures[i]._canDraw){e=!1;break}}else{e=!1;break}if(e)for(let t=0;t<this.shaderPasses.length;t++)if(this.shaderPasses[t]._canDraw){for(let i=0;i<this.shaderPasses[t].textures.length;i++)if(!this.shaderPasses[t].textures[i]._canDraw){e=!1;break}}else{e=!1;break}return e}contextRestored(){this.getExtensions(),this.setBlendFunc(),this.setDepthFunc(),this.setDepthTest(!0),this.cache.clear(),this.scene.initStacks();for(let t=0;t<this.renderTargets.length;t++)this.renderTargets[t]._restoreContext();for(let t=0;t<this.planes.length;t++)this.planes[t]._restoreContext();for(let t=0;t<this.shaderPasses.length;t++)this.shaderPasses[t]._restoreContext();const e=this.nextRender.add(()=>{this.isContextexFullyRestored()&&(e.keep=!1,this.state.isContextLost=!1,this.onContextRestored&&this.onContextRestored(),this.onSceneChange(),this.needRender())},!0)}setPixelRatio(e){this.pixelRatio=e}setSize(){if(!this.gl)return;const e=this.container.getBoundingClientRect();this._boundingRect={width:e.width*this.pixelRatio,height:e.height*this.pixelRatio,top:e.top*this.pixelRatio,left:e.left*this.pixelRatio};const t=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),i=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(t&&i){let n=function(a){let o=0;for(;a&&!isNaN(a.offsetTop);)o+=a.offsetTop-a.scrollTop,a=a.offsetParent;return o};var r=n;this._boundingRect.top=n(this.container)*this.pixelRatio}this.canvas.style.width=Math.floor(this._boundingRect.width/this.pixelRatio)+"px",this.canvas.style.height=Math.floor(this._boundingRect.height/this.pixelRatio)+"px",this.canvas.width=Math.floor(this._boundingRect.width*this._renderingScale),this.canvas.height=Math.floor(this._boundingRect.height*this._renderingScale),this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)}resize(){for(let e=0;e<this.planes.length;e++)this.planes[e]._canDraw&&this.planes[e].resize();for(let e=0;e<this.shaderPasses.length;e++)this.shaderPasses[e]._canDraw&&this.shaderPasses[e].resize();for(let e=0;e<this.renderTargets.length;e++)this.renderTargets[e].resize();this.needRender()}clear(){this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}clearDepth(){this.gl.clear(this.gl.DEPTH_BUFFER_BIT)}clearColor(){this.gl.clear(this.gl.COLOR_BUFFER_BIT)}bindFrameBuffer(e,t){let i=null;e?(i=e.index,i!==this.state.frameBufferID&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,e._frameBuffer),this.gl.viewport(0,0,e._size.width,e._size.height),e._shouldClear&&!t&&this.clear())):this.state.frameBufferID!==null&&(this.gl.bindFramebuffer(this.gl.FRAMEBUFFER,null),this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)),this.state.frameBufferID=i}setDepthTest(e){e&&!this.state.depthTest?(this.state.depthTest=e,this.gl.enable(this.gl.DEPTH_TEST)):!e&&this.state.depthTest&&(this.state.depthTest=e,this.gl.disable(this.gl.DEPTH_TEST))}setDepthFunc(){this.gl.depthFunc(this.gl.LEQUAL)}setBlending(e=!1){e&&!this.state.blending?(this.state.blending=e,this.gl.enable(this.gl.BLEND)):!e&&this.state.blending&&(this.state.blending=e,this.gl.disable(this.gl.BLEND))}setBlendFunc(){this.gl.enable(this.gl.BLEND),this.premultipliedAlpha?this.gl.blendFuncSeparate(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.gl.blendFuncSeparate(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA)}setFaceCulling(e){if(this.state.cullFace!==e)if(this.state.cullFace=e,e==="none")this.gl.disable(this.gl.CULL_FACE);else{const t=e==="front"?this.gl.FRONT:this.gl.BACK;this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(t)}}useProgram(e){(this.state.currentProgramID===null||this.state.currentProgramID!==e.id)&&(this.gl.useProgram(e.program),this.state.currentProgramID=e.id)}removePlane(e){!this.gl||(this.planes=this.planes.filter(t=>t.uuid!==e.uuid),this.scene.removePlane(e),e=null,this.gl&&this.clear(),this.onSceneChange())}removeRenderTarget(e){if(!this.gl)return;let t=this.planes.find(i=>i.type!=="PingPongPlane"&&i.target&&i.target.uuid===e.uuid);for(let i=0;i<this.planes.length;i++)this.planes[i].target&&this.planes[i].target.uuid===e.uuid&&(this.planes[i].target=null);this.renderTargets=this.renderTargets.filter(i=>i.uuid!==e.uuid);for(let i=0;i<this.renderTargets.length;i++)this.renderTargets[i].index=i;e=null,this.gl&&this.clear(),t&&this.scene.resetPlaneStacks(),this.onSceneChange()}removeShaderPass(e){!this.gl||(this.shaderPasses=this.shaderPasses.filter(t=>t.uuid!==e.uuid),this.scene.removeShaderPass(e),e=null,this.gl&&this.clear(),this.onSceneChange())}enableDrawing(){this.state.drawingEnabled=!0}disableDrawing(){this.state.drawingEnabled=!1}needRender(){this.state.forceRender=!0}render(){!this.gl||(this.clear(),this.state.currentGeometryID=null,this.scene.draw())}deletePrograms(){for(let e=0;e<this.cache.programs.length;e++){const t=this.cache.programs[e];this.gl.deleteProgram(t.program)}}dispose(){if(!this.gl)return;for(this.state.isActive=!1;this.planes.length>0;)this.removePlane(this.planes[0]);for(;this.shaderPasses.length>0;)this.removeShaderPass(this.shaderPasses[0]);for(;this.renderTargets.length>0;)this.removeRenderTarget(this.renderTargets[0]);let e=this.nextRender.add(()=>{this.planes.length===0&&this.shaderPasses.length===0&&this.renderTargets.length===0&&(e.keep=!1,this.deletePrograms(),this.clear(),this.canvas.removeEventListener("webgllost",this._contextLostHandler,!1),this.canvas.removeEventListener("webglrestored",this._contextRestoredHandler,!1),this.gl&&this.extensions.WEBGL_lose_context&&this.extensions.WEBGL_lose_context.loseContext(),this.canvas.width=this.canvas.width,this.gl=null,this.container.removeChild(this.canvas),this.container=null,this.canvas=null,this.onDisposed&&this.onDisposed())},!0)}}class Af{constructor({xOffset:e=0,yOffset:t=0,lastXDelta:i=0,lastYDelta:r=0,shouldWatch:n=!0,onScroll:a=()=>{}}={}){this.xOffset=e,this.yOffset=t,this.lastXDelta=i,this.lastYDelta=r,this.shouldWatch=n,this.onScroll=a,this.handler=this.scroll.bind(this,!0),this.shouldWatch&&window.addEventListener("scroll",this.handler,{passive:!0})}scroll(){this.updateScrollValues(window.pageXOffset,window.pageYOffset)}updateScrollValues(e,t){const i=this.xOffset;this.xOffset=e,this.lastXDelta=i-this.xOffset;const r=this.yOffset;this.yOffset=t,this.lastYDelta=r-this.yOffset,this.onScroll&&this.onScroll(this.lastXDelta,this.lastYDelta)}dispose(){this.shouldWatch&&window.removeEventListener("scroll",this.handler,{passive:!0})}}const Of="8.1.3";class Ff{constructor({container:e,alpha:t=!0,premultipliedAlpha:i=!1,antialias:r=!0,depth:n=!0,failIfMajorPerformanceCaveat:a=!0,preserveDrawingBuffer:o=!1,stencil:l=!1,autoResize:h=!0,autoRender:u=!0,watchScroll:c=!0,pixelRatio:f=window.devicePixelRatio||1,renderingScale:d=1,production:x=!1}={}){this.type="Curtains",this._autoResize=h,this._autoRender=u,this._watchScroll=c,this.pixelRatio=f,d=isNaN(d)?1:parseFloat(d),this._renderingScale=Math.max(.25,Math.min(1,d)),this.premultipliedAlpha=i,this.alpha=t,this.antialias=r,this.depth=n,this.failIfMajorPerformanceCaveat=a,this.preserveDrawingBuffer=o,this.stencil=l,this.production=x,this.errors=!1,e?this.setContainer(e):this.production||W(this.type+": no container provided in the initial parameters. Use setContainer() method to set one later and initialize the WebGL context")}setContainer(e){if(e)if(typeof e=="string")if(e=document.getElementById(e),e)this.container=e;else{let t=document.createElement("div");t.setAttribute("id","curtains-canvas"),document.body.appendChild(t),this.container=t,this.production||W('Curtains: no valid container HTML element or ID provided, created a div with "curtains-canvas" ID instead')}else e instanceof Element&&(this.container=e);else{let t=document.createElement("div");t.setAttribute("id","curtains-canvas"),document.body.appendChild(t),this.container=t,this.production||W('Curtains: no valid container HTML element or ID provided, created a div with "curtains-canvas" ID instead')}this._initCurtains()}_initCurtains(){this.planes=[],this.renderTargets=[],this.shaderPasses=[],this._initRenderer(),this.gl&&(this._initScroll(),this._setSize(),this._addListeners(),this.container.appendChild(this.canvas),console.log("curtains.js - v"+Of),this._animationFrameID=null,this._autoRender&&this._animate())}_initRenderer(){this.renderer=new Mf({alpha:this.alpha,antialias:this.antialias,premultipliedAlpha:this.premultipliedAlpha,depth:this.depth,failIfMajorPerformanceCaveat:this.failIfMajorPerformanceCaveat,preserveDrawingBuffer:this.preserveDrawingBuffer,stencil:this.stencil,container:this.container,pixelRatio:this.pixelRatio,renderingScale:this._renderingScale,production:this.production,onError:()=>this._onRendererError(),onSuccess:()=>this._onRendererSuccess(),onContextLost:()=>this._onRendererContextLost(),onContextRestored:()=>this._onRendererContextRestored(),onDisposed:()=>this._onRendererDisposed(),onSceneChange:()=>this._keepSync()}),this.gl=this.renderer.gl,this.canvas=this.renderer.canvas}restoreContext(){this.renderer.restoreContext()}_animate(){this.render(),this._animationFrameID=window.requestAnimationFrame(this._animate.bind(this))}enableDrawing(){this.renderer.enableDrawing()}disableDrawing(){this.renderer.disableDrawing()}needRender(){this.renderer.needRender()}nextRender(e,t=!1){return this.renderer.nextRender.add(e,t)}clear(){this.renderer&&this.renderer.clear()}clearDepth(){this.renderer&&this.renderer.clearDepth()}clearColor(){this.renderer&&this.renderer.clearColor()}isWebGL2(){return this.gl?this.renderer._isWebGL2:!1}render(){this.renderer.nextRender.execute(),!(!this.renderer.state.drawingEnabled&&!this.renderer.state.forceRender)&&(this.renderer.state.forceRender&&(this.renderer.state.forceRender=!1),this._onRenderCallback&&this._onRenderCallback(),this.renderer.render())}_addListeners(){this._resizeHandler=null,this._autoResize&&(this._resizeHandler=this.resize.bind(this,!0),window.addEventListener("resize",this._resizeHandler,!1))}setPixelRatio(e,t){this.pixelRatio=parseFloat(Math.max(e,1))||1,this.renderer.setPixelRatio(e),this.resize(t)}_setSize(){this.renderer.setSize(),this._scrollManager.shouldWatch&&(this._scrollManager.xOffset=window.pageXOffset,this._scrollManager.yOffset=window.pageYOffset)}getBoundingRect(){return this.renderer._boundingRect}resize(e){!this.gl||(this._setSize(),this.renderer.resize(),this.nextRender(()=>{this._onAfterResizeCallback&&e&&this._onAfterResizeCallback()}))}_initScroll(){this._scrollManager=new Af({xOffset:window.pageXOffset,yOffset:window.pageYOffset,lastXDelta:0,lastYDelta:0,shouldWatch:this._watchScroll,onScroll:(e,t)=>this._updateScroll(e,t)})}_updateScroll(e,t){for(let i=0;i<this.planes.length;i++)this.planes[i].watchScroll&&this.planes[i].updateScrollPosition(e,t);this.renderer.needRender(),this._onScrollCallback&&this._onScrollCallback()}updateScrollValues(e,t){this._scrollManager.updateScrollValues(e,t)}getScrollDeltas(){return{x:this._scrollManager.lastXDelta,y:this._scrollManager.lastYDelta}}getScrollValues(){return{x:this._scrollManager.xOffset,y:this._scrollManager.yOffset}}_keepSync(){this.planes=this.renderer.planes,this.shaderPasses=this.renderer.shaderPasses,this.renderTargets=this.renderer.renderTargets}lerp(e,t,i){return Rf(e,t,i)}onAfterResize(e){return e&&(this._onAfterResizeCallback=e),this}onError(e){return e&&(this._onErrorCallback=e),this}_onRendererError(){setTimeout(()=>{this._onErrorCallback&&!this.errors&&this._onErrorCallback(),this.errors=!0},0)}onSuccess(e){return e&&(this._onSuccessCallback=e),this}_onRendererSuccess(){setTimeout(()=>{this._onSuccessCallback&&this._onSuccessCallback()},0)}onContextLost(e){return e&&(this._onContextLostCallback=e),this}_onRendererContextLost(){this._onContextLostCallback&&this._onContextLostCallback()}onContextRestored(e){return e&&(this._onContextRestoredCallback=e),this}_onRendererContextRestored(){this._onContextRestoredCallback&&this._onContextRestoredCallback()}onRender(e){return e&&(this._onRenderCallback=e),this}onScroll(e){return e&&(this._onScrollCallback=e),this}dispose(){this.renderer.dispose()}_onRendererDisposed(){this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._resizeHandler&&window.removeEventListener("resize",this._resizeHandler,!1),this._scrollManager&&this._scrollManager.dispose()}}class kf{constructor(e,t,i){if(this.type="Uniforms",!e||e.type!=="Renderer")Re(this.type+": Renderer not passed as first argument",e);else if(!e.gl){Re(this.type+": Renderer WebGL context is undefined",e);return}if(this.renderer=e,this.gl=e.gl,this.program=t,this.uniforms={},i)for(const r in i){const n=i[r];this.uniforms[r]={name:n.name,type:n.type,value:n.value.clone&&typeof n.value.clone=="function"?n.value.clone():n.value,update:null}}}handleUniformSetting(e){switch(e.type){case"1i":e.update=this.setUniform1i.bind(this);break;case"1iv":e.update=this.setUniform1iv.bind(this);break;case"1f":e.update=this.setUniform1f.bind(this);break;case"1fv":e.update=this.setUniform1fv.bind(this);break;case"2i":e.update=this.setUniform2i.bind(this);break;case"2iv":e.update=this.setUniform2iv.bind(this);break;case"2f":e.update=this.setUniform2f.bind(this);break;case"2fv":e.update=this.setUniform2fv.bind(this);break;case"3i":e.update=this.setUniform3i.bind(this);break;case"3iv":e.update=this.setUniform3iv.bind(this);break;case"3f":e.update=this.setUniform3f.bind(this);break;case"3fv":e.update=this.setUniform3fv.bind(this);break;case"4i":e.update=this.setUniform4i.bind(this);break;case"4iv":e.update=this.setUniform4iv.bind(this);break;case"4f":e.update=this.setUniform4f.bind(this);break;case"4fv":e.update=this.setUniform4fv.bind(this);break;case"mat2":e.update=this.setUniformMatrix2fv.bind(this);break;case"mat3":e.update=this.setUniformMatrix3fv.bind(this);break;case"mat4":e.update=this.setUniformMatrix4fv.bind(this);break;default:this.renderer.production||W(this.type+": This uniform type is not handled : ",e.type)}}setInternalFormat(e){e.value.type==="Vec2"?(e._internalFormat="Vec2",e.lastValue=e.value.clone()):e.value.type==="Vec3"?(e._internalFormat="Vec3",e.lastValue=e.value.clone()):e.value.type==="Mat4"?(e._internalFormat="Mat4",e.lastValue=e.value.clone()):e.value.type==="Quat"?(e._internalFormat="Quat",e.lastValue=e.value.clone()):Array.isArray(e.value)?(e._internalFormat="array",e.lastValue=Array.from(e.value)):e.value.constructor===Float32Array?(e._internalFormat="mat",e.lastValue=e.value):(e._internalFormat="float",e.lastValue=e.value)}setUniforms(){if(this.uniforms)for(const e in this.uniforms){let t=this.uniforms[e];t.location=this.gl.getUniformLocation(this.program,t.name),t._internalFormat||this.setInternalFormat(t),t.type||(t._internalFormat==="Vec2"?t.type="2f":t._internalFormat==="Vec3"?t.type="3f":t._internalFormat==="Mat4"?t.type="mat4":t._internalFormat==="array"?t.value.length===4?(t.type="4f",this.renderer.production||W(this.type+": No uniform type declared for "+t.name+", applied a 4f (array of 4 floats) uniform type")):t.value.length===3?(t.type="3f",this.renderer.production||W(this.type+": No uniform type declared for "+t.name+", applied a 3f (array of 3 floats) uniform type")):t.value.length===2&&(t.type="2f",this.renderer.production||W(this.type+": No uniform type declared for "+t.name+", applied a 2f (array of 2 floats) uniform type")):t._internalFormat==="mat"?t.value.length===16?(t.type="mat4",this.renderer.production||W(this.type+": No uniform type declared for "+t.name+", applied a mat4 (4x4 matrix array) uniform type")):t.value.length===9?(t.type="mat3",this.renderer.production||W(this.type+": No uniform type declared for "+t.name+", applied a mat3 (3x3 matrix array) uniform type")):t.value.length===4&&(t.type="mat2",this.renderer.production||W(this.type+": No uniform type declared for "+t.name+", applied a mat2 (2x2 matrix array) uniform type")):(t.type="1f",this.renderer.production||W(this.type+": No uniform type declared for "+t.name+", applied a 1f (float) uniform type"))),this.handleUniformSetting(t),t.update&&t.update(t)}}updateUniforms(){if(this.uniforms)for(const e in this.uniforms){const t=this.uniforms[e];let i=!1;t._internalFormat==="Vec2"||t._internalFormat==="Vec3"||t._internalFormat==="Quat"?t.value.equals(t.lastValue)||(i=!0,t.lastValue.copy(t.value)):t.value.length?JSON.stringify(t.value)!==JSON.stringify(t.lastValue)&&(i=!0,t.lastValue=Array.from(t.value)):t.value!==t.lastValue&&(i=!0,t.lastValue=t.value),i&&t.update&&t.update(t)}}setUniform1i(e){this.gl.uniform1i(e.location,e.value)}setUniform1iv(e){this.gl.uniform1iv(e.location,e.value)}setUniform1f(e){this.gl.uniform1f(e.location,e.value)}setUniform1fv(e){this.gl.uniform1fv(e.location,e.value)}setUniform2i(e){e._internalFormat==="Vec2"?this.gl.uniform2i(e.location,e.value.x,e.value.y):this.gl.uniform2i(e.location,e.value[0],e.value[1])}setUniform2iv(e){e._internalFormat==="Vec2"?this.gl.uniform2iv(e.location,[e.value.x,e.value.y]):this.gl.uniform2iv(e.location,e.value)}setUniform2f(e){e._internalFormat==="Vec2"?this.gl.uniform2f(e.location,e.value.x,e.value.y):this.gl.uniform2f(e.location,e.value[0],e.value[1])}setUniform2fv(e){e._internalFormat==="Vec2"?this.gl.uniform2fv(e.location,[e.value.x,e.value.y]):this.gl.uniform2fv(e.location,e.value)}setUniform3i(e){e._internalFormat==="Vec3"?this.gl.uniform3i(e.location,e.value.x,e.value.y,e.value.z):this.gl.uniform3i(e.location,e.value[0],e.value[1],e.value[2])}setUniform3iv(e){e._internalFormat==="Vec3"?this.gl.uniform3iv(e.location,[e.value.x,e.value.y,e.value.z]):this.gl.uniform3iv(e.location,e.value)}setUniform3f(e){e._internalFormat==="Vec3"?this.gl.uniform3f(e.location,e.value.x,e.value.y,e.value.z):this.gl.uniform3f(e.location,e.value[0],e.value[1],e.value[2])}setUniform3fv(e){e._internalFormat==="Vec3"?this.gl.uniform3fv(e.location,[e.value.x,e.value.y,e.value.z]):this.gl.uniform3fv(e.location,e.value)}setUniform4i(e){e._internalFormat==="Quat"?this.gl.uniform4i(e.location,e.value.elements[0],e.value.elements[1],e.value.elements[2],e.value[3]):this.gl.uniform4i(e.location,e.value[0],e.value[1],e.value[2],e.value[3])}setUniform4iv(e){e._internalFormat==="Quat"?this.gl.uniform4iv(e.location,[e.value.elements[0],e.value.elements[1],e.value.elements[2],e.value[3]]):this.gl.uniform4iv(e.location,e.value)}setUniform4f(e){e._internalFormat==="Quat"?this.gl.uniform4f(e.location,e.value.elements[0],e.value.elements[1],e.value.elements[2],e.value[3]):this.gl.uniform4f(e.location,e.value[0],e.value[1],e.value[2],e.value[3])}setUniform4fv(e){e._internalFormat==="Quat"?this.gl.uniform4fv(e.location,[e.value.elements[0],e.value.elements[1],e.value.elements[2],e.value[3]]):this.gl.uniform4fv(e.location,e.value)}setUniformMatrix2fv(e){this.gl.uniformMatrix2fv(e.location,!1,e.value)}setUniformMatrix3fv(e){this.gl.uniformMatrix3fv(e.location,!1,e.value)}setUniformMatrix4fv(e){e._internalFormat==="Mat4"?this.gl.uniformMatrix4fv(e.location,!1,e.value.elements):this.gl.uniformMatrix4fv(e.location,!1,e.value)}}const Df=`
precision mediump float;
`;var js=Df.replace(/\n/g,"");const Lf=`
attribute vec3 aVertexPosition;
attribute vec2 aTextureCoord;
`;var dl=Lf.replace(/\n/g,"");const If=`
varying vec3 vVertexPosition;
varying vec2 vTextureCoord;
`;var Hs=If.replace(/\n/g,"");const zf=js+dl+Hs+`
uniform mat4 uMVMatrix;
uniform mat4 uPMatrix;

void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
}
`;var Uf=zf.replace(/\n/g,"");const Nf=js+Hs+`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
}
`;var Vf=Nf.replace(/\n/g,"");const Bf=js+dl+Hs+`
void main() {
    vTextureCoord = aTextureCoord;
    vVertexPosition = aVertexPosition;
    
    gl_Position = vec4(aVertexPosition, 1.0);
}
`;var Wf=Bf.replace(/\n/g,"");const jf=js+Hs+`
uniform sampler2D uRenderTexture;

void main() {
    gl_FragColor = texture2D(uRenderTexture, vTextureCoord);
}
`;var Hf=jf.replace(/\n/g,"");let ya=0;class ba{constructor(e,{parent:t,vertexShader:i,fragmentShader:r}={}){if(this.type="Program",!e||e.type!=="Renderer")Re(this.type+": Renderer not passed as first argument",e);else if(!e.gl){Re(this.type+": Renderer WebGL context is undefined",e);return}this.renderer=e,this.gl=this.renderer.gl,this.parent=t,this.defaultVsCode=this.parent.type==="Plane"?Uf:Wf,this.defaultFsCode=this.parent.type==="Plane"?Vf:Hf,i?this.vsCode=i:(!this.renderer.production&&this.parent.type==="Plane"&&W(this.parent.type+": No vertex shader provided, will use a default one"),this.vsCode=this.defaultVsCode),r?this.fsCode=r:(this.renderer.production||W(this.parent.type+": No fragment shader provided, will use a default one"),this.fsCode=this.defaultFsCode),this.compiled=!0,this.setupProgram()}createShader(e,t){const i=this.gl.createShader(t);if(this.gl.shaderSource(i,e),this.gl.compileShader(i),!this.renderer.production&&!this.gl.getShaderParameter(i,this.gl.COMPILE_STATUS)){const r=t===this.gl.VERTEX_SHADER?"vertex shader":"fragment shader";let a=this.gl.getShaderSource(i).split(`
`);for(let o=0;o<a.length;o++)a[o]=o+1+": "+a[o];return a=a.join(`
`),W(this.type+": Errors occurred while compiling the",r,`:
`,this.gl.getShaderInfoLog(i)),Re(a),W(this.type+": Will use a default",r),this.createShader(t===this.gl.VERTEX_SHADER?this.defaultVsCode:this.defaultFsCode,t)}return i}useNewShaders(){this.vertexShader=this.createShader(this.vsCode,this.gl.VERTEX_SHADER),this.fragmentShader=this.createShader(this.fsCode,this.gl.FRAGMENT_SHADER),(!this.vertexShader||!this.fragmentShader)&&(this.renderer.production||W(this.type+": Unable to find or compile the vertex or fragment shader"))}setupProgram(){let e=this.renderer.cache.getProgramFromShaders(this.vsCode,this.fsCode);e?(this.vertexShader=e.vertexShader,this.fragmentShader=e.fragmentShader,this.activeUniforms=e.activeUniforms,this.activeAttributes=e.activeAttributes,this.createProgram()):(this.useNewShaders(),this.compiled&&(this.createProgram(),this.renderer.cache.addProgram(this)))}createProgram(){if(ya++,this.id=ya,this.program=this.gl.createProgram(),this.gl.attachShader(this.program,this.vertexShader),this.gl.attachShader(this.program,this.fragmentShader),this.gl.linkProgram(this.program),!this.renderer.production&&!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS)){W(this.type+": Unable to initialize the shader program: "+this.gl.getProgramInfoLog(this.program)),W(this.type+": Will use default vertex and fragment shaders"),this.vertexShader=this.createShader(this.defaultVsCode,this.gl.VERTEX_SHADER),this.fragmentShader=this.createShader(this.defaultFsCode,this.gl.FRAGMENT_SHADER),this.createProgram();return}if(this.gl.deleteShader(this.vertexShader),this.gl.deleteShader(this.fragmentShader),!this.activeUniforms||!this.activeAttributes){this.activeUniforms={textures:[],textureMatrices:[]};const e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let i=0;i<e;i++){const r=this.gl.getActiveUniform(this.program,i);r.type===this.gl.SAMPLER_2D&&this.activeUniforms.textures.push(r.name),r.type===this.gl.FLOAT_MAT4&&r.name!=="uMVMatrix"&&r.name!=="uPMatrix"&&this.activeUniforms.textureMatrices.push(r.name)}this.activeAttributes=[];const t=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let i=0;i<t;i++){const r=this.gl.getActiveAttrib(this.program,i);this.activeAttributes.push(r.name)}}}createUniforms(e){this.uniformsManager=new kf(this.renderer,this.program,e),this.setUniforms()}setUniforms(){this.renderer.useProgram(this),this.uniformsManager.setUniforms()}updateUniforms(){this.renderer.useProgram(this),this.uniformsManager.updateUniforms()}}class Xf{constructor(e,{program:t=null,width:i=1,height:r=1}={}){if(this.type="Geometry",!e||e.type!=="Renderer")Re(this.type+": Renderer not passed as first argument",e);else if(!e.gl){Re(this.type+": Renderer WebGL context is undefined",e);return}this.renderer=e,this.gl=this.renderer.gl,this.definition={id:i*r+i,width:i,height:r},this.setDefaultAttributes(),this.setVerticesUVs()}restoreContext(e){this.program=null,this.setDefaultAttributes(),this.setVerticesUVs(),this.setProgram(e)}setDefaultAttributes(){this.attributes={vertexPosition:{name:"aVertexPosition",size:3,isActive:!1},textureCoord:{name:"aTextureCoord",size:3,isActive:!1}}}setVerticesUVs(){const e=this.renderer.cache.getGeometryFromID(this.definition.id);e?(this.attributes.vertexPosition.array=e.vertices,this.attributes.textureCoord.array=e.uvs):(this.computeVerticesUVs(),this.renderer.cache.addGeometry(this.definition.id,this.attributes.vertexPosition.array,this.attributes.textureCoord.array))}setProgram(e){this.program=e,this.initAttributes(),this.renderer._isWebGL2?(this._vao=this.gl.createVertexArray(),this.gl.bindVertexArray(this._vao)):this.renderer.extensions.OES_vertex_array_object&&(this._vao=this.renderer.extensions.OES_vertex_array_object.createVertexArrayOES(),this.renderer.extensions.OES_vertex_array_object.bindVertexArrayOES(this._vao)),this.initializeBuffers()}initAttributes(){for(const e in this.attributes){if(this.attributes[e].isActive=this.program.activeAttributes.includes(this.attributes[e].name),!this.attributes[e].isActive)return;this.attributes[e].location=this.gl.getAttribLocation(this.program.program,this.attributes[e].name),this.attributes[e].buffer=this.gl.createBuffer(),this.attributes[e].numberOfItems=this.definition.width*this.definition.height*this.attributes[e].size*2}}computeVerticesUVs(){this.attributes.vertexPosition.array=[],this.attributes.textureCoord.array=[];const e=this.attributes.vertexPosition.array,t=this.attributes.textureCoord.array;for(let i=0;i<this.definition.height;i++){const r=i/this.definition.height;for(let n=0;n<this.definition.width;n++){const a=n/this.definition.width;t.push(a),t.push(r),t.push(0),e.push((a-.5)*2),e.push((r-.5)*2),e.push(0),t.push(a+1/this.definition.width),t.push(r),t.push(0),e.push((a+1/this.definition.width-.5)*2),e.push((r-.5)*2),e.push(0),t.push(a),t.push(r+1/this.definition.height),t.push(0),e.push((a-.5)*2),e.push((r+1/this.definition.height-.5)*2),e.push(0),t.push(a),t.push(r+1/this.definition.height),t.push(0),e.push((a-.5)*2),e.push((r+1/this.definition.height-.5)*2),e.push(0),t.push(a+1/this.definition.width),t.push(r),t.push(0),e.push((a+1/this.definition.width-.5)*2),e.push((r-.5)*2),e.push(0),t.push(a+1/this.definition.width),t.push(r+1/this.definition.height),t.push(0),e.push((a+1/this.definition.width-.5)*2),e.push((r+1/this.definition.height-.5)*2),e.push(0)}}}initializeBuffers(){if(!!this.attributes){for(const e in this.attributes){if(!this.attributes[e].isActive)return;this.gl.enableVertexAttribArray(this.attributes[e].location),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attributes[e].buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array(this.attributes[e].array),this.gl.STATIC_DRAW),this.gl.vertexAttribPointer(this.attributes[e].location,this.attributes[e].size,this.gl.FLOAT,!1,0,0)}this.renderer.state.currentGeometryID=this.definition.id}}bindBuffers(){if(this._vao)this.renderer._isWebGL2?this.gl.bindVertexArray(this._vao):this.renderer.extensions.OES_vertex_array_object.bindVertexArrayOES(this._vao);else for(const e in this.attributes){if(!this.attributes[e].isActive)return;this.gl.enableVertexAttribArray(this.attributes[e].location),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attributes[e].buffer),this.gl.vertexAttribPointer(this.attributes[e].location,this.attributes[e].size,this.gl.FLOAT,!1,0,0)}this.renderer.state.currentGeometryID=this.definition.id}draw(){this.gl.drawArrays(this.gl.TRIANGLES,0,this.attributes.vertexPosition.numberOfItems)}dispose(){this._vao&&(this.renderer._isWebGL2?this.gl.deleteVertexArray(this._vao):this.renderer.extensions.OES_vertex_array_object.deleteVertexArrayOES(this._vao));for(const e in this.attributes){if(!this.attributes[e].isActive)return;this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.attributes[e].buffer),this.gl.bufferData(this.gl.ARRAY_BUFFER,1,this.gl.STATIC_DRAW),this.gl.deleteBuffer(this.attributes[e].buffer)}this.attributes=null,this.renderer.state.currentGeometryID=null}}class ft{constructor(e=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])){this.type="Mat4",this.elements=e}setFromArray(e){for(let t=0;t<this.elements.length;t++)this.elements[t]=e[t];return this}copy(e){const t=e.elements;return this.elements[0]=t[0],this.elements[1]=t[1],this.elements[2]=t[2],this.elements[3]=t[3],this.elements[4]=t[4],this.elements[5]=t[5],this.elements[6]=t[6],this.elements[7]=t[7],this.elements[8]=t[8],this.elements[9]=t[9],this.elements[10]=t[10],this.elements[11]=t[11],this.elements[12]=t[12],this.elements[13]=t[13],this.elements[14]=t[14],this.elements[15]=t[15],this}clone(){return new ft().copy(this)}multiply(e){const t=this.elements,i=e.elements;let r=new ft;return r.elements[0]=i[0]*t[0]+i[1]*t[4]+i[2]*t[8]+i[3]*t[12],r.elements[1]=i[0]*t[1]+i[1]*t[5]+i[2]*t[9]+i[3]*t[13],r.elements[2]=i[0]*t[2]+i[1]*t[6]+i[2]*t[10]+i[3]*t[14],r.elements[3]=i[0]*t[3]+i[1]*t[7]+i[2]*t[11]+i[3]*t[15],r.elements[4]=i[4]*t[0]+i[5]*t[4]+i[6]*t[8]+i[7]*t[12],r.elements[5]=i[4]*t[1]+i[5]*t[5]+i[6]*t[9]+i[7]*t[13],r.elements[6]=i[4]*t[2]+i[5]*t[6]+i[6]*t[10]+i[7]*t[14],r.elements[7]=i[4]*t[3]+i[5]*t[7]+i[6]*t[11]+i[7]*t[15],r.elements[8]=i[8]*t[0]+i[9]*t[4]+i[10]*t[8]+i[11]*t[12],r.elements[9]=i[8]*t[1]+i[9]*t[5]+i[10]*t[9]+i[11]*t[13],r.elements[10]=i[8]*t[2]+i[9]*t[6]+i[10]*t[10]+i[11]*t[14],r.elements[11]=i[8]*t[3]+i[9]*t[7]+i[10]*t[11]+i[11]*t[15],r.elements[12]=i[12]*t[0]+i[13]*t[4]+i[14]*t[8]+i[15]*t[12],r.elements[13]=i[12]*t[1]+i[13]*t[5]+i[14]*t[9]+i[15]*t[13],r.elements[14]=i[12]*t[2]+i[13]*t[6]+i[14]*t[10]+i[15]*t[14],r.elements[15]=i[12]*t[3]+i[13]*t[7]+i[14]*t[11]+i[15]*t[15],r}getInverse(){const e=this.elements,t=new ft,i=t.elements;let r=e[0],n=e[1],a=e[2],o=e[3],l=e[4],h=e[5],u=e[6],c=e[7],f=e[8],d=e[9],x=e[10],_=e[11],m=e[12],y=e[13],T=e[14],w=e[15],P=r*h-n*l,v=r*u-a*l,C=r*c-o*l,O=n*u-a*h,R=n*c-o*h,S=a*c-o*u,I=f*y-d*m,B=f*T-x*m,H=f*w-_*m,G=d*T-x*y,$=d*w-_*y,J=x*w-_*T,U=P*J-v*$+C*G+O*H-R*B+S*I;return U?(U=1/U,i[0]=(h*J-u*$+c*G)*U,i[1]=(a*$-n*J-o*G)*U,i[2]=(y*S-T*R+w*O)*U,i[3]=(x*R-d*S-_*O)*U,i[4]=(u*H-l*J-c*B)*U,i[5]=(r*J-a*H+o*B)*U,i[6]=(T*C-m*S-w*v)*U,i[7]=(f*S-x*C+_*v)*U,i[8]=(l*$-h*H+c*I)*U,i[9]=(n*H-r*$-o*I)*U,i[10]=(m*R-y*C+w*P)*U,i[11]=(d*C-f*R-_*P)*U,i[12]=(h*B-l*G-u*I)*U,i[13]=(r*G-n*B+a*I)*U,i[14]=(y*v-m*O-T*P)*U,i[15]=(f*O-d*v+x*P)*U,t):null}scale(e){let t=this.elements;return t[0]*=e.x,t[1]*=e.x,t[2]*=e.x,t[3]*=e.x,t[4]*=e.y,t[5]*=e.y,t[6]*=e.y,t[7]*=e.y,t[8]*=e.z,t[9]*=e.z,t[10]*=e.z,t[11]*=e.z,this}compose(e,t,i){let r=this.elements;const n=t.elements[0],a=t.elements[1],o=t.elements[2],l=t.elements[3],h=n+n,u=a+a,c=o+o,f=n*h,d=n*u,x=n*c,_=a*u,m=a*c,y=o*c,T=l*h,w=l*u,P=l*c,v=i.x,C=i.y,O=i.z;return r[0]=(1-(_+y))*v,r[1]=(d+P)*v,r[2]=(x-w)*v,r[3]=0,r[4]=(d-P)*C,r[5]=(1-(f+y))*C,r[6]=(m+T)*C,r[7]=0,r[8]=(x+w)*O,r[9]=(m-T)*O,r[10]=(1-(f+_))*O,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}composeFromOrigin(e,t,i,r){let n=this.elements;const a=t.elements[0],o=t.elements[1],l=t.elements[2],h=t.elements[3],u=a+a,c=o+o,f=l+l,d=a*u,x=a*c,_=a*f,m=o*c,y=o*f,T=l*f,w=h*u,P=h*c,v=h*f,C=i.x,O=i.y,R=i.z,S=r.x,I=r.y,B=r.z,H=(1-(m+T))*C,G=(x+v)*C,$=(_-P)*C,J=(x-v)*O,U=(1-(d+T))*O,X=(y+w)*O,K=(_+P)*R,ce=(y-w)*R,Ve=(1-(d+m))*R;return n[0]=H,n[1]=G,n[2]=$,n[3]=0,n[4]=J,n[5]=U,n[6]=X,n[7]=0,n[8]=K,n[9]=ce,n[10]=Ve,n[11]=0,n[12]=e.x+S-(H*S+J*I+K*B),n[13]=e.y+I-(G*S+U*I+ce*B),n[14]=e.z+B-($*S+X*I+Ve*B),n[15]=1,this}}class Pt{constructor(e=0,t=e){this.type="Vec2",this._x=e,this._y=t}get x(){return this._x}get y(){return this._y}set x(e){const t=e!==this._x;this._x=e,t&&this._onChangeCallback&&this._onChangeCallback()}set y(e){const t=e!==this._y;this._y=e,t&&this._onChangeCallback&&this._onChangeCallback()}onChange(e){return e&&(this._onChangeCallback=e),this}set(e,t){return this._x=e,this._y=t,this}add(e){return this._x+=e.x,this._y+=e.y,this}addScalar(e){return this._x+=e,this._y+=e,this}sub(e){return this._x-=e.x,this._y-=e.y,this}subScalar(e){return this._x-=e,this._y-=e,this}multiply(e){return this._x*=e.x,this._y*=e.y,this}multiplyScalar(e){return this._x*=e,this._y*=e,this}copy(e){return this._x=e.x,this._y=e.y,this}clone(){return new Pt(this._x,this._y)}sanitizeNaNValuesWith(e){return this._x=isNaN(this._x)?e.x:parseFloat(this._x),this._y=isNaN(this._y)?e.y:parseFloat(this._y),this}max(e){return this._x=Math.max(this._x,e.x),this._y=Math.max(this._y,e.y),this}min(e){return this._x=Math.min(this._x,e.x),this._y=Math.min(this._y,e.y),this}equals(e){return this._x===e.x&&this._y===e.y}normalize(){let e=this._x*this._x+this._y*this._y;return e>0&&(e=1/Math.sqrt(e)),this._x*=e,this._y*=e,this}dot(e){return this._x*e.x+this._y*e.y}}class he{constructor(e=0,t=e,i=e){this.type="Vec3",this._x=e,this._y=t,this._z=i}get x(){return this._x}get y(){return this._y}get z(){return this._z}set x(e){const t=e!==this._x;this._x=e,t&&this._onChangeCallback&&this._onChangeCallback()}set y(e){const t=e!==this._y;this._y=e,t&&this._onChangeCallback&&this._onChangeCallback()}set z(e){const t=e!==this._z;this._z=e,t&&this._onChangeCallback&&this._onChangeCallback()}onChange(e){return e&&(this._onChangeCallback=e),this}set(e,t,i){return this._x=e,this._y=t,this._z=i,this}add(e){return this._x+=e.x,this._y+=e.y,this._z+=e.z,this}addScalar(e){return this._x+=e,this._y+=e,this._z+=e,this}sub(e){return this._x-=e.x,this._y-=e.y,this._z-=e.z,this}subScalar(e){return this._x-=e,this._y-=e,this._z-=e,this}multiply(e){return this._x*=e.x,this._y*=e.y,this._z*=e.z,this}multiplyScalar(e){return this._x*=e,this._y*=e,this._z*=e,this}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this}clone(){return new he(this._x,this._y,this._z)}sanitizeNaNValuesWith(e){return this._x=isNaN(this._x)?e.x:parseFloat(this._x),this._y=isNaN(this._y)?e.y:parseFloat(this._y),this._z=isNaN(this._z)?e.z:parseFloat(this._z),this}max(e){return this._x=Math.max(this._x,e.x),this._y=Math.max(this._y,e.y),this._z=Math.max(this._z,e.z),this}min(e){return this._x=Math.min(this._x,e.x),this._y=Math.min(this._y,e.y),this._z=Math.min(this._z,e.z),this}equals(e){return this._x===e.x&&this._y===e.y&&this._z===e.z}normalize(){let e=this._x*this._x+this._y*this._y+this._z*this._z;return e>0&&(e=1/Math.sqrt(e)),this._x*=e,this._y*=e,this._z*=e,this}dot(e){return this._x*e.x+this._y*e.y+this._z*e.z}applyMat4(e){const t=this._x,i=this._y,r=this._z,n=e.elements;let a=n[3]*t+n[7]*i+n[11]*r+n[15];return a=a||1,this._x=(n[0]*t+n[4]*i+n[8]*r+n[12])/a,this._y=(n[1]*t+n[5]*i+n[9]*r+n[13])/a,this._z=(n[2]*t+n[6]*i+n[10]*r+n[14])/a,this}applyQuat(e){const t=this._x,i=this._y,r=this._z,n=e.elements[0],a=e.elements[1],o=e.elements[2],l=e.elements[3],h=l*t+a*r-o*i,u=l*i+o*t-n*r,c=l*r+n*i-a*t,f=-n*t-a*i-o*r;return this._x=h*l+f*-n+u*-o-c*-a,this._y=u*l+f*-a+c*-n-h*-o,this._z=c*l+f*-o+h*-a-u*-n,this}project(e){return this.applyMat4(e.viewMatrix).applyMat4(e.projectionMatrix),this}unproject(e){return this.applyMat4(e.projectionMatrix.getInverse()).applyMat4(e.worldMatrix),this}}const ur=new Pt,Gf=new he,Yf=new ft;class Ii{constructor(e,{isFBOTexture:t=!1,fromTexture:i=!1,loader:r,sampler:n,floatingPoint:a="none",premultiplyAlpha:o=!1,anisotropy:l=1,generateMipmap:h=null,wrapS:u,wrapT:c,minFilter:f,magFilter:d}={}){if(this.type="Texture",e=e&&e.renderer||e,!e||e.type!=="Renderer")Re(this.type+": Renderer not passed as first argument",e);else if(!e.gl){e.production||Re(this.type+": Unable to create a "+this.type+" because the Renderer WebGL context is not defined");return}if(this.renderer=e,this.gl=this.renderer.gl,this.uuid=fl(),this._globalParameters={unpackAlignment:4,flipY:!t,premultiplyAlpha:!1,shouldPremultiplyAlpha:o,floatingPoint:a,type:this.gl.UNSIGNED_BYTE,internalFormat:this.gl.RGBA,format:this.gl.RGBA},this.parameters={anisotropy:l,generateMipmap:h,wrapS:u||this.gl.CLAMP_TO_EDGE,wrapT:c||this.gl.CLAMP_TO_EDGE,minFilter:f||this.gl.LINEAR,magFilter:d||this.gl.LINEAR,_shouldUpdate:!0},this._initState(),this.sourceType=t?"fbo":"empty",this._useCache=!0,this._samplerName=n,this._sampler={isActive:!1,isTextureBound:!1,texture:this.gl.createTexture()},this._textureMatrix={matrix:new ft,isActive:!1},this._size={width:1,height:1},this.scale=new Pt(1),this.scale.onChange(()=>this.resize()),this.offset=new Pt,this.offset.onChange(()=>this.resize()),this._loader=r,this._sourceLoaded=!1,this._uploaded=!1,this._willUpdate=!1,this.shouldUpdate=!1,this._forceUpdate=!1,this.userData={},this._canDraw=!1,i){this._copyOnInit=!0,this._copiedFrom=i;return}this._copyOnInit=!1,this._initTexture()}_initState(){this._state={anisotropy:1,generateMipmap:!1,wrapS:null,wrapT:null,minFilter:null,magFilter:this.gl.LINEAR}}_initTexture(){this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.sourceType==="empty"&&(this._globalParameters.flipY=!1,this._updateGlobalTexParameters(),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.RGBA,1,1,0,this.gl.RGBA,this.gl.UNSIGNED_BYTE,new Uint8Array([0,0,0,255])),this._canDraw=!0)}_restoreFromTexture(){this._copyOnInit||this._initTexture(),this._parent&&(this._setTextureUniforms(),this._setSize()),this.copy(this._copiedFrom),this._canDraw=!0}_restoreContext(){if(this._canDraw=!1,this._sampler.texture=this.gl.createTexture(),this._sampler.isActive=!1,this._sampler.isTextureBound=!1,this._textureMatrix.isActive=!1,this._initState(),this._state.generateMipmap=!1,this.parameters._shouldUpdate=!0,!this._copiedFrom)this._initTexture(),this._parent&&this._setParent(),this.source&&(this.setSource(this.source),this.sourceType==="image"?this.renderer.cache.addTexture(this):this.needUpdate()),this._canDraw=!0;else{const e=this.renderer.nextRender.add(()=>{this._copiedFrom._canDraw&&(this._restoreFromTexture(),e.keep=!1)},!0)}}addParent(e){if(!e||e.type!=="Plane"&&e.type!=="PingPongPlane"&&e.type!=="ShaderPass"&&e.type!=="RenderTarget"){this.renderer.production||W(this.type+": cannot add texture as a child of ",e," because it is not a valid parent");return}this._parent=e,this.index=this._parent.textures.length,this._parent.textures.push(this),this._setParent()}_setParent(){if(this._sampler.name=this._samplerName||"uSampler"+this.index,this._textureMatrix.name=this._samplerName?this._samplerName+"Matrix":"uTextureMatrix"+this.index,this._parent._program){if(!this._parent._program.compiled){this.renderer.production||W(this.type+": Unable to create the texture because the program is not valid");return}if(this._setTextureUniforms(),this._copyOnInit){const e=this.renderer.nextRender.add(()=>{this._copiedFrom._canDraw&&this._copiedFrom._uploaded&&(this.copy(this._copiedFrom),e.keep=!1)},!0);return}this.source?this._parent.loader&&this._parent.loader._addSourceToParent(this.source,this.sourceType):this._size={width:this._parent._boundingRect.document.width,height:this._parent._boundingRect.document.height},this._setSize()}else this._parent.type==="RenderTarget"&&(this._size={width:this._parent._size&&this._parent._size.width||this.renderer._boundingRect.width,height:this._parent._size&&this._parent._size.height||this.renderer._boundingRect.height},this._upload(),this._updateTexParameters(),this._canDraw=!0)}hasParent(){return!!this._parent}_setTextureUniforms(){const e=this._parent._program.activeUniforms;for(let t=0;t<e.textures.length;t++)e.textures[t]===this._sampler.name&&(this._sampler.isActive=!0,this.renderer.useProgram(this._parent._program),this._sampler.location=this.gl.getUniformLocation(this._parent._program.program,this._sampler.name),e.textureMatrices.find(r=>r===this._textureMatrix.name)&&(this._textureMatrix.isActive=!0,this._textureMatrix.location=this.gl.getUniformLocation(this._parent._program.program,this._textureMatrix.name)),this.gl.uniform1i(this._sampler.location,this.index))}copy(e){if(!e||e.type!=="Texture"){this.renderer.production||W(this.type+": Unable to set the texture from texture:",e);return}this._globalParameters=Object.assign({},e._globalParameters),this._state=Object.assign({},e._state),this.parameters.generateMipmap=e.parameters.generateMipmap,this._state.generateMipmap=null,this._size=e._size,!this._sourceLoaded&&e._sourceLoaded&&this._onSourceLoadedCallback&&this._onSourceLoadedCallback(),this._sourceLoaded=e._sourceLoaded,!this._uploaded&&e._uploaded&&this._onSourceUploadedCallback&&this._onSourceUploadedCallback(),this._uploaded=e._uploaded,this.sourceType=e.sourceType,this.source=e.source,this._videoFrameCallbackID=e._videoFrameCallbackID,this._sampler.texture=e._sampler.texture,this._copiedFrom=e,this._parent&&this._parent._program&&(!this._canDraw||!this._textureMatrix.matrix)&&(this._setSize(),this._canDraw=!0),this._updateTexParameters(),this.renderer.needRender()}setSource(e){this._sourceLoaded||this.renderer.nextRender.add(()=>this._onSourceLoadedCallback&&this._onSourceLoadedCallback());const t=e.tagName.toUpperCase()==="IMG"?"image":e.tagName.toLowerCase();if((t==="video"||t==="canvas")&&(this._useCache=!1),this._useCache){const i=this.renderer.cache.getTextureFromSource(e);if(i&&i.uuid!==this.uuid){this._uploaded||(this.renderer.nextRender.add(()=>this._onSourceUploadedCallback&&this._onSourceUploadedCallback()),this._uploaded=!0),this.copy(i),this.resize();return}}if(this.sourceType==="empty"||this.sourceType!==t)if(t==="video")this._willUpdate=!1,this.shouldUpdate=!0;else if(t==="canvas")this._willUpdate=!0,this.shouldUpdate=!0;else if(t==="image")this._willUpdate=!1,this.shouldUpdate=!1;else{this.renderer.production||W(this.type+": this HTML tag could not be converted into a texture:",e.tagName);return}this.source=e,this.sourceType=t,this._size={width:this.source.naturalWidth||this.source.width||this.source.videoWidth,height:this.source.naturalHeight||this.source.height||this.source.videoHeight},this._sourceLoaded=!0,this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.resize(),this._globalParameters.flipY=!0,this._globalParameters.premultiplyAlpha=this._globalParameters.shouldPremultiplyAlpha,this.sourceType==="image"&&(this.parameters.generateMipmap=this.parameters.generateMipmap||this.parameters.generateMipmap===null,this.parameters._shouldUpdate=this.parameters.generateMipmap,this._state.generateMipmap=!1,this._upload()),this.renderer.needRender()}_updateGlobalTexParameters(){this.renderer.state.unpackAlignment!==this._globalParameters.unpackAlignment&&(this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,this._globalParameters.unpackAlignment),this.renderer.state.unpackAlignment=this._globalParameters.unpackAlignment),this.renderer.state.flipY!==this._globalParameters.flipY&&(this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,this._globalParameters.flipY),this.renderer.state.flipY=this._globalParameters.flipY),this.renderer.state.premultiplyAlpha!==this._globalParameters.premultiplyAlpha&&(this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this._globalParameters.premultiplyAlpha),this.renderer.state.premultiplyAlpha=this._globalParameters.premultiplyAlpha),this._globalParameters.floatingPoint==="half-float"?this.renderer._isWebGL2&&this.renderer.extensions.EXT_color_buffer_float?(this._globalParameters.internalFormat=this.gl.RGBA16F,this._globalParameters.type=this.gl.HALF_FLOAT):this.renderer.extensions.OES_texture_half_float?this._globalParameters.type=this.renderer.extensions.OES_texture_half_float.HALF_FLOAT_OES:this.renderer.production||W(this.type+": could not use half-float textures because the extension is not available"):this._globalParameters.floatingPoint==="float"&&(this.renderer._isWebGL2&&this.renderer.extensions.EXT_color_buffer_float?(this._globalParameters.internalFormat=this.gl.RGBA16F,this._globalParameters.type=this.gl.FLOAT):this.renderer.extensions.OES_texture_float?this._globalParameters.type=this.renderer.extensions.OES_texture_half_float.FLOAT:this.renderer.production||W(this.type+": could not use float textures because the extension is not available"))}_updateTexParameters(){this.index&&this.renderer.state.activeTexture!==this.index&&this._bindTexture(),this.parameters.wrapS!==this._state.wrapS&&(!this.renderer._isWebGL2&&(!at(this._size.width)||!at(this._size.height))&&(this.parameters.wrapS=this.gl.CLAMP_TO_EDGE),this.parameters.wrapS!==this.gl.REPEAT&&this.parameters.wrapS!==this.gl.CLAMP_TO_EDGE&&this.parameters.wrapS!==this.gl.MIRRORED_REPEAT&&(this.renderer.production||W(this.type+": Wrong wrapS value",this.parameters.wrapS,"for this texture:",this,`
gl.CLAMP_TO_EDGE wrapping will be used instead`),this.parameters.wrapS=this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.parameters.wrapS),this._state.wrapS=this.parameters.wrapS),this.parameters.wrapT!==this._state.wrapT&&(!this.renderer._isWebGL2&&(!at(this._size.width)||!at(this._size.height))&&(this.parameters.wrapT=this.gl.CLAMP_TO_EDGE),this.parameters.wrapT!==this.gl.REPEAT&&this.parameters.wrapT!==this.gl.CLAMP_TO_EDGE&&this.parameters.wrapT!==this.gl.MIRRORED_REPEAT&&(this.renderer.production||W(this.type+": Wrong wrapT value",this.parameters.wrapT,"for this texture:",this,`
gl.CLAMP_TO_EDGE wrapping will be used instead`),this.parameters.wrapT=this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.parameters.wrapT),this._state.wrapT=this.parameters.wrapT),this.parameters.generateMipmap&&!this._state.generateMipmap&&this.source&&(!this.renderer._isWebGL2&&(!at(this._size.width)||!at(this._size.height))?this.parameters.generateMipmap=!1:this.gl.generateMipmap(this.gl.TEXTURE_2D),this._state.generateMipmap=this.parameters.generateMipmap),this.parameters.minFilter!==this._state.minFilter&&(!this.renderer._isWebGL2&&(!at(this._size.width)||!at(this._size.height))&&(this.parameters.minFilter=this.gl.LINEAR),!this.parameters.generateMipmap&&this.parameters.generateMipmap!==null&&(this.parameters.minFilter=this.gl.LINEAR),this.parameters.minFilter!==this.gl.LINEAR&&this.parameters.minFilter!==this.gl.NEAREST&&this.parameters.minFilter!==this.gl.NEAREST_MIPMAP_NEAREST&&this.parameters.minFilter!==this.gl.LINEAR_MIPMAP_NEAREST&&this.parameters.minFilter!==this.gl.NEAREST_MIPMAP_LINEAR&&this.parameters.minFilter!==this.gl.LINEAR_MIPMAP_LINEAR&&(this.renderer.production||W(this.type+": Wrong minFilter value",this.parameters.minFilter,"for this texture:",this,`
gl.LINEAR filtering will be used instead`),this.parameters.minFilter=this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.parameters.minFilter),this._state.minFilter=this.parameters.minFilter),this.parameters.magFilter!==this._state.magFilter&&(!this.renderer._isWebGL2&&(!at(this._size.width)||!at(this._size.height))&&(this.parameters.magFilter=this.gl.LINEAR),this.parameters.magFilter!==this.gl.LINEAR&&this.parameters.magFilter!==this.gl.NEAREST&&(this.renderer.production||W(this.type+": Wrong magFilter value",this.parameters.magFilter,"for this texture:",this,`
gl.LINEAR filtering will be used instead`),this.parameters.magFilter=this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.parameters.magFilter),this._state.magFilter=this.parameters.magFilter);const e=this.renderer.extensions.EXT_texture_filter_anisotropic;if(e&&this.parameters.anisotropy!==this._state.anisotropy){const t=this.gl.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT);this.parameters.anisotropy=Math.max(1,Math.min(this.parameters.anisotropy,t)),this.gl.texParameterf(this.gl.TEXTURE_2D,e.TEXTURE_MAX_ANISOTROPY_EXT,this.parameters.anisotropy),this._state.anisotropy=this.parameters.anisotropy}}setWrapS(e){this.parameters.wrapS!==e&&(this.parameters.wrapS=e,this.parameters._shouldUpdate=!0)}setWrapT(e){this.parameters.wrapT!==e&&(this.parameters.wrapT=e,this.parameters._shouldUpdate=!0)}setMinFilter(e){this.parameters.minFilter!==e&&(this.parameters.minFilter=e,this.parameters._shouldUpdate=!0)}setMagFilter(e){this.parameters.magFilter!==e&&(this.parameters.magFilter=e,this.parameters._shouldUpdate=!0)}setAnisotropy(e){e=isNaN(e)?this.parameters.anisotropy:e,this.parameters.anisotropy!==e&&(this.parameters.anisotropy=e,this.parameters._shouldUpdate=!0)}needUpdate(){this._forceUpdate=!0}_videoFrameCallback(){this._willUpdate=!0,this.source.requestVideoFrameCallback(()=>this._videoFrameCallback())}_upload(){this._updateGlobalTexParameters(),this.source?this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._globalParameters.format,this._globalParameters.type,this.source):this.sourceType==="fbo"&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._size.width,this._size.height,0,this._globalParameters.format,this._globalParameters.type,this.source||null),this._uploaded||(this.renderer.nextRender.add(()=>this._onSourceUploadedCallback&&this._onSourceUploadedCallback()),this._uploaded=!0)}_getSizes(){if(this.sourceType==="fbo")return{parentWidth:this._parent._boundingRect.document.width,parentHeight:this._parent._boundingRect.document.height,sourceWidth:this._parent._boundingRect.document.width,sourceHeight:this._parent._boundingRect.document.height,xOffset:0,yOffset:0};const e=this._parent.scale?ur.set(this._parent.scale.x,this._parent.scale.y):ur.set(1,1),t=this._parent._boundingRect.document.width*e.x,i=this._parent._boundingRect.document.height*e.y,r=this._size.width,n=this._size.height,a=r/n,o=t/i;let l=0,h=0;return o>a?h=Math.min(0,i-t*(1/a)):o<a&&(l=Math.min(0,t-i*a)),{parentWidth:t,parentHeight:i,sourceWidth:r,sourceHeight:n,xOffset:l,yOffset:h}}setScale(e){if(!e.type||e.type!=="Vec2"){this.renderer.production||W(this.type+": Cannot set scale because the parameter passed is not of Vec2 type:",e);return}e.sanitizeNaNValuesWith(this.scale).max(ur.set(.001,.001)),e.equals(this.scale)||(this.scale.copy(e),this.resize())}setOffset(e){if(!e.type||e.type!=="Vec2"){this.renderer.production||W(this.type+": Cannot set offset because the parameter passed is not of Vec2 type:",scale);return}e.sanitizeNaNValuesWith(this.offset),e.equals(this.offset)||(this.offset.copy(e),this.resize())}_setSize(){if(this._parent&&this._parent._program){const e=this._getSizes();this._updateTextureMatrix(e)}}resize(){this.sourceType==="fbo"?(this._size={width:this._parent._size&&this._parent._size.width||this._parent._boundingRect.document.width,height:this._parent._size&&this._parent._size.height||this._parent._boundingRect.document.height},this._copiedFrom||(this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this._globalParameters.internalFormat,this._size.width,this._size.height,0,this._globalParameters.format,this._globalParameters.type,null))):this.source&&(this._size={width:this.source.naturalWidth||this.source.width||this.source.videoWidth,height:this.source.naturalHeight||this.source.height||this.source.videoHeight}),this._setSize()}_updateTextureMatrix(e){const t=Gf.set(e.parentWidth/(e.parentWidth-e.xOffset),e.parentHeight/(e.parentHeight-e.yOffset),1);t.x/=this.scale.x,t.y/=this.scale.y,this._textureMatrix.matrix=Yf.setFromArray([t.x,0,0,0,0,t.y,0,0,0,0,1,0,(1-t.x)/2+this.offset.x,(1-t.y)/2+this.offset.y,0,1]),this._updateMatrixUniform()}_updateMatrixUniform(){this._textureMatrix.isActive&&(this.renderer.useProgram(this._parent._program),this.gl.uniformMatrix4fv(this._textureMatrix.location,!1,this._textureMatrix.matrix.elements))}_onSourceLoaded(e){this.setSource(e),this.sourceType==="image"&&this.renderer.cache.addTexture(this)}_bindTexture(){this._canDraw&&(this.renderer.state.activeTexture!==this.index&&(this.gl.activeTexture(this.gl.TEXTURE0+this.index),this.renderer.state.activeTexture=this.index),this.gl.bindTexture(this.gl.TEXTURE_2D,this._sampler.texture),this._sampler.isTextureBound||(this._sampler.isTextureBound=!!this.gl.getParameter(this.gl.TEXTURE_BINDING_2D),this._sampler.isTextureBound&&this.renderer.needRender()))}_draw(){this._sampler.isActive&&(this._bindTexture(),this.sourceType==="video"&&this.source&&!this._videoFrameCallbackID&&this.source.readyState>=this.source.HAVE_CURRENT_DATA&&!this.source.paused&&(this._willUpdate=!0),(this._forceUpdate||this._willUpdate&&this.shouldUpdate)&&(this._state.generateMipmap=!1,this._upload()),this.sourceType==="video"&&(this._willUpdate=!1),this._forceUpdate=!1),this.parameters._shouldUpdate&&(this._updateTexParameters(),this.parameters._shouldUpdate=!1)}onSourceLoaded(e){return e&&(this._onSourceLoadedCallback=e),this}onSourceUploaded(e){return e&&(this._onSourceUploadedCallback=e),this}_dispose(e=!1){this.sourceType==="video"||this.sourceType==="image"&&!this.renderer.state.isActive?(this._loader&&this._loader._removeSource(this),this.source=null):this.sourceType==="canvas"&&(this.source.width=this.source.width,this.source=null),this._parent=null,this.gl&&!this._copiedFrom&&(e||this.sourceType!=="image"||!this.renderer.state.isActive)&&(this._canDraw=!1,this.renderer.cache.removeTexture(this),this.gl.activeTexture(this.gl.TEXTURE0+this.index),this.gl.bindTexture(this.gl.TEXTURE_2D,null),this.gl.deleteTexture(this._sampler.texture))}}class qf{constructor(e,t="anonymous"){if(this.type="TextureLoader",e=e&&e.renderer||e,!e||e.type!=="Renderer")Re(this.type+": Renderer not passed as first argument",e);else if(!e.gl){Re(this.type+": Renderer WebGL context is undefined",e);return}this.renderer=e,this.gl=this.renderer.gl,this.crossOrigin=t,this.elements=[]}_addElement(e,t,i,r){const n={source:e,texture:t,load:this._sourceLoaded.bind(this,e,t,i),error:this._sourceLoadError.bind(this,e,r)};return this.elements.push(n),n}_sourceLoadError(e,t,i){t&&t(e,i)}_sourceLoaded(e,t,i){t._sourceLoaded||(t._onSourceLoaded(e),this._parent&&(this._increment&&this._increment(),this.renderer.nextRender.add(()=>this._parent._onLoadingCallback&&this._parent._onLoadingCallback(t))),i&&i(t))}_getSourceType(e){let t;return typeof e=="string"?e.match(/\.(jpeg|jpg|jfif|pjpeg|pjp|gif|bmp|png|webp|svg|avif|apng)$/)!==null?t="image":e.match(/\.(webm|mp4|mpg|mpeg|avi|ogg|ogm|ogv|mov|av1)$/)!==null&&(t="video"):e.tagName.toUpperCase()==="IMG"?t="image":e.tagName.toUpperCase()==="VIDEO"?t="video":e.tagName.toUpperCase()==="CANVAS"&&(t="canvas"),t}_createImage(e){if(typeof e=="string"||!e.hasAttribute("crossOrigin")){const t=new Image;return t.crossOrigin=this.crossOrigin,typeof e=="string"?t.src=e:(t.src=e.src,e.hasAttribute("data-sampler")&&t.setAttribute("data-sampler",e.getAttribute("data-sampler"))),t}else return e}_createVideo(e){if(typeof e=="string"||e.getAttribute("crossOrigin")===null){const t=document.createElement("video");return t.crossOrigin=this.crossOrigin,typeof e=="string"?t.src=e:(t.src=e.src,e.hasAttribute("data-sampler")&&t.setAttribute("data-sampler",e.getAttribute("data-sampler"))),t}else return e}loadSource(e,t,i,r){switch(this._getSourceType(e)){case"image":this.loadImage(e,t,i,r);break;case"video":this.loadVideo(e,t,i,r);break;case"canvas":this.loadCanvas(e,t,i);break;default:this._sourceLoadError(e,r,"this source could not be converted into a texture: "+e);break}}loadSources(e,t,i,r){for(let n=0;n<e.length;n++)this.loadSource(e[n],t,i,r)}loadImage(e,t={},i,r){const n=this.renderer.cache.getTextureFromSource(e);let a=Object.assign({},t);if(this._parent&&(a=Object.assign(a,this._parent._texturesOptions)),a.loader=this,n){a.sampler=typeof e!="string"&&e.hasAttribute("data-sampler")?e.getAttribute("data-sampler"):a.sampler,a.fromTexture=n;const u=new Ii(this.renderer,a);this._sourceLoaded(n.source,u,i),this._parent&&this._addToParent(u,n.source,"image");return}const o=this._createImage(e);a.sampler=o.hasAttribute("data-sampler")?o.getAttribute("data-sampler"):a.sampler;const l=new Ii(this.renderer,a),h=this._addElement(o,l,i,r);o.complete?this._sourceLoaded(o,l,i):o.decode?o.decode().then(this._sourceLoaded.bind(this,o,l,i)).catch(()=>{o.addEventListener("load",h.load,!1),o.addEventListener("error",h.error,!1)}):(o.addEventListener("load",h.load,!1),o.addEventListener("error",h.error,!1)),this._parent&&this._addToParent(l,o,"image")}loadImages(e,t,i,r){for(let n=0;n<e.length;n++)this.loadImage(e[n],t,i,r)}loadVideo(e,t={},i,r){const n=this._createVideo(e);n.preload=!0,n.muted=!0,n.loop=!0,n.setAttribute("playsinline",""),n.crossOrigin=this.crossOrigin;let a=Object.assign({},t);this._parent&&(a=Object.assign(t,this._parent._texturesOptions)),a.loader=this,a.sampler=n.hasAttribute("data-sampler")?n.getAttribute("data-sampler"):a.sampler;const o=new Ii(this.renderer,a),l=this._addElement(n,o,i,r);n.addEventListener("canplaythrough",l.load,!1),n.addEventListener("error",l.error,!1),n.readyState>=n.HAVE_FUTURE_DATA&&i&&this._sourceLoaded(n,o,i),n.load(),this._addToParent&&this._addToParent(o,n,"video"),"requestVideoFrameCallback"in HTMLVideoElement.prototype&&(l.videoFrameCallback=o._videoFrameCallback.bind(o),o._videoFrameCallbackID=n.requestVideoFrameCallback(l.videoFrameCallback))}loadVideos(e,t,i,r){for(let n=0;n<e.length;n++)this.loadVideo(e[n],t,i,r)}loadCanvas(e,t={},i){let r=Object.assign({},t);this._parent&&(r=Object.assign(t,this._parent._texturesOptions)),r.loader=this,r.sampler=e.hasAttribute("data-sampler")?e.getAttribute("data-sampler"):r.sampler;const n=new Ii(this.renderer,r);this._addElement(e,n,i,null),this._sourceLoaded(e,n,i),this._parent&&this._addToParent(n,e,"canvas")}loadCanvases(e,t,i){for(let r=0;r<e.length;r++)this.loadCanvas(e[r],t,i)}_removeSource(e){const t=this.elements.find(i=>i.texture.uuid===e.uuid);t&&(e.sourceType==="image"?t.source.removeEventListener("load",t.load,!1):e.sourceType==="video"&&(t.videoFrameCallback&&e._videoFrameCallbackID&&t.source.cancelVideoFrameCallback(e._videoFrameCallbackID),t.source.removeEventListener("canplaythrough",t.load,!1),t.source.pause(),t.source.removeAttribute("src"),t.source.load()),t.source.removeEventListener("error",t.error,!1))}}class $f extends qf{constructor(e,t,{sourcesLoaded:i=0,sourcesToLoad:r=0,complete:n=!1,onComplete:a=()=>{}}={}){super(e,t.crossOrigin),this.type="PlaneTextureLoader",this._parent=t,this._parent.type!=="Plane"&&this._parent.type!=="PingPongPlane"&&this._parent.type!=="ShaderPass"&&(W(this.type+": Wrong parent type assigned to this loader"),this._parent=null),this.sourcesLoaded=i,this.sourcesToLoad=r,this.complete=n,this.onComplete=a}_setLoaderSize(e){this.sourcesToLoad=e,this.sourcesToLoad===0&&(this.complete=!0,this.renderer.nextRender.add(()=>this.onComplete&&this.onComplete()))}_increment(){this.sourcesLoaded++,this.sourcesLoaded>=this.sourcesToLoad&&!this.complete&&(this.complete=!0,this.renderer.nextRender.add(()=>this.onComplete&&this.onComplete()))}_addSourceToParent(e,t){if(t==="image"){const i=this._parent.images;!i.find(n=>n.src===e.src)&&i.push(e)}else if(t==="video"){const i=this._parent.videos;!i.find(n=>n.src===e.src)&&i.push(e)}else if(t==="canvas"){const i=this._parent.canvases;!i.find(n=>n.isSameNode(e))&&i.push(e)}}_addToParent(e,t,i){this._addSourceToParent(t,i),this._parent&&e.addParent(this._parent)}}class Kf{constructor(e,t="Mesh",{vertexShaderID:i,fragmentShaderID:r,vertexShader:n,fragmentShader:a,uniforms:o={},widthSegments:l=1,heightSegments:h=1,renderOrder:u=0,depthTest:c=!0,cullFace:f="back",texturesOptions:d={},crossOrigin:x="anonymous"}={}){if(this.type=t,e=e&&e.renderer||e,(!e||e.type!=="Renderer")&&(Re(this.type+": Curtains not passed as first argument or Curtains Renderer is missing",e),setTimeout(()=>{this._onErrorCallback&&this._onErrorCallback()},0)),this.renderer=e,this.gl=this.renderer.gl,!this.gl){this.renderer.production||Re(this.type+": Unable to create a "+this.type+" because the Renderer WebGL context is not defined"),setTimeout(()=>{this._onErrorCallback&&this._onErrorCallback()},0);return}this._canDraw=!1,this.renderOrder=u,this._depthTest=c,this.cullFace=f,this.cullFace!=="back"&&this.cullFace!=="front"&&this.cullFace!=="none"&&(this.cullFace="back"),this.textures=[],this._texturesOptions=Object.assign({premultiplyAlpha:!1,anisotropy:1,floatingPoint:"none",wrapS:this.gl.CLAMP_TO_EDGE,wrapT:this.gl.CLAMP_TO_EDGE,minFilter:this.gl.LINEAR,magFilter:this.gl.LINEAR},d),this.crossOrigin=x,!n&&i&&document.getElementById(i)&&(n=document.getElementById(i).innerHTML),!a&&r&&document.getElementById(r)&&(a=document.getElementById(r).innerHTML),this._initMesh(),l=parseInt(l),h=parseInt(h),this._geometry=new Xf(this.renderer,{width:l,height:h}),this._program=new ba(this.renderer,{parent:this,vertexShader:n,fragmentShader:a}),this._program.compiled?(this._program.createUniforms(o),this.uniforms=this._program.uniformsManager.uniforms,this._geometry.setProgram(this._program),this.renderer.onSceneChange()):this.renderer.nextRender.add(()=>this._onErrorCallback&&this._onErrorCallback())}_initMesh(){this.uuid=fl(),this.loader=new $f(this.renderer,this,{sourcesLoaded:0,initSourcesToLoad:0,complete:!1,onComplete:()=>{this._onReadyCallback&&this._onReadyCallback(),this.renderer.needRender()}}),this.images=[],this.videos=[],this.canvases=[],this.userData={},this._canDraw=!0}_restoreContext(){this._canDraw=!1,this._matrices&&(this._matrices=null),this._program=new ba(this.renderer,{parent:this,vertexShader:this._program.vsCode,fragmentShader:this._program.fsCode}),this._program.compiled&&(this._geometry.restoreContext(this._program),this._program.createUniforms(this.uniforms),this.uniforms=this._program.uniformsManager.uniforms,this._programRestored())}setRenderTarget(e){if(!e||e.type!=="RenderTarget"){this.renderer.production||W(this.type+": Could not set the render target because the argument passed is not a RenderTarget class object",e);return}this.type==="Plane"&&this.renderer.scene.removePlane(this),this.target=e,this.type==="Plane"&&this.renderer.scene.addPlane(this)}setRenderOrder(e=0){e=isNaN(e)?this.renderOrder:parseInt(e),e!==this.renderOrder&&(this.renderOrder=e,this.renderer.scene.setPlaneRenderOrder(this))}createTexture(e={}){const t=new Ii(this.renderer,Object.assign(this._texturesOptions,e));return t.addParent(this),t}addTexture(e){if(!e||e.type!=="Texture"){this.renderer.production||W(this.type+": cannot add ",e," to this "+this.type+" because it is not a valid texture");return}e.addParent(this)}loadSources(e,t={},i,r){for(let n=0;n<e.length;n++)this.loadSource(e[n],t,i,r)}loadSource(e,t={},i,r){this.loader.loadSource(e,Object.assign(t,this._texturesOptions),n=>{i&&i(n)},(n,a)=>{this.renderer.production||W(this.type+": this HTML tag could not be converted into a texture:",n.tagName),r&&r(n,a)})}loadImage(e,t={},i,r){this.loader.loadImage(e,Object.assign(t,this._texturesOptions),n=>{i&&i(n)},(n,a)=>{this.renderer.production||W(this.type+`: There has been an error:
`,a,`
while loading this image:
`,n),r&&r(n,a)})}loadVideo(e,t={},i,r){this.loader.loadVideo(e,Object.assign(t,this._texturesOptions),n=>{i&&i(n)},(n,a)=>{this.renderer.production||W(this.type+`: There has been an error:
`,a,`
while loading this video:
`,n),r&&r(n,a)})}loadCanvas(e,t={},i){this.loader.loadCanvas(e,Object.assign(t,this._texturesOptions),r=>{i&&i(r)})}loadImages(e,t={},i,r){for(let n=0;n<e.length;n++)this.loadImage(e[n],t,i,r)}loadVideos(e,t={},i,r){for(let n=0;n<e.length;n++)this.loadVideo(e[n],t,i,r)}loadCanvases(e,t={},i){for(let r=0;r<e.length;r++)this.loadCanvas(e[r],t,i)}playVideos(){for(let e=0;e<this.textures.length;e++){const t=this.textures[e];if(t.sourceType==="video"){const i=t.source.play();i!==void 0&&i.catch(r=>{this.renderer.production||W(this.type+": Could not play the video : ",r)})}}}_draw(){this.renderer.setDepthTest(this._depthTest),this.renderer.setFaceCulling(this.cullFace),this._program.updateUniforms(),this._geometry.bindBuffers(),this.renderer.state.forceBufferUpdate=!1;for(let e=0;e<this.textures.length;e++)if(this.textures[e]._draw(),this.textures[e]._sampler.isActive&&!this.textures[e]._sampler.isTextureBound)return;this._geometry.draw(),this.renderer.state.activeTexture=null,this._onAfterRenderCallback&&this._onAfterRenderCallback()}onError(e){return e&&(this._onErrorCallback=e),this}onLoading(e){return e&&(this._onLoadingCallback=e),this}onReady(e){return e&&(this._onReadyCallback=e),this}onRender(e){return e&&(this._onRenderCallback=e),this}onAfterRender(e){return e&&(this._onAfterRenderCallback=e),this}remove(){this._canDraw=!1,this.target&&this.renderer.bindFrameBuffer(null),this._dispose(),this.type==="Plane"?this.renderer.removePlane(this):this.type==="ShaderPass"&&(this.target&&(this.target._shaderPass=null,this.target.remove(),this.target=null),this.renderer.removeShaderPass(this))}_dispose(){if(this.gl){this._geometry&&this._geometry.dispose(),this.target&&this.type==="ShaderPass"&&(this.renderer.removeRenderTarget(this.target),this.textures.shift());for(let e=0;e<this.textures.length;e++)this.textures[e]._dispose();this.textures=[]}}}const va=new Pt,Qf=new Pt;class Zf extends Kf{constructor(e,t,i="DOMMesh",{widthSegments:r,heightSegments:n,renderOrder:a,depthTest:o,cullFace:l,uniforms:h,vertexShaderID:u,fragmentShaderID:c,vertexShader:f,fragmentShader:d,texturesOptions:x,crossOrigin:_}={}){u=u||t&&t.getAttribute("data-vs-id"),c=c||t&&t.getAttribute("data-fs-id"),super(e,i,{widthSegments:r,heightSegments:n,renderOrder:a,depthTest:o,cullFace:l,uniforms:h,vertexShaderID:u,fragmentShaderID:c,vertexShader:f,fragmentShader:d,texturesOptions:x,crossOrigin:_}),this.gl&&(this.htmlElement=t,(!this.htmlElement||this.htmlElement.length===0)&&(this.renderer.production||W(this.type+": The HTML element you specified does not currently exists in the DOM")),this._setDocumentSizes())}_setDocumentSizes(){let e=this.htmlElement.getBoundingClientRect();this._boundingRect||(this._boundingRect={}),this._boundingRect.document={width:e.width*this.renderer.pixelRatio,height:e.height*this.renderer.pixelRatio,top:e.top*this.renderer.pixelRatio,left:e.left*this.renderer.pixelRatio}}getBoundingRect(){return{width:this._boundingRect.document.width,height:this._boundingRect.document.height,top:this._boundingRect.document.top,left:this._boundingRect.document.left,right:this._boundingRect.document.left+this._boundingRect.document.width,bottom:this._boundingRect.document.top+this._boundingRect.document.height}}resize(){this._setDocumentSizes(),this.type==="Plane"&&(this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._setWorldSizes(),this._applyWorldPositions());for(let e=0;e<this.textures.length;e++)this.textures[e].resize();this.renderer.nextRender.add(()=>this._onAfterResizeCallback&&this._onAfterResizeCallback())}mouseToPlaneCoords(e){const t=this.scale?this.scale:Qf.set(1,1),i=va.set((this._boundingRect.document.width-this._boundingRect.document.width*t.x)/2,(this._boundingRect.document.height-this._boundingRect.document.height*t.y)/2),r={width:this._boundingRect.document.width*t.x/this.renderer.pixelRatio,height:this._boundingRect.document.height*t.y/this.renderer.pixelRatio,top:(this._boundingRect.document.top+i.y)/this.renderer.pixelRatio,left:(this._boundingRect.document.left+i.x)/this.renderer.pixelRatio};return va.set((e.x-r.left)/r.width*2-1,1-(e.y-r.top)/r.height*2)}onAfterResize(e){return e&&(this._onAfterResizeCallback=e),this}}class Jf{constructor({fov:e=50,near:t=.1,far:i=150,width:r,height:n,pixelRatio:a=1}={}){this.position=new he,this.projectionMatrix=new ft,this.worldMatrix=new ft,this.viewMatrix=new ft,this._shouldUpdate=!1,this.setSize(),this.setPerspective(e,t,i,r,n,a)}setFov(e){e=isNaN(e)?this.fov:parseFloat(e),e=Math.max(1,Math.min(e,179)),e!==this.fov&&(this.fov=e,this.setPosition(),this._shouldUpdate=!0),this.setCSSPerspective()}setNear(e){e=isNaN(e)?this.near:parseFloat(e),e=Math.max(e,.01),e!==this.near&&(this.near=e,this._shouldUpdate=!0)}setFar(e){e=isNaN(e)?this.far:parseFloat(e),e=Math.max(e,50),e!==this.far&&(this.far=e,this._shouldUpdate=!0)}setPixelRatio(e){e!==this.pixelRatio&&(this._shouldUpdate=!0),this.pixelRatio=e}setSize(e,t){(e!==this.width||t!==this.height)&&(this._shouldUpdate=!0),this.width=e,this.height=t}setPerspective(e,t,i,r,n,a){this.setPixelRatio(a),this.setSize(r,n),this.setFov(e),this.setNear(t),this.setFar(i),this._shouldUpdate&&this.updateProjectionMatrix()}setPosition(){this.position.set(0,0,1),this.worldMatrix.setFromArray([1,0,0,0,0,1,0,0,0,0,1,0,this.position.x,this.position.y,this.position.z,1]),this.viewMatrix=this.viewMatrix.copy(this.worldMatrix).getInverse()}setCSSPerspective(){this.CSSPerspective=Math.pow(Math.pow(this.width/(2*this.pixelRatio),2)+Math.pow(this.height/(2*this.pixelRatio),2),.5)/Math.tan(this.fov*.5*Math.PI/180)}getScreenRatiosFromFov(e=0){const t=this.position.z;e<t?e-=t:e+=t;const i=this.fov*Math.PI/180,r=2*Math.tan(i/2)*Math.abs(e);return{width:r*this.width/this.height,height:r}}updateProjectionMatrix(){const e=this.width/this.height,t=this.near*Math.tan(Math.PI/180*.5*this.fov),i=2*t,r=e*i,n=-.5*r,a=n+r,o=t-i,l=2*this.near/(a-n),h=2*this.near/(t-o),u=(a+n)/(a-n),c=(t+o)/(t-o),f=-(this.far+this.near)/(this.far-this.near),d=-2*this.far*this.near/(this.far-this.near);this.projectionMatrix.setFromArray([l,0,0,0,0,h,0,0,u,c,f,-1,0,0,d,0])}forceUpdate(){this._shouldUpdate=!0}cancelUpdate(){this._shouldUpdate=!1}}class Xs{constructor(e=new Float32Array([0,0,0,1]),t="XYZ"){this.type="Quat",this.elements=e,this.axisOrder=t}setFromArray(e){return this.elements[0]=e[0],this.elements[1]=e[1],this.elements[2]=e[2],this.elements[3]=e[3],this}setAxisOrder(e){switch(e=e.toUpperCase(),e){case"XYZ":case"YXZ":case"ZXY":case"ZYX":case"YZX":case"XZY":this.axisOrder=e;break;default:this.axisOrder="XYZ"}return this}copy(e){return this.elements=e.elements,this.axisOrder=e.axisOrder,this}clone(){return new Xs().copy(this)}equals(e){return this.elements[0]===e.elements[0]&&this.elements[1]===e.elements[1]&&this.elements[2]===e.elements[2]&&this.elements[3]===e.elements[3]&&this.axisOrder===e.axisOrder}setFromVec3(e){const t=e.x*.5,i=e.y*.5,r=e.z*.5,n=Math.cos(t),a=Math.cos(i),o=Math.cos(r),l=Math.sin(t),h=Math.sin(i),u=Math.sin(r);return this.axisOrder==="XYZ"?(this.elements[0]=l*a*o+n*h*u,this.elements[1]=n*h*o-l*a*u,this.elements[2]=n*a*u+l*h*o,this.elements[3]=n*a*o-l*h*u):this.axisOrder==="YXZ"?(this.elements[0]=l*a*o+n*h*u,this.elements[1]=n*h*o-l*a*u,this.elements[2]=n*a*u-l*h*o,this.elements[3]=n*a*o+l*h*u):this.axisOrder==="ZXY"?(this.elements[0]=l*a*o-n*h*u,this.elements[1]=n*h*o+l*a*u,this.elements[2]=n*a*u+l*h*o,this.elements[3]=n*a*o-l*h*u):this.axisOrder==="ZYX"?(this.elements[0]=l*a*o-n*h*u,this.elements[1]=n*h*o+l*a*u,this.elements[2]=n*a*u-l*h*o,this.elements[3]=n*a*o+l*h*u):this.axisOrder==="YZX"?(this.elements[0]=l*a*o+n*h*u,this.elements[1]=n*h*o+l*a*u,this.elements[2]=n*a*u-l*h*o,this.elements[3]=n*a*o-l*h*u):this.axisOrder==="XZY"&&(this.elements[0]=l*a*o-n*h*u,this.elements[1]=n*h*o-l*a*u,this.elements[2]=n*a*u+l*h*o,this.elements[3]=n*a*o+l*h*u),this}}const ed=new Pt,td=new he,id=new he,sd=new he,rd=new he,nd=new he,ad=new he,We=new he,je=new he,wa=new Xs,od=new he(.5,.5,0),ld=new he,hd=new he,ud=new he,cd=new he,fd=new Pt;class dd extends Zf{constructor(e,t,{widthSegments:i,heightSegments:r,renderOrder:n,depthTest:a,cullFace:o,uniforms:l,vertexShaderID:h,fragmentShaderID:u,vertexShader:c,fragmentShader:f,texturesOptions:d,crossOrigin:x,alwaysDraw:_=!1,visible:m=!0,transparent:y=!1,drawCheckMargins:T={top:0,right:0,bottom:0,left:0},autoloadSources:w=!0,watchScroll:P=!0,fov:v=50}={}){super(e,t,"Plane",{widthSegments:i,heightSegments:r,renderOrder:n,depthTest:a,cullFace:o,uniforms:l,vertexShaderID:h,fragmentShaderID:u,vertexShader:c,fragmentShader:f,texturesOptions:d,crossOrigin:x}),this.gl&&(this.index=this.renderer.planes.length,this.target=null,this.alwaysDraw=_,this._shouldDraw=!0,this.visible=m,this._transparent=y,this.drawCheckMargins=T,this.autoloadSources=w,this.watchScroll=P,this._updateMVMatrix=!1,this.camera=new Jf({fov:v,width:this.renderer._boundingRect.width,height:this.renderer._boundingRect.height,pixelRatio:this.renderer.pixelRatio}),this._program.compiled&&(this._initPlane(),this.renderer.scene.addPlane(this),this.renderer.planes.push(this)))}_programRestored(){this.target&&this.setRenderTarget(this.renderer.renderTargets[this.target.index]),this._initMatrices(),this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._setWorldSizes(),this._applyWorldPositions(),this.renderer.scene.addPlane(this);for(let e=0;e<this.textures.length;e++)this.textures[e]._parent=this,this.textures[e]._restoreContext();this._canDraw=!0}_initPlane(){this._initTransformValues(),this._initPositions(),this.setPerspective(this.camera.fov,this.camera.near,this.camera.far),this._initSources()}_initTransformValues(){this.rotation=new he,this.rotation.onChange(()=>this._applyRotation()),this.quaternion=new Xs,this.relativeTranslation=new he,this.relativeTranslation.onChange(()=>this._setTranslation()),this._translation=new he,this.scale=new he(1),this.scale.onChange(()=>{this.scale.z=1,this._applyScale()}),this.transformOrigin=new he(.5,.5,0),this.transformOrigin.onChange(()=>{this._setWorldTransformOrigin(),this._updateMVMatrix=!0})}resetPlane(e){this._initTransformValues(),this._setWorldTransformOrigin(),e!==null&&!!e?(this.htmlElement=e,this.resize()):!e&&!this.renderer.production&&W(this.type+": You are trying to reset a plane with a HTML element that does not exist. The old HTML element will be kept instead.")}removeRenderTarget(){this.target&&(this.renderer.scene.removePlane(this),this.target=null,this.renderer.scene.addPlane(this))}_initPositions(){this._initMatrices(),this._setWorldSizes(),this._applyWorldPositions()}_initMatrices(){const e=new ft;this._matrices={world:{matrix:e},modelView:{name:"uMVMatrix",matrix:e,location:this.gl.getUniformLocation(this._program.program,"uMVMatrix")},projection:{name:"uPMatrix",matrix:e,location:this.gl.getUniformLocation(this._program.program,"uPMatrix")},modelViewProjection:{matrix:e}}}_setPerspectiveMatrix(){this.camera._shouldUpdate&&(this.renderer.useProgram(this._program),this.gl.uniformMatrix4fv(this._matrices.projection.location,!1,this._matrices.projection.matrix.elements)),this.camera.cancelUpdate()}setPerspective(e,t,i){this.camera.setPerspective(e,t,i,this.renderer._boundingRect.width,this.renderer._boundingRect.height,this.renderer.pixelRatio),this.renderer.state.isContextLost&&this.camera.forceUpdate(),this._matrices.projection.matrix=this.camera.projectionMatrix,this.camera._shouldUpdate&&(this._setWorldSizes(),this._applyWorldPositions(),this._translation.z=this.relativeTranslation.z/this.camera.CSSPerspective),this._updateMVMatrix=this.camera._shouldUpdate}_setMVMatrix(){this._updateMVMatrix&&(this._matrices.world.matrix=this._matrices.world.matrix.composeFromOrigin(this._translation,this.quaternion,this.scale,this._boundingRect.world.transformOrigin),this._matrices.world.matrix.scale({x:this._boundingRect.world.width,y:this._boundingRect.world.height,z:1}),this._matrices.modelView.matrix.copy(this._matrices.world.matrix),this._matrices.modelView.matrix.elements[14]-=this.camera.position.z,this._matrices.modelViewProjection.matrix=this._matrices.projection.matrix.multiply(this._matrices.modelView.matrix),this.alwaysDraw||this._shouldDrawCheck(),this.renderer.useProgram(this._program),this.gl.uniformMatrix4fv(this._matrices.modelView.location,!1,this._matrices.modelView.matrix.elements)),this._updateMVMatrix=!1}_setWorldTransformOrigin(){this._boundingRect.world.transformOrigin=new he((this.transformOrigin.x*2-1)*this._boundingRect.world.width,-(this.transformOrigin.y*2-1)*this._boundingRect.world.height,this.transformOrigin.z)}_documentToWorldSpace(e){return id.set(e.x*this.renderer.pixelRatio/this.renderer._boundingRect.width*this._boundingRect.world.ratios.width,-(e.y*this.renderer.pixelRatio/this.renderer._boundingRect.height)*this._boundingRect.world.ratios.height,e.z)}_setWorldSizes(){const e=this.camera.getScreenRatiosFromFov();this._boundingRect.world={width:this._boundingRect.document.width/this.renderer._boundingRect.width*e.width/2,height:this._boundingRect.document.height/this.renderer._boundingRect.height*e.height/2,ratios:e},this._setWorldTransformOrigin()}_setWorldPosition(){const e={x:this._boundingRect.document.width/2+this._boundingRect.document.left,y:this._boundingRect.document.height/2+this._boundingRect.document.top},t={x:this.renderer._boundingRect.width/2+this.renderer._boundingRect.left,y:this.renderer._boundingRect.height/2+this.renderer._boundingRect.top};this._boundingRect.world.top=(t.y-e.y)/this.renderer._boundingRect.height*this._boundingRect.world.ratios.height,this._boundingRect.world.left=(e.x-t.x)/this.renderer._boundingRect.width*this._boundingRect.world.ratios.width}setScale(e){if(!e.type||e.type!=="Vec2"){this.renderer.production||W(this.type+": Cannot set scale because the parameter passed is not of Vec2 type:",e);return}e.sanitizeNaNValuesWith(this.scale).max(ed.set(.001,.001)),(e.x!==this.scale.x||e.y!==this.scale.y)&&(this.scale.set(e.x,e.y,1),this._applyScale())}_applyScale(){for(let e=0;e<this.textures.length;e++)this.textures[e].resize();this._updateMVMatrix=!0}setRotation(e){if(!e.type||e.type!=="Vec3"){this.renderer.production||W(this.type+": Cannot set rotation because the parameter passed is not of Vec3 type:",e);return}e.sanitizeNaNValuesWith(this.rotation),e.equals(this.rotation)||(this.rotation.copy(e),this._applyRotation())}_applyRotation(){this.quaternion.setFromVec3(this.rotation),this._updateMVMatrix=!0}setTransformOrigin(e){if(!e.type||e.type!=="Vec3"){this.renderer.production||W(this.type+": Cannot set transform origin because the parameter passed is not of Vec3 type:",e);return}e.sanitizeNaNValuesWith(this.transformOrigin),e.equals(this.transformOrigin)||(this.transformOrigin.copy(e),this._setWorldTransformOrigin(),this._updateMVMatrix=!0)}_setTranslation(){let e=td.set(0,0,0);this.relativeTranslation.equals(e)||(e=this._documentToWorldSpace(this.relativeTranslation)),this._translation.set(this._boundingRect.world.left+e.x,this._boundingRect.world.top+e.y,this.relativeTranslation.z/this.camera.CSSPerspective),this._updateMVMatrix=!0}setRelativeTranslation(e){if(!e.type||e.type!=="Vec3"){this.renderer.production||W(this.type+": Cannot set translation because the parameter passed is not of Vec3 type:",e);return}e.sanitizeNaNValuesWith(this.relativeTranslation),e.equals(this.relativeTranslation)||(this.relativeTranslation.copy(e),this._setTranslation())}_applyWorldPositions(){this._setWorldPosition(),this._setTranslation()}updatePosition(){this._setDocumentSizes(),this._applyWorldPositions()}updateScrollPosition(e,t){(e||t)&&(this._boundingRect.document.top+=t*this.renderer.pixelRatio,this._boundingRect.document.left+=e*this.renderer.pixelRatio,this._applyWorldPositions())}_getIntersection(e,t){let i=t.clone().sub(e),r=e.clone();for(;r.z>-1;)r.add(i);return r}_getNearPlaneIntersections(e,t,i){const r=this._matrices.modelViewProjection.matrix;if(i.length===1)i[0]===0?(t[0]=this._getIntersection(t[1],We.set(.95,1,0).applyMat4(r)),t.push(this._getIntersection(t[3],je.set(-1,-.95,0).applyMat4(r)))):i[0]===1?(t[1]=this._getIntersection(t[0],We.set(-.95,1,0).applyMat4(r)),t.push(this._getIntersection(t[2],je.set(1,-.95,0).applyMat4(r)))):i[0]===2?(t[2]=this._getIntersection(t[3],We.set(-.95,-1,0).applyMat4(r)),t.push(this._getIntersection(t[1],je.set(1,.95,0).applyMat4(r)))):i[0]===3&&(t[3]=this._getIntersection(t[2],We.set(.95,-1,0).applyMat4(r)),t.push(this._getIntersection(t[0],je.set(-1,.95,0).applyMat4(r))));else if(i.length===2)i[0]===0&&i[1]===1?(t[0]=this._getIntersection(t[3],We.set(-1,-.95,0).applyMat4(r)),t[1]=this._getIntersection(t[2],je.set(1,-.95,0).applyMat4(r))):i[0]===1&&i[1]===2?(t[1]=this._getIntersection(t[0],We.set(-.95,1,0).applyMat4(r)),t[2]=this._getIntersection(t[3],je.set(-.95,-1,0).applyMat4(r))):i[0]===2&&i[1]===3?(t[2]=this._getIntersection(t[1],We.set(1,.95,0).applyMat4(r)),t[3]=this._getIntersection(t[0],je.set(-1,.95,0).applyMat4(r))):i[0]===0&&i[1]===3&&(t[0]=this._getIntersection(t[1],We.set(.95,1,0).applyMat4(r)),t[3]=this._getIntersection(t[2],je.set(.95,-1,0).applyMat4(r)));else if(i.length===3){let n=0;for(let a=0;a<e.length;a++)i.includes(a)||(n=a);t=[t[n]],n===0?(t.push(this._getIntersection(t[0],We.set(-.95,1,0).applyMat4(r))),t.push(this._getIntersection(t[0],je.set(-1,.95,0).applyMat4(r)))):n===1?(t.push(this._getIntersection(t[0],We.set(.95,1,0).applyMat4(r))),t.push(this._getIntersection(t[0],je.set(1,.95,0).applyMat4(r)))):n===2?(t.push(this._getIntersection(t[0],We.set(.95,-1,0).applyMat4(r))),t.push(this._getIntersection(t[0],je.set(1,-.95,0).applyMat4(r)))):n===3&&(t.push(this._getIntersection(t[0],We.set(-.95,-1,0).applyMat4(r))),t.push(this._getIntersection(t[0],je.set(-1-.95,0).applyMat4(r))))}else for(let n=0;n<e.length;n++)t[n][0]=1e4,t[n][1]=1e4;return t}_getWorldCoords(){const e=[sd.set(-1,1,0),rd.set(1,1,0),nd.set(1,-1,0),ad.set(-1,-1,0)];let t=[],i=[];for(let l=0;l<e.length;l++){const h=e[l].applyMat4(this._matrices.modelViewProjection.matrix);t.push(h),Math.abs(h.z)>1&&i.push(l)}i.length&&(t=this._getNearPlaneIntersections(e,t,i));let r=1/0,n=-1/0,a=1/0,o=-1/0;for(let l=0;l<t.length;l++){const h=t[l];h.x<r&&(r=h.x),h.x>n&&(n=h.x),h.y<a&&(a=h.y),h.y>o&&(o=h.y)}return{top:o,right:n,bottom:a,left:r}}_computeWebGLBoundingRect(){const e=this._getWorldCoords();let t={top:1-(e.top+1)/2,right:(e.right+1)/2,bottom:1-(e.bottom+1)/2,left:(e.left+1)/2};t.width=t.right-t.left,t.height=t.bottom-t.top,this._boundingRect.worldToDocument={width:t.width*this.renderer._boundingRect.width,height:t.height*this.renderer._boundingRect.height,top:t.top*this.renderer._boundingRect.height+this.renderer._boundingRect.top,left:t.left*this.renderer._boundingRect.width+this.renderer._boundingRect.left,right:t.left*this.renderer._boundingRect.width+this.renderer._boundingRect.left+t.width*this.renderer._boundingRect.width,bottom:t.top*this.renderer._boundingRect.height+this.renderer._boundingRect.top+t.height*this.renderer._boundingRect.height}}getWebGLBoundingRect(){if(this._matrices.modelViewProjection)(!this._boundingRect.worldToDocument||this.alwaysDraw)&&this._computeWebGLBoundingRect();else return this._boundingRect.document;return this._boundingRect.worldToDocument}_getWebGLDrawRect(){return this._computeWebGLBoundingRect(),{top:this._boundingRect.worldToDocument.top-this.drawCheckMargins.top,right:this._boundingRect.worldToDocument.right+this.drawCheckMargins.right,bottom:this._boundingRect.worldToDocument.bottom+this.drawCheckMargins.bottom,left:this._boundingRect.worldToDocument.left-this.drawCheckMargins.left}}_shouldDrawCheck(){const e=this._getWebGLDrawRect();Math.round(e.right)<=this.renderer._boundingRect.left||Math.round(e.left)>=this.renderer._boundingRect.left+this.renderer._boundingRect.width||Math.round(e.bottom)<=this.renderer._boundingRect.top||Math.round(e.top)>=this.renderer._boundingRect.top+this.renderer._boundingRect.height?this._shouldDraw&&(this._shouldDraw=!1,this.renderer.nextRender.add(()=>this._onLeaveViewCallback&&this._onLeaveViewCallback())):(this._shouldDraw||this.renderer.nextRender.add(()=>this._onReEnterViewCallback&&this._onReEnterViewCallback()),this._shouldDraw=!0)}isDrawn(){return this._canDraw&&this.visible&&(this._shouldDraw||this.alwaysDraw)}enableDepthTest(e){this._depthTest=e}_initSources(){let e=0;if(this.autoloadSources){const t=this.htmlElement.getElementsByTagName("img"),i=this.htmlElement.getElementsByTagName("video"),r=this.htmlElement.getElementsByTagName("canvas");t.length&&this.loadImages(t),i.length&&this.loadVideos(i),r.length&&this.loadCanvases(r),e=t.length+i.length+r.length}this.loader._setLoaderSize(e),this._canDraw=!0}_startDrawing(){this._canDraw&&(this._onRenderCallback&&this._onRenderCallback(),this.target?this.renderer.bindFrameBuffer(this.target):this.renderer.state.scenePassIndex===null&&this.renderer.bindFrameBuffer(null),this._setPerspectiveMatrix(),this._setMVMatrix(),(this.alwaysDraw||this._shouldDraw)&&this.visible&&this._draw())}mouseToPlaneCoords(e){if(wa.setAxisOrder(this.quaternion.axisOrder),wa.equals(this.quaternion)&&od.equals(this.transformOrigin))return super.mouseToPlaneCoords(e);{const t={x:2*(e.x/(this.renderer._boundingRect.width/this.renderer.pixelRatio))-1,y:2*(1-e.y/(this.renderer._boundingRect.height/this.renderer.pixelRatio))-1},i=this.camera.position.clone(),r=ld.set(t.x,t.y,-.5);r.unproject(this.camera),r.sub(i).normalize();const n=hd.set(0,0,-1);n.applyQuat(this.quaternion).normalize();const a=cd.set(0,0,0),o=n.dot(r);if(Math.abs(o)>=1e-4){const l=this._matrices.world.matrix.getInverse().multiply(this.camera.viewMatrix),h=this._boundingRect.world.transformOrigin.clone().add(this._translation),u=ud.set(this._translation.x-h.x,this._translation.y-h.y,this._translation.z-h.z);u.applyQuat(this.quaternion),h.add(u);const c=n.dot(h.clone().sub(i))/o;a.copy(i.add(r.multiplyScalar(c))),a.applyMat4(l)}else a.set(1/0,1/0,1/0);return fd.set(a.x,a.y)}}onReEnterView(e){return e&&(this._onReEnterViewCallback=e),this}onLeaveView(e){return e&&(this._onLeaveViewCallback=e),this}}let Ze;var _d=s=>({install(e){e.directive("curtains",{mounted(t,i){Ze||(Ze=new Ff({container:"canvas",alpha:!0,pixelRatio:Math.min(1.5,window.devicePixelRatio)}),Ze.onError(function(l){s&&s()}).onContextLost(()=>{Ze.restoreContext()}),e.provide("curtains",Ze));const r={},n=t,a=Cn({uniforms:{transitionTimer:{name:"uTransitionTimer",type:"1f",value:0},fadeIn:{name:"uFadeIn",type:"1f",value:0},timer:{name:"uTimer",type:"1f",value:0},to:{name:"uTo",type:"1f",value:0},from:{name:"uFrom",type:"1f",value:0}}},i.value),o=new dd(Ze,n,a);o.onLoading(l=>{i.value.onLoad&&i.value.onLoad(l)}).onReady(()=>{i.value.onReady&&i.value.onReady(o,Ze,r)}).onRender(()=>{i.value.onRender&&i.value.onRender(o,Ze,r)}).onAfterResize(()=>{i.value.onAfterResize&&i.value.onAfterResize(o,Ze,r)}).onReEnterView(()=>{i.value.onReEnterView&&i.value.onReEnterView(o,Ze,r)}).onLeaveView(()=>{i.value.onLeaveView&&i.value.onLeaveView(o,Ze,r)})}})}});tc(Pf).use(_d()).mount("#app");
